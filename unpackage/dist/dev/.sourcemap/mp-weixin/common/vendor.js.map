{"version":3,"sources":["webpack:///./node_modules/@dcloudio/uni-mp-weixin/dist/index.js?543d","webpack:///./node_modules/@dcloudio/vue-cli-plugin-uni/packages/mp-vue/dist/mp.runtime.esm.js?66fd","webpack:///(webpack)/buildin/global.js?cd00","webpack:///./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js?f0c5","uni-app:///router/index.js","uni-app:///router/modules/home.js","uni-app:///node_modules/uni-simple-router/index.js","uni-app:///node_modules/uni-simple-router/helpers/util.js","uni-app:///node_modules/uni-simple-router/helpers/config.js","uni-app:///node_modules/uni-simple-router/vueRouter/base.js","uni-app:///node_modules/uni-simple-router/helpers/warn.js","uni-app:///node_modules/uni-simple-router/helpers/navJump.js","uni-app:///node_modules/uni-simple-router/appRouter/hooks.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js?a34a","webpack:///./node_modules/regenerator-runtime/runtime-module.js?bbdd","webpack:///./node_modules/regenerator-runtime/runtime.js?96cf","uni-app:///node_modules/uni-simple-router/appRouter/util.js","uni-app:///node_modules/uni-simple-router/appRouter/uniNav.js","uni-app:///node_modules/uni-simple-router/appletsRouter/hooks.js","uni-app:///node_modules/uni-simple-router/appletsRouter/util.js","uni-app:///node_modules/uni-simple-router/helpers/compile.js","uni-app:///node_modules/uni-simple-router/appletsRouter/appletsNav.js","uni-app:///node_modules/uni-simple-router/vueRouter/routerNav.js","uni-app:///node_modules/uni-simple-router/vueRouter/util.js","uni-app:///node_modules/uni-simple-router/vueRouter/proxy/proxy.js","uni-app:///node_modules/uni-simple-router/vueRouter/concat.js","uni-app:///node_modules/uni-simple-router/vueRouter/extends/myArray.js","uni-app:///node_modules/uni-simple-router/lifeCycle/hooks.js","uni-app:///node_modules/uni-simple-router/patch/applets-patch.js","uni-app:///node_modules/uni-simple-router/patch/app-patch.js","uni-app:///node_modules/uni-simple-router/helpers/mixins.js","uni-app:///node_modules/uni-simple-router/vueRouter/init.js","uni-app:///node_modules/uni-simple-router/appRouter/init.js","uni-app:///node_modules/uni-simple-router/appletsRouter/init.js","uni-app:///node_modules/uni-simple-router/helpers/urlQuery.js","webpack:///./node_modules/query-string/index.js?72bf","webpack:///./node_modules/strict-uri-encode/index.js?6453","webpack:///./node_modules/object-assign/index.js?320c","uni-app:///uview-ui/index.js","uni-app:///uview-ui/libs/mixin/mixin.js","uni-app:///uview-ui/libs/request/index.js","uni-app:///uview-ui/libs/function/deepMerge.js","uni-app:///uview-ui/libs/function/deepClone.js","uni-app:///uview-ui/libs/function/test.js","uni-app:///uview-ui/libs/function/queryParams.js","uni-app:///uview-ui/libs/function/route.js","uni-app:///uview-ui/libs/function/timeFormat.js","uni-app:///uview-ui/libs/function/timeFrom.js","uni-app:///uview-ui/libs/function/colorGradient.js","uni-app:///uview-ui/libs/function/guid.js","uni-app:///uview-ui/libs/function/color.js","uni-app:///uview-ui/libs/function/type2icon.js","uni-app:///uview-ui/libs/function/randomArray.js","uni-app:///uview-ui/libs/function/addUnit.js","uni-app:///uview-ui/libs/function/random.js","uni-app:///uview-ui/libs/function/trim.js","uni-app:///uview-ui/libs/function/toast.js","uni-app:///uview-ui/libs/function/getParent.js","uni-app:///uview-ui/libs/function/$parent.js","uni-app:///uview-ui/libs/function/sys.js","uni-app:///uview-ui/libs/function/debounce.js","uni-app:///uview-ui/libs/function/throttle.js","uni-app:///uview-ui/libs/config/config.js","uni-app:///uview-ui/libs/config/zIndex.js"],"names":["_toString","Object","prototype","toString","hasOwnProperty","isFn","fn","isStr","str","isPlainObject","obj","call","hasOwn","key","noop","cached","cache","create","hit","camelizeRE","camelize","replace","_","c","toUpperCase","HOOKS","globalInterceptors","scopedInterceptors","mergeHook","parentVal","childVal","res","concat","Array","isArray","dedupeHooks","hooks","i","length","indexOf","push","removeHook","hook","index","splice","mergeInterceptorHook","interceptor","option","keys","forEach","removeInterceptorHook","addInterceptor","method","removeInterceptor","wrapperHook","data","isPromise","then","queue","promise","Promise","resolve","callback","wrapperOptions","options","name","oldCallback","wrapperReturnValue","returnValue","returnValueHooks","getApiInterceptorHooks","slice","scopedInterceptor","invokeApi","api","params","invoke","promiseInterceptor","catch","SYNC_API_RE","CONTEXT_API_RE","CONTEXT_API_RE_EXC","ASYNC_API","CALLBACK_API_RE","isContextApi","test","isSyncApi","isCallbackApi","handlePromise","err","shouldPromise","promisify","success","fail","complete","reject","assign","finally","this","constructor","value","reason","EPS","BASE_DEVICE_WIDTH","isIOS","deviceWidth","deviceDPR","checkDeviceWidth","wx","getSystemInfoSync","platform","pixelRatio","windowWidth","upx2px","number","newDeviceWidth","Number","result","Math","floor","interceptors","baseApi","freeze","__proto__","EventChannel","id","events","listener","emitCache","on","eventName","args","fns","opt","apply","filter","type","_addListener","_clearCache","cacheArgs","emit","shift","eventChannels","eventChannelStack","initEventChannel","eventChannel","getEventChannel","navigateTo","fromArgs","toArgs","url","fromRes","toRes","findExistsPageIndex","pages","getCurrentPages","len","page","$page","fullPath","redirectTo","exists","delta","existsPageIndex","previewImage","currentIndex","parseInt","current","isNaN","urls","item","indicator","loop","addSafeAreaInsets","safeArea","safeAreaInsets","top","left","right","bottom","windowHeight","protocols","getSystemInfo","todos","canIUses","CALLBACKS","processCallback","methodName","processReturnValue","processArgs","argsOption","keepFromArgs","keyOption","console","warn","keepReturnValue","wrapper","protocol","arg1","arg2","error","todoApis","TODOS","createTodoApi","errMsg","providers","oauth","share","payment","getProvider","service","provider","extraApi","getEmitter","Emitter","Vue","ctx","$on","arguments","$off","$once","$emit","eventApi","MPPage","Page","MPComponent","Component","customizeRE","customize","initTriggerEvent","mpInstance","canIUse","oldTriggerEvent","triggerEvent","event","initHook","oldHook","PAGE_EVENT_HOOKS","initMocks","vm","mocks","$mp","mpType","mock","hasHook","vueOptions","default","extendOptions","super","mixins","find","mixin","initHooks","mpOptions","$vm","__call_hook","initVueComponent","VueComponent","extend","initSlots","vueSlots","$slots","slotName","$scopedSlots","initVueIds","vueIds","split","_$vueId","_$vuePid","initData","context","methods","e","process","VUE_APP_DEBUG","JSON","parse","stringify","__lifecycle_hooks__","PROP_TYPES","String","Boolean","createObserver","newVal","oldVal","initBehaviors","initBehavior","vueBehaviors","behaviors","vueExtends","extends","vueMixins","vueProps","props","behavior","Date","properties","initProperties","vueMixin","parsePropType","defaultValue","file","isBehavior","vueId","generic","observer","setData","opts","wrapper$1","mp","stopPropagation","preventDefault","target","detail","markerId","getExtraValue","dataPathsArray","dataPathArray","dataPath","vFor","propPath","valuePath","isInteger","substr","__get_value","vForItem","vForKey","processEventExtra","extra","extraObj","__args__","getObjByArray","arr","element","processEventArgs","isCustom","isCustomMPEvent","currentTarget","dataset","comType","ret","arg","ONCE","CUSTOM","isMatchEventType","eventType","optType","getContextVm","$parent","$options","$scope","handleEvent","eventOpts","eventOpt","eventsArray","charAt","isOnce","eventArray","handlerCtx","handler","Error","once","parseBaseApp","initRefs","store","$store","mpHost","beforeCreate","appOptions","onLaunch","app","globalData","_isMounted","findVmByVueId","vuePid","parentVm","$children","childVm","Behavior","isPage","route","initRelation","defineProperty","get","$refs","components","selectAllComponents","component","ref","forComponents","handleLink","parent","parseApp","createApp","getOpenerEventChannel","__eventChannel__","callHook","__id__","App","encodeReserveRE","encodeReserveReplacer","charCodeAt","commaRE","encode","encodeURIComponent","stringifyQuery","encodeStr","map","val","undefined","val2","join","x","parseBaseComponent","vueComponentOptions","multipleSlots","addGlobalClass","componentOptions","__file","lifetimes","attached","propsData","$mount","ready","detached","$destroy","pageLifetimes","show","hide","resize","size","__l","__e","externalClasses","wxsCallMethods","callMethod","parseComponent","hooks$1","parseBasePage","vuePageOptions","pageOptions","onLoad","query","copyQuery","is","parsePage","createPage","createComponent","todoApi","canIUseApi","apiName","uni","Proxy","set","uni$1","emptyObject","isUndef","v","isDef","isTrue","isFalse","isPrimitive","isObject","toRawType","isRegExp","isValidArrayIndex","n","parseFloat","isFinite","toNumber","makeMap","expectsLowerCase","list","toLowerCase","isBuiltInTag","isReservedAttribute","remove","capitalize","hyphenateRE","hyphenate","polyfillBind","boundFn","a","l","_length","nativeBind","bind","Function","toArray","start","to","_from","toObject","b","no","identity","looseEqual","isObjectA","isObjectB","isArrayA","isArrayB","every","getTime","keysA","keysB","looseIndexOf","called","ASSET_TYPES","LIFECYCLE_HOOKS","config","optionMergeStrategies","silent","productionTip","devtools","performance","errorHandler","warnHandler","ignoredElements","keyCodes","isReservedTag","isReservedAttr","isUnknownElement","getTagNamespace","parsePlatformTagName","mustUseProp","async","_lifecycleHooks","unicodeRegExp","isReserved","def","enumerable","writable","configurable","bailRE","RegExp","parsePath","path","segments","_isServer","hasProto","inBrowser","window","inWeex","WXEnvironment","weexPlatform","UA","navigator","userAgent","isIE","isEdge","nativeWatch","match","watch","addEventListener","isServerRendering","global","env","VUE_ENV","__VUE_DEVTOOLS_GLOBAL_HOOK__","isNative","Ctor","_Set","hasSymbol","Symbol","Reflect","ownKeys","Set","has","add","clear","tip","generateComponentTrace","formatComponentName","hasConsole","classifyRE","classify","msg","trace","includeFile","$root","cid","_isVue","_componentTag","repeat","tree","currentRecursiveSequence","last","uid","Dep","subs","pushTarget","SharedObject","targetStack","popTarget","pop","addSub","sub","removeSub","depend","addDep","notify","sort","update","VNode","tag","children","text","elm","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","raw","isStatic","isRootInsert","isComment","isCloned","asyncMeta","isAsyncPlaceholder","prototypeAccessors","child","defineProperties","createEmptyVNode","node","createTextVNode","cloneVNode","vnode","cloned","arrayProto","arrayMethods","methodsToPatch","original","inserted","ob","__ob__","observeArray","dep","arrayKeys","getOwnPropertyNames","shouldObserve","toggleObserving","Observer","vmCount","copyAugment","protoAugment","walk","src","observe","asRootData","isExtensible","defineReactive$$1","customSetter","shallow","property","getOwnPropertyDescriptor","getter","setter","childOb","dependArray","max","del","items","strats","mergeData","from","toVal","fromVal","mergeDataOrFn","instanceData","defaultData","mergeAssets","assertObjectType","el","defaultStrat","key$1","inject","computed","provide","checkComponents","validateComponentName","normalizeProps","normalizeInject","normalized","normalizeDirectives","dirs","directives","def$$1","mergeOptions","_base","mergeField","strat","resolveAsset","warnMissing","assets","camelizedId","PascalCaseId","validateProp","propOptions","prop","absent","booleanIndex","getTypeIndex","stringIndex","getPropDefaultValue","prevShouldObserve","assertProp","_props","getType","required","valid","expectedTypes","assertedType","assertType","expectedType","validator","getInvalidTypeMessage","simpleCheckRE","t","isSameType","message","receivedType","expectedValue","styleValue","receivedValue","isExplicable","isBoolean","explicitTypes","some","elem","handleError","info","cur","errorCaptured","capture","globalHandleError","invokeWithErrorHandling","_handled","logError","timerFunc","initProxy","callbacks","pending","flushCallbacks","copies","p","setTimeout","MutationObserver","setImmediate","counter","textNode","document","createTextNode","characterData","nextTick","cb","_resolve","allowedGlobals","warnNonPresent","warnReservedPrefix","hasProxy","isBuiltInModifier","hasHandler","isAllowed","$data","getHandler","handlers","render","_withStripped","_renderProxy","mark","measure","seenObjects","traverse","_traverse","seen","isA","isFrozen","depId","perf","clearMarks","clearMeasures","startTag","endTag","normalizeEvent","passive","once$$1","createFnInvoker","invoker","arguments$1","updateListeners","oldOn","remove$$1","createOnceHandler","old","extractPropertiesFromVNodeData","attrs","altKey","checkProp","extractPropsFromVNodeData","keyInLowerCase","hash","preserve","simpleNormalizeChildren","normalizeChildren","normalizeArrayChildren","isTextNode","nestedIndex","lastIndex","_isVList","initProvide","_provided","initInjections","resolveInject","provideKey","source","provideDefault","resolveSlots","slots","slot","name$1","isWhitespace","normalizeScopedSlots","normalSlots","prevSlots","hasNormalSlots","isStable","$stable","$key","_normalized","$hasNormal","normalizeScopedSlot","key$2","proxyNormalSlot","proxy","renderList","iterator","next","done","renderSlot","fallback","bindObject","nodes","scopedSlotFn","_i","$createElement","resolveFilter","isKeyNotMatch","expect","actual","checkKeyCodes","eventKeyCode","builtInKeyCode","eventKeyName","builtInKeyName","mappedKeyCode","bindObjectProps","asProp","isSync","domProps","camelizedKey","hyphenatedKey","$event","renderStatic","isInFor","_staticTrees","staticRenderFns","markStatic","markOnce","markStaticNode","bindObjectListeners","existing","ours","resolveScopedSlots","hasDynamicKeys","contentHashKey","bindDynamicKeys","baseObj","values","prependModifier","symbol","installRenderHelpers","_o","_n","_s","_l","_t","_q","_m","_f","_k","_b","_v","_e","_u","_g","_d","_p","FunctionalRenderContext","contextVm","this$1","_original","isCompiled","_compiled","needNormalization","listeners","injections","scopedSlots","_scopeId","_c","d","createElement","createFunctionalComponent","mergeProps","renderContext","cloneAndMarkFunctionalResult","vnodes","clone","devtoolsMeta","componentVNodeHooks","init","hydrating","_isDestroyed","keepAlive","mountedNode","prepatch","createComponentInstanceForVnode","activeInstance","oldVnode","updateChildComponent","insert","queueActivatedComponent","activateChildComponent","destroy","deactivateChildComponent","hooksToMerge","baseCtor","resolveAsyncComponent","createAsyncPlaceholder","resolveConstructorOptions","model","transformModel","functional","nativeOn","abstract","installComponentHooks","_isComponent","_parentVnode","inlineTemplate","toMerge","_merged","mergeHook$1","f1","f2","merged","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","_createElement","$vnode","pre","applyNS","registerDeepBindings","force","style","class","initRender","_vnode","parentVnode","_renderChildren","parentData","isUpdatingChildComponent","_parentListeners","currentRenderingInstance","renderMixin","$nextTick","_render","renderError","ensureCtor","comp","base","__esModule","toStringTag","factory","errorComp","resolved","owner","owners","loading","loadingComp","sync","timerLoading","timerTimeout","forceRender","renderCompleted","$forceUpdate","clearTimeout","delay","timeout","getFirstComponentChild","initEvents","_events","_hasHookEvent","updateComponentListeners","remove$1","_target","onceHandler","oldListeners","eventsMixin","hookRE","i$1","cbs","lowerCaseEvent","setActiveInstance","prevActiveInstance","initLifecycle","_watcher","_inactive","_directInactive","_isBeingDestroyed","lifecycleMixin","_update","prevEl","$el","prevVnode","restoreActiveInstance","__patch__","__vue__","teardown","_watchers","_data","renderChildren","newScopedSlots","oldScopedSlots","hasDynamicScopedSlot","needsForceUpdate","$attrs","$listeners","propKeys","_propKeys","_$updateProperties","isInInactiveTree","direct","j","MAX_UPDATE_COUNT","activatedChildren","circular","waiting","flushing","resetSchedulerState","getNow","now","createEvent","timeStamp","flushSchedulerQueue","watcher","before","run","user","activatedQueue","updatedQueue","callActivatedHooks","callUpdatedHooks","queueWatcher","uid$2","Watcher","expOrFn","isRenderWatcher","deep","lazy","active","dirty","deps","newDeps","depIds","newDepIds","expression","cleanupDeps","tmp","oldValue","evaluate","sharedPropertyDefinition","sourceKey","initState","initProps","initMethods","initComputed","initWatch","propsOptions","isRoot","_getFormData","__next_tick_pending","getData","computedWatcherOptions","watchers","_computedWatchers","isSSR","userDef","defineComputed","shouldCache","createComputedGetter","createGetterInvoker","createWatcher","$watch","stateMixin","dataDef","propsDef","$set","$delete","immediate","uid$3","initMixin","_init","_uid","initInternalComponent","_self","_$fallback","_name","vnodeComponentOptions","superOptions","cachedSuperOptions","modifiedOptions","resolveModifiedOptions","modified","latest","sealed","sealedOptions","initUse","use","plugin","installedPlugins","_installedPlugins","unshift","install","initMixin$1","initExtend","Super","SuperId","cachedCtors","_Ctor","Sub","initProps$1","initComputed$1","Comp","initAssetRegisters","definition","getComponentName","matches","pattern","pruneCache","keepAliveInstance","cachedNode","pruneCacheEntry","cached$$1","patternTypes","KeepAlive","include","exclude","created","destroyed","mounted","ref$1","builtInComponents","initGlobalAPI","configDef","util","defineReactive","delete","observable","ssrContext","version","ARRAYTYPE","OBJECTTYPE","diff","syncKeys","_diff","rootCurrentType","rootPreType","currentValue","setResult","preValue","currentType","preType","subKey","k","flushCallbacks$1","__next_tick_callbacks","log","hasRenderWatcher","nextTick$1","mpInstance$1","cloneWithData","dataKeys","reduce","compositionApiState","__composition_api_state__","__secret_vfa_state__","rawBindings","patch","__webviewId__","mpData","diffData","$shouldDiffData","createEmptyRender","mountComponent$1","template","updateComponent","renderClass","staticClass","dynamicClass","stringifyClass","stringifyArray","stringifyObject","stringified","parseStyleText","cssText","listDelimiter","propertyDelimiter","trim","normalizeStyleBinding","bindingStyle","MP_METHODS","getTarget","parts","internalMixin","getApp","onError","oldEmit","my","createSelectorQuery","createIntersectionObserver","__init_provide","__init_injections","__set_model","modifiers","__set_sync","__get_orig","__get_class","__get_style","dynamicStyle","staticStyle","dynamicStyleObj","styleObj","__map","iteratee","LIFECYCLE_HOOKS$1","lifecycleMixin$1","oldExtend","strategies","g","module","exports","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","renderjs","__module","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","shadowRoot","_injectStyles","originalRender","h","Router","router","routes","home","beforeEach","afterEach","aliasPath","meta","title","H5PATCH","parseQuery","ParseQuery","Global","H5RouterReady","RouterReadyPromise","$parseQuery","CONFIG","formatConfig","lifeCycle","registerRouterHooks","appPlatform","setLoadingStatus","h5","rule","navjump","backLayer","enforce","Vim","H5GetPageRoute","APPGetPageRoute","AppletsPageRoute","registerHook","beforeHooks","afterHooks","getPageRoute","LockStatus","status","RouterMount","vueMount","isH5","strObj","applets","userConfig","baseConfig","baseConfigKeys","builtIn","parseQueryN","routerName","Encode","decodeURIComponent","parseQueryD","reg","exec","$1","$2","encodeArr","queryKeys","attr","encodeURI","exactRule","cloneRule","ruleKey","getRule","resolveRule","ruleInfo","formatURLQuery","URLQuery","copyObject","object","rewriteFun","paramsToQuery","hinderTab","vueRouterDev","useUniConfig","keepUniIntercept","vueNext","replaceStyle","resetStyle","mode","linkActiveClass","linkExactActiveClass","scrollBehavior","savedPostion","APP","holdTabbar","loddingPageStyle","loddingPageHook","view","plus","closeSplashscreen","animation","animationType","animationDuration","switchPageOutTime","debugger","routerBeforeEach","routerAfterEach","replaceAll","pushTab","back","H5FnTypeToggle","routerHooks","routerbeforeHooks","routerAfterHooks","vueRouter","addedRoutes","backLayerC","uniAppHook","indexVue","toutiaoIndexThis","appVue","fun","isHijack","onShow","variationFuns","waitHooks","indexCallHooks","needHooks","pageReady","onLaunched","appletsConfig","onLaunchEd","vuelifeHooks","isLog","errText","dev","errInfo","warnLock","isBcakNav","compile","H5","navigateBack","backCallHook","notBackNav","fnType","ruleArray","H5PushTo","transitionTo","uniPushTo","appletsTransitionTo","appletsUniPushTo","isBack","startBack","callwaitHooks","callHome","variation","includes","callAppHook","indeHooks","callVariationHooks","proxyLaunchHook","proxyIndexHook","whObject","triggerLifeCycle","_to","beforeHooksFun","afterEachHooks","beforeEnterHooks","finalRoute","beforeEnter","NAVTYPE","onBackPress","beforeBackHooks","getPageOnBeforeBack","isNext","getPages","backApiCallHook","beforeRouteLeaveHooks","leaveHook","currentPage","callThis","getPageVmOrMp","beforeRouteLeave","Intercept","navCB","leaveHookCall","ruleToUniNavInfo","formatFrom","formatTo","leaveResult","beforeResult","enterResult","topPage","nativeObj","View","getViewById","close","beforeTabHooks","require","self","hadRuntime","regeneratorRuntime","oldRuntime","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","inModule","runtime","wrap","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","GeneratorFunctionPrototype","Generator","GeneratorFunction","displayName","isGeneratorFunction","genFun","ctor","setPrototypeOf","awrap","__await","defineIteratorMethods","AsyncIterator","innerFn","outerFn","tryLocsList","iter","reverse","Context","reset","skipTempReset","prev","sent","_sent","delegate","tryEntries","resetTryEntry","stop","rootEntry","rootRecord","completion","rval","dispatchException","exception","handle","loc","caught","record","entry","tryLoc","hasCatch","hasFinally","catchLoc","finallyLoc","abrupt","finallyEntry","afterLoc","finish","thrown","delegateYield","iterable","resultName","nextLoc","protoGenerator","generator","_invoke","makeInvokeMethod","tryCatch","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","state","doneResult","delegateResult","maybeInvokeDelegate","return","TypeError","pushTryEntry","locs","iteratorMethod","funList","all","isNvuePage","cstr","pageType","s","z","vim","__displayReporter","pathOrNameToRoute","routesKeys","getFormatQuery","uniRoute","currPage","onBeforeBack","assertCanBack","pageStyle","$getAppWebview","getStyle","titleNView","autoBackButton","isQuit","toutiaoIndexHookCall","toPage","beforeFntype","toPath","appletsProxyIndexHook","baiduApple","touTiao","uniQuery","notH5","$route","formatUserRule","selfRoutes","objPath","strPathToObjPath","pagesConfigReg","pagesConfigRegCli","defRoutersReg","resolveRender","resloveChildrenPath","objRoutes","_ROUTERPATH","fromatRoutes","userRoute","alias","_PAGEPATH","substring","getFuntionConfig","FunStr","matchText","prefix","eval","pathToRute","PATHKEY","rute","routeKeys","nameToRute","ruleQuery","transfer","getRouterNextInfo","toRoute","fromRoute","fromPath","pagePath","isEmptyTo","isEmptyFrom","toQuery","queryGet","decode","fromQuery","vueDevRouteProxy","proxyRoutes","childrenRoutes","childrenProxy","ProxyRoute","proxyBeforeEnter","encodeURLQuery","strQuery","historyObj","currentRoute","diffRouter","newRouterMap","Routes","cloneSelfRoutes","vueRoute","vueRoutes","CselfRoute","pageConfigJson","testG","cloneSelfRoutesKeys","RoutesKeys","BeProxy","proxyDc","BeProxyKeys","proxyEachHooks","hookFun","vueOldHooks","MyArray","beforeEachCount","afterEachCount","resolveLaunch","beforeEnterDep","beforeEachLaunch","appMount","formatEl","forMatNext","navType","formatQuery","H5Intercept","_HHYANGbeforeRouteLeaveCalled","beforeRouteLeaveArray","userHooks","resolveNext","beforeIntercept","isTabBar","currRoute","registerRouter","routeMap","createRouter","matcher","appletsMount","getMixins","appInit","removeBackPressEvent","pageIsHeadBack","APPLETS","appletsInit","initMixins","rewriteUniFun","reLaunch","history","objVueRoutes","objSelfRoutes","oldSwitchTab","switchTab","normal","$Route","registerLoddingPage","height","width","nodeURL","extract","ObjQuery","intact","jsonQuery","decodeStr","strictUriEncode","objectAssign","encoderForArrayFormat","arrayFormat","parserForArrayFormat","accumulator","strict","keysSorter","input","formatter","param","defaults","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","shouldUseNative","test1","test2","fromCharCode","order2","test3","letter","symbols","wranning","$u","queryParams","timeFormat","date","timeFrom","colorGradient","guid","color","sys","os","type2icon","randomArray","http","post","put","hexToRgb","rgbToHex","random","deepClone","deepMerge","getParent","addUnit","toast","zIndex","debounce","throttle","openShare","mpShare","timestamp","format","getRect","$uGetRect","selector","in","boundingClientRect","rect","getParentData","parentName","onReachBottom","Request","baseUrl","header","dataType","responseType","showLoading","loadingText","loadingTime","timer","originalData","loadingMask","request","response","customConfig","interceptorRequest","hideLoading","resInterceptors","statusCode","validate","mask","NaN","o","email","mobile","dateISO","digits","idCard","carNo","xreg","creg","amount","chinese","enOrNum","contains","range","rangeLength","landline","empty","jsonString","array","code","isEmpty","isPrefix","_result","_value","commaStr","fmt","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","padStart","maxLength","fillString","fillLength","times","ceil","tips","startColor","endColor","step","startRGB","startR","startG","startB","endRGB","endR","endG","endB","sR","sG","sB","colorArr","hex","round","sColor","sColorNew","sColorChange","rgb","_this","aColor","strHex","aNum","numHex","firstU","radix","chars","uuid","r","primary","primaryDark","primaryDisabled","primaryLight","bgColor","infoDark","infoDisabled","infoLight","warning","warningDark","warningDisabled","warningLight","errorDark","errorDisabled","errorLight","successDark","successDisabled","successLight","mainColor","contentColor","tipsColor","lightColor","borderColor","fill","iconName","unit","validation","min","gab","pos","duration","showToast","icon","func","wait","callNow","flag","noNetwork","popup","navbar","topTips","sticky","indexListSticky"],"mappings":"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","file":"common/vendor.js","sourcesContent":["import Vue from 'vue';\r\n\r\nconst _toString = Object.prototype.toString;\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\n\r\nfunction isFn (fn) {\r\n  return typeof fn === 'function'\r\n}\r\n\r\nfunction isStr (str) {\r\n  return typeof str === 'string'\r\n}\r\n\r\nfunction isPlainObject (obj) {\r\n  return _toString.call(obj) === '[object Object]'\r\n}\r\n\r\nfunction hasOwn (obj, key) {\r\n  return hasOwnProperty.call(obj, key)\r\n}\r\n\r\nfunction noop () {}\r\n\r\n/**\r\n * Create a cached version of a pure function.\r\n */\r\nfunction cached (fn) {\r\n  const cache = Object.create(null);\r\n  return function cachedFn (str) {\r\n    const hit = cache[str];\r\n    return hit || (cache[str] = fn(str))\r\n  }\r\n}\r\n\r\n/**\r\n * Camelize a hyphen-delimited string.\r\n */\r\nconst camelizeRE = /-(\\w)/g;\r\nconst camelize = cached((str) => {\r\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : '')\r\n});\r\n\r\nconst HOOKS = [\r\n  'invoke',\r\n  'success',\r\n  'fail',\r\n  'complete',\r\n  'returnValue'\r\n];\r\n\r\nconst globalInterceptors = {};\r\nconst scopedInterceptors = {};\r\n\r\nfunction mergeHook (parentVal, childVal) {\r\n  const res = childVal\r\n    ? parentVal\r\n      ? parentVal.concat(childVal)\r\n      : Array.isArray(childVal)\r\n        ? childVal : [childVal]\r\n    : parentVal;\r\n  return res\r\n    ? dedupeHooks(res)\r\n    : res\r\n}\r\n\r\nfunction dedupeHooks (hooks) {\r\n  const res = [];\r\n  for (let i = 0; i < hooks.length; i++) {\r\n    if (res.indexOf(hooks[i]) === -1) {\r\n      res.push(hooks[i]);\r\n    }\r\n  }\r\n  return res\r\n}\r\n\r\nfunction removeHook (hooks, hook) {\r\n  const index = hooks.indexOf(hook);\r\n  if (index !== -1) {\r\n    hooks.splice(index, 1);\r\n  }\r\n}\r\n\r\nfunction mergeInterceptorHook (interceptor, option) {\r\n  Object.keys(option).forEach(hook => {\r\n    if (HOOKS.indexOf(hook) !== -1 && isFn(option[hook])) {\r\n      interceptor[hook] = mergeHook(interceptor[hook], option[hook]);\r\n    }\r\n  });\r\n}\r\n\r\nfunction removeInterceptorHook (interceptor, option) {\r\n  if (!interceptor || !option) {\r\n    return\r\n  }\r\n  Object.keys(option).forEach(hook => {\r\n    if (HOOKS.indexOf(hook) !== -1 && isFn(option[hook])) {\r\n      removeHook(interceptor[hook], option[hook]);\r\n    }\r\n  });\r\n}\r\n\r\nfunction addInterceptor (method, option) {\r\n  if (typeof method === 'string' && isPlainObject(option)) {\r\n    mergeInterceptorHook(scopedInterceptors[method] || (scopedInterceptors[method] = {}), option);\r\n  } else if (isPlainObject(method)) {\r\n    mergeInterceptorHook(globalInterceptors, method);\r\n  }\r\n}\r\n\r\nfunction removeInterceptor (method, option) {\r\n  if (typeof method === 'string') {\r\n    if (isPlainObject(option)) {\r\n      removeInterceptorHook(scopedInterceptors[method], option);\r\n    } else {\r\n      delete scopedInterceptors[method];\r\n    }\r\n  } else if (isPlainObject(method)) {\r\n    removeInterceptorHook(globalInterceptors, method);\r\n  }\r\n}\r\n\r\nfunction wrapperHook (hook) {\r\n  return function (data) {\r\n    return hook(data) || data\r\n  }\r\n}\r\n\r\nfunction isPromise (obj) {\r\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function'\r\n}\r\n\r\nfunction queue (hooks, data) {\r\n  let promise = false;\r\n  for (let i = 0; i < hooks.length; i++) {\r\n    const hook = hooks[i];\r\n    if (promise) {\r\n      promise = Promise.resolve(wrapperHook(hook));\r\n    } else {\r\n      const res = hook(data);\r\n      if (isPromise(res)) {\r\n        promise = Promise.resolve(res);\r\n      }\r\n      if (res === false) {\r\n        return {\r\n          then () {}\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return promise || {\r\n    then (callback) {\r\n      return callback(data)\r\n    }\r\n  }\r\n}\r\n\r\nfunction wrapperOptions (interceptor, options = {}) {\r\n  ['success', 'fail', 'complete'].forEach(name => {\r\n    if (Array.isArray(interceptor[name])) {\r\n      const oldCallback = options[name];\r\n      options[name] = function callbackInterceptor (res) {\r\n        queue(interceptor[name], res).then((res) => {\r\n          /* eslint-disable no-mixed-operators */\r\n          return isFn(oldCallback) && oldCallback(res) || res\r\n        });\r\n      };\r\n    }\r\n  });\r\n  return options\r\n}\r\n\r\nfunction wrapperReturnValue (method, returnValue) {\r\n  const returnValueHooks = [];\r\n  if (Array.isArray(globalInterceptors.returnValue)) {\r\n    returnValueHooks.push(...globalInterceptors.returnValue);\r\n  }\r\n  const interceptor = scopedInterceptors[method];\r\n  if (interceptor && Array.isArray(interceptor.returnValue)) {\r\n    returnValueHooks.push(...interceptor.returnValue);\r\n  }\r\n  returnValueHooks.forEach(hook => {\r\n    returnValue = hook(returnValue) || returnValue;\r\n  });\r\n  return returnValue\r\n}\r\n\r\nfunction getApiInterceptorHooks (method) {\r\n  const interceptor = Object.create(null);\r\n  Object.keys(globalInterceptors).forEach(hook => {\r\n    if (hook !== 'returnValue') {\r\n      interceptor[hook] = globalInterceptors[hook].slice();\r\n    }\r\n  });\r\n  const scopedInterceptor = scopedInterceptors[method];\r\n  if (scopedInterceptor) {\r\n    Object.keys(scopedInterceptor).forEach(hook => {\r\n      if (hook !== 'returnValue') {\r\n        interceptor[hook] = (interceptor[hook] || []).concat(scopedInterceptor[hook]);\r\n      }\r\n    });\r\n  }\r\n  return interceptor\r\n}\r\n\r\nfunction invokeApi (method, api, options, ...params) {\r\n  const interceptor = getApiInterceptorHooks(method);\r\n  if (interceptor && Object.keys(interceptor).length) {\r\n    if (Array.isArray(interceptor.invoke)) {\r\n      const res = queue(interceptor.invoke, options);\r\n      return res.then((options) => {\r\n        return api(wrapperOptions(interceptor, options), ...params)\r\n      })\r\n    } else {\r\n      return api(wrapperOptions(interceptor, options), ...params)\r\n    }\r\n  }\r\n  return api(options, ...params)\r\n}\r\n\r\nconst promiseInterceptor = {\r\n  returnValue (res) {\r\n    if (!isPromise(res)) {\r\n      return res\r\n    }\r\n    return res.then(res => {\r\n      return res[1]\r\n    }).catch(res => {\r\n      return res[0]\r\n    })\r\n  }\r\n};\r\n\r\nconst SYNC_API_RE =\r\n  /^\\$|sendNativeEvent|restoreGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64/;\r\n\r\nconst CONTEXT_API_RE = /^create|Manager$/;\r\n\r\n// Context例外情况\r\nconst CONTEXT_API_RE_EXC = ['createBLEConnection'];\r\n\r\n// 同步例外情况\r\nconst ASYNC_API = ['createBLEConnection'];\r\n\r\nconst CALLBACK_API_RE = /^on|^off/;\r\n\r\nfunction isContextApi (name) {\r\n  return CONTEXT_API_RE.test(name) && CONTEXT_API_RE_EXC.indexOf(name) === -1\r\n}\r\nfunction isSyncApi (name) {\r\n  return SYNC_API_RE.test(name) && ASYNC_API.indexOf(name) === -1\r\n}\r\n\r\nfunction isCallbackApi (name) {\r\n  return CALLBACK_API_RE.test(name) && name !== 'onPush'\r\n}\r\n\r\nfunction handlePromise (promise) {\r\n  return promise.then(data => {\r\n    return [null, data]\r\n  })\r\n    .catch(err => [err])\r\n}\r\n\r\nfunction shouldPromise (name) {\r\n  if (\r\n    isContextApi(name) ||\r\n    isSyncApi(name) ||\r\n    isCallbackApi(name)\r\n  ) {\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\n/* eslint-disable no-extend-native */\r\nif (!Promise.prototype.finally) {\r\n  Promise.prototype.finally = function (callback) {\r\n    const promise = this.constructor;\r\n    return this.then(\r\n      value => promise.resolve(callback()).then(() => value),\r\n      reason => promise.resolve(callback()).then(() => {\r\n        throw reason\r\n      })\r\n    )\r\n  };\r\n}\r\n\r\nfunction promisify (name, api) {\r\n  if (!shouldPromise(name)) {\r\n    return api\r\n  }\r\n  return function promiseApi (options = {}, ...params) {\r\n    if (isFn(options.success) || isFn(options.fail) || isFn(options.complete)) {\r\n      return wrapperReturnValue(name, invokeApi(name, api, options, ...params))\r\n    }\r\n    return wrapperReturnValue(name, handlePromise(new Promise((resolve, reject) => {\r\n      invokeApi(name, api, Object.assign({}, options, {\r\n        success: resolve,\r\n        fail: reject\r\n      }), ...params);\r\n    })))\r\n  }\r\n}\r\n\r\nconst EPS = 1e-4;\r\nconst BASE_DEVICE_WIDTH = 750;\r\nlet isIOS = false;\r\nlet deviceWidth = 0;\r\nlet deviceDPR = 0;\r\n\r\nfunction checkDeviceWidth () {\r\n  const {\r\n    platform,\r\n    pixelRatio,\r\n    windowWidth\r\n  } = wx.getSystemInfoSync(); // uni=>wx runtime 编译目标是 uni 对象，内部不允许直接使用 uni\r\n\r\n  deviceWidth = windowWidth;\r\n  deviceDPR = pixelRatio;\r\n  isIOS = platform === 'ios';\r\n}\r\n\r\nfunction upx2px (number, newDeviceWidth) {\r\n  if (deviceWidth === 0) {\r\n    checkDeviceWidth();\r\n  }\r\n\r\n  number = Number(number);\r\n  if (number === 0) {\r\n    return 0\r\n  }\r\n  let result = (number / BASE_DEVICE_WIDTH) * (newDeviceWidth || deviceWidth);\r\n  if (result < 0) {\r\n    result = -result;\r\n  }\r\n  result = Math.floor(result + EPS);\r\n  if (result === 0) {\r\n    if (deviceDPR === 1 || !isIOS) {\r\n      result = 1;\r\n    } else {\r\n      result = 0.5;\r\n    }\r\n  }\r\n  return number < 0 ? -result : result\r\n}\r\n\r\nconst interceptors = {\r\n  promiseInterceptor\r\n};\r\n\r\nvar baseApi = /*#__PURE__*/Object.freeze({\r\n  __proto__: null,\r\n  upx2px: upx2px,\r\n  addInterceptor: addInterceptor,\r\n  removeInterceptor: removeInterceptor,\r\n  interceptors: interceptors\r\n});\r\n\r\nclass EventChannel {\r\n  constructor (id, events) {\r\n    this.id = id;\r\n    this.listener = {};\r\n    this.emitCache = {};\r\n    if (events) {\r\n      Object.keys(events).forEach(name => {\r\n        this.on(name, events[name]);\r\n      });\r\n    }\r\n  }\r\n\r\n  emit (eventName, ...args) {\r\n    const fns = this.listener[eventName];\r\n    if (!fns) {\r\n      return (this.emitCache[eventName] || (this.emitCache[eventName] = [])).push(args)\r\n    }\r\n    fns.forEach(opt => {\r\n      opt.fn.apply(opt.fn, args);\r\n    });\r\n    this.listener[eventName] = fns.filter(opt => opt.type !== 'once');\r\n  }\r\n\r\n  on (eventName, fn) {\r\n    this._addListener(eventName, 'on', fn);\r\n    this._clearCache(eventName);\r\n  }\r\n\r\n  once (eventName, fn) {\r\n    this._addListener(eventName, 'once', fn);\r\n    this._clearCache(eventName);\r\n  }\r\n\r\n  off (eventName, fn) {\r\n    const fns = this.listener[eventName];\r\n    if (!fns) {\r\n      return\r\n    }\r\n    if (fn) {\r\n      for (let i = 0; i < fns.length;) {\r\n        if (fns[i].fn === fn) {\r\n          fns.splice(i, 1);\r\n          i--;\r\n        }\r\n        i++;\r\n      }\r\n    } else {\r\n      delete this.listener[eventName];\r\n    }\r\n  }\r\n\r\n  _clearCache (eventName) {\r\n    const cacheArgs = this.emitCache[eventName];\r\n    if (cacheArgs) {\r\n      for (; cacheArgs.length > 0;) {\r\n        this.emit.apply(this, [eventName].concat(cacheArgs.shift()));\r\n      }\r\n    }\r\n  }\r\n\r\n  _addListener (eventName, type, fn) {\r\n    (this.listener[eventName] || (this.listener[eventName] = [])).push({\r\n      fn,\r\n      type\r\n    });\r\n  }\r\n}\r\n\r\nconst eventChannels = {};\r\n\r\nconst eventChannelStack = [];\r\n\r\nlet id = 0;\r\n\r\nfunction initEventChannel (events, cache = true) {\r\n  id++;\r\n  const eventChannel = new EventChannel(id, events);\r\n  if (cache) {\r\n    eventChannels[id] = eventChannel;\r\n    eventChannelStack.push(eventChannel);\r\n  }\r\n  return eventChannel\r\n}\r\n\r\nfunction getEventChannel (id) {\r\n  if (id) {\r\n    const eventChannel = eventChannels[id];\r\n    delete eventChannels[id];\r\n    return eventChannel\r\n  }\r\n  return eventChannelStack.shift()\r\n}\r\n\r\nvar navigateTo = {\r\n  args (fromArgs, toArgs) {\r\n    const id = initEventChannel(fromArgs.events).id;\r\n    if (fromArgs.url) {\r\n      fromArgs.url = fromArgs.url + (fromArgs.url.indexOf('?') === -1 ? '?' : '&') + '__id__=' + id;\r\n    }\r\n  },\r\n  returnValue (fromRes, toRes) {\r\n    fromRes.eventChannel = getEventChannel();\r\n  }\r\n};\r\n\r\nfunction findExistsPageIndex (url) {\r\n  const pages = getCurrentPages();\r\n  let len = pages.length;\r\n  while (len--) {\r\n    const page = pages[len];\r\n    if (page.$page && page.$page.fullPath === url) {\r\n      return len\r\n    }\r\n  }\r\n  return -1\r\n}\r\n\r\nvar redirectTo = {\r\n  name (fromArgs) {\r\n    if (fromArgs.exists === 'back' && fromArgs.delta) {\r\n      return 'navigateBack'\r\n    }\r\n    return 'redirectTo'\r\n  },\r\n  args (fromArgs) {\r\n    if (fromArgs.exists === 'back' && fromArgs.url) {\r\n      const existsPageIndex = findExistsPageIndex(fromArgs.url);\r\n      if (existsPageIndex !== -1) {\r\n        const delta = getCurrentPages().length - 1 - existsPageIndex;\r\n        if (delta > 0) {\r\n          fromArgs.delta = delta;\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nvar previewImage = {\r\n  args (fromArgs) {\r\n    let currentIndex = parseInt(fromArgs.current);\r\n    if (isNaN(currentIndex)) {\r\n      return\r\n    }\r\n    const urls = fromArgs.urls;\r\n    if (!Array.isArray(urls)) {\r\n      return\r\n    }\r\n    const len = urls.length;\r\n    if (!len) {\r\n      return\r\n    }\r\n    if (currentIndex < 0) {\r\n      currentIndex = 0;\r\n    } else if (currentIndex >= len) {\r\n      currentIndex = len - 1;\r\n    }\r\n    if (currentIndex > 0) {\r\n      fromArgs.current = urls[currentIndex];\r\n      fromArgs.urls = urls.filter(\r\n        (item, index) => index < currentIndex ? item !== urls[currentIndex] : true\r\n      );\r\n    } else {\r\n      fromArgs.current = urls[0];\r\n    }\r\n    return {\r\n      indicator: false,\r\n      loop: false\r\n    }\r\n  }\r\n};\r\n\r\nfunction addSafeAreaInsets (result) {\r\n  if (result.safeArea) {\r\n    const safeArea = result.safeArea;\r\n    result.safeAreaInsets = {\r\n      top: safeArea.top,\r\n      left: safeArea.left,\r\n      right: result.windowWidth - safeArea.right,\r\n      bottom: result.windowHeight - safeArea.bottom\r\n    };\r\n  }\r\n}\r\nconst protocols = {\r\n  redirectTo,\r\n  navigateTo,\r\n  previewImage,\r\n  getSystemInfo: {\r\n    returnValue: addSafeAreaInsets\r\n  },\r\n  getSystemInfoSync: {\r\n    returnValue: addSafeAreaInsets\r\n  }\r\n};\r\nconst todos = [\r\n  'vibrate',\r\n  'preloadPage',\r\n  'unPreloadPage',\r\n  'loadSubPackage'\r\n];\r\nconst canIUses = [];\r\n\r\nconst CALLBACKS = ['success', 'fail', 'cancel', 'complete'];\r\n\r\nfunction processCallback (methodName, method, returnValue) {\r\n  return function (res) {\r\n    return method(processReturnValue(methodName, res, returnValue))\r\n  }\r\n}\r\n\r\nfunction processArgs (methodName, fromArgs, argsOption = {}, returnValue = {}, keepFromArgs = false) {\r\n  if (isPlainObject(fromArgs)) { // 一般 api 的参数解析\r\n    const toArgs = keepFromArgs === true ? fromArgs : {}; // returnValue 为 false 时，说明是格式化返回值，直接在返回值对象上修改赋值\r\n    if (isFn(argsOption)) {\r\n      argsOption = argsOption(fromArgs, toArgs) || {};\r\n    }\r\n    for (const key in fromArgs) {\r\n      if (hasOwn(argsOption, key)) {\r\n        let keyOption = argsOption[key];\r\n        if (isFn(keyOption)) {\r\n          keyOption = keyOption(fromArgs[key], fromArgs, toArgs);\r\n        }\r\n        if (!keyOption) { // 不支持的参数\r\n          console.warn(`微信小程序 ${methodName}暂不支持${key}`);\r\n        } else if (isStr(keyOption)) { // 重写参数 key\r\n          toArgs[keyOption] = fromArgs[key];\r\n        } else if (isPlainObject(keyOption)) { // {name:newName,value:value}可重新指定参数 key:value\r\n          toArgs[keyOption.name ? keyOption.name : key] = keyOption.value;\r\n        }\r\n      } else if (CALLBACKS.indexOf(key) !== -1) {\r\n        if (isFn(fromArgs[key])) {\r\n          toArgs[key] = processCallback(methodName, fromArgs[key], returnValue);\r\n        }\r\n      } else {\r\n        if (!keepFromArgs) {\r\n          toArgs[key] = fromArgs[key];\r\n        }\r\n      }\r\n    }\r\n    return toArgs\r\n  } else if (isFn(fromArgs)) {\r\n    fromArgs = processCallback(methodName, fromArgs, returnValue);\r\n  }\r\n  return fromArgs\r\n}\r\n\r\nfunction processReturnValue (methodName, res, returnValue, keepReturnValue = false) {\r\n  if (isFn(protocols.returnValue)) { // 处理通用 returnValue\r\n    res = protocols.returnValue(methodName, res);\r\n  }\r\n  return processArgs(methodName, res, returnValue, {}, keepReturnValue)\r\n}\r\n\r\nfunction wrapper (methodName, method) {\r\n  if (hasOwn(protocols, methodName)) {\r\n    const protocol = protocols[methodName];\r\n    if (!protocol) { // 暂不支持的 api\r\n      return function () {\r\n        console.error(`微信小程序 暂不支持${methodName}`);\r\n      }\r\n    }\r\n    return function (arg1, arg2) { // 目前 api 最多两个参数\r\n      let options = protocol;\r\n      if (isFn(protocol)) {\r\n        options = protocol(arg1);\r\n      }\r\n\r\n      arg1 = processArgs(methodName, arg1, options.args, options.returnValue);\r\n\r\n      const args = [arg1];\r\n      if (typeof arg2 !== 'undefined') {\r\n        args.push(arg2);\r\n      }\r\n      if (isFn(options.name)) {\r\n        methodName = options.name(arg1);\r\n      } else if (isStr(options.name)) {\r\n        methodName = options.name;\r\n      }\r\n      const returnValue = wx[methodName].apply(wx, args);\r\n      if (isSyncApi(methodName)) { // 同步 api\r\n        return processReturnValue(methodName, returnValue, options.returnValue, isContextApi(methodName))\r\n      }\r\n      return returnValue\r\n    }\r\n  }\r\n  return method\r\n}\r\n\r\nconst todoApis = Object.create(null);\r\n\r\nconst TODOS = [\r\n  'onTabBarMidButtonTap',\r\n  'subscribePush',\r\n  'unsubscribePush',\r\n  'onPush',\r\n  'offPush',\r\n  'share'\r\n];\r\n\r\nfunction createTodoApi (name) {\r\n  return function todoApi ({\r\n    fail,\r\n    complete\r\n  }) {\r\n    const res = {\r\n      errMsg: `${name}:fail:暂不支持 ${name} 方法`\r\n    };\r\n    isFn(fail) && fail(res);\r\n    isFn(complete) && complete(res);\r\n  }\r\n}\r\n\r\nTODOS.forEach(function (name) {\r\n  todoApis[name] = createTodoApi(name);\r\n});\r\n\r\nvar providers = {\r\n  oauth: ['weixin'],\r\n  share: ['weixin'],\r\n  payment: ['wxpay'],\r\n  push: ['weixin']\r\n};\r\n\r\nfunction getProvider ({\r\n  service,\r\n  success,\r\n  fail,\r\n  complete\r\n}) {\r\n  let res = false;\r\n  if (providers[service]) {\r\n    res = {\r\n      errMsg: 'getProvider:ok',\r\n      service,\r\n      provider: providers[service]\r\n    };\r\n    isFn(success) && success(res);\r\n  } else {\r\n    res = {\r\n      errMsg: 'getProvider:fail:服务[' + service + ']不存在'\r\n    };\r\n    isFn(fail) && fail(res);\r\n  }\r\n  isFn(complete) && complete(res);\r\n}\r\n\r\nvar extraApi = /*#__PURE__*/Object.freeze({\r\n  __proto__: null,\r\n  getProvider: getProvider\r\n});\r\n\r\nconst getEmitter = (function () {\r\n  let Emitter;\r\n  return function getUniEmitter () {\r\n    if (!Emitter) {\r\n      Emitter = new Vue();\r\n    }\r\n    return Emitter\r\n  }\r\n})();\r\n\r\nfunction apply (ctx, method, args) {\r\n  return ctx[method].apply(ctx, args)\r\n}\r\n\r\nfunction $on () {\r\n  return apply(getEmitter(), '$on', [...arguments])\r\n}\r\nfunction $off () {\r\n  return apply(getEmitter(), '$off', [...arguments])\r\n}\r\nfunction $once () {\r\n  return apply(getEmitter(), '$once', [...arguments])\r\n}\r\nfunction $emit () {\r\n  return apply(getEmitter(), '$emit', [...arguments])\r\n}\r\n\r\nvar eventApi = /*#__PURE__*/Object.freeze({\r\n  __proto__: null,\r\n  $on: $on,\r\n  $off: $off,\r\n  $once: $once,\r\n  $emit: $emit\r\n});\r\n\r\nvar api = /*#__PURE__*/Object.freeze({\r\n  __proto__: null\r\n});\r\n\r\nconst MPPage = Page;\r\nconst MPComponent = Component;\r\n\r\nconst customizeRE = /:/g;\r\n\r\nconst customize = cached((str) => {\r\n  return camelize(str.replace(customizeRE, '-'))\r\n});\r\n\r\nfunction initTriggerEvent (mpInstance) {\r\n  {\r\n    if (!wx.canIUse('nextTick')) {\r\n      return\r\n    }\r\n  }\r\n  const oldTriggerEvent = mpInstance.triggerEvent;\r\n  mpInstance.triggerEvent = function (event, ...args) {\r\n    return oldTriggerEvent.apply(mpInstance, [customize(event), ...args])\r\n  };\r\n}\r\n\r\nfunction initHook (name, options) {\r\n  const oldHook = options[name];\r\n  if (!oldHook) {\r\n    options[name] = function () {\r\n      initTriggerEvent(this);\r\n    };\r\n  } else {\r\n    options[name] = function (...args) {\r\n      initTriggerEvent(this);\r\n      return oldHook.apply(this, args)\r\n    };\r\n  }\r\n}\r\n\r\nPage = function (options = {}) {\r\n  initHook('onLoad', options);\r\n  return MPPage(options)\r\n};\r\n\r\nComponent = function (options = {}) {\r\n  initHook('created', options);\r\n  return MPComponent(options)\r\n};\r\n\r\nconst PAGE_EVENT_HOOKS = [\r\n  'onPullDownRefresh',\r\n  'onReachBottom',\r\n  'onAddToFavorites',\r\n  'onShareTimeline',\r\n  'onShareAppMessage',\r\n  'onPageScroll',\r\n  'onResize',\r\n  'onTabItemTap'\r\n];\r\n\r\nfunction initMocks (vm, mocks) {\r\n  const mpInstance = vm.$mp[vm.mpType];\r\n  mocks.forEach(mock => {\r\n    if (hasOwn(mpInstance, mock)) {\r\n      vm[mock] = mpInstance[mock];\r\n    }\r\n  });\r\n}\r\n\r\nfunction hasHook (hook, vueOptions) {\r\n  if (!vueOptions) {\r\n    return true\r\n  }\r\n\r\n  if (Vue.options && Array.isArray(Vue.options[hook])) {\r\n    return true\r\n  }\r\n\r\n  vueOptions = vueOptions.default || vueOptions;\r\n\r\n  if (isFn(vueOptions)) {\r\n    if (isFn(vueOptions.extendOptions[hook])) {\r\n      return true\r\n    }\r\n    if (vueOptions.super &&\r\n      vueOptions.super.options &&\r\n      Array.isArray(vueOptions.super.options[hook])) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  if (isFn(vueOptions[hook])) {\r\n    return true\r\n  }\r\n  const mixins = vueOptions.mixins;\r\n  if (Array.isArray(mixins)) {\r\n    return !!mixins.find(mixin => hasHook(hook, mixin))\r\n  }\r\n}\r\n\r\nfunction initHooks (mpOptions, hooks, vueOptions) {\r\n  hooks.forEach(hook => {\r\n    if (hasHook(hook, vueOptions)) {\r\n      mpOptions[hook] = function (args) {\r\n        return this.$vm && this.$vm.__call_hook(hook, args)\r\n      };\r\n    }\r\n  });\r\n}\r\n\r\nfunction initVueComponent (Vue, vueOptions) {\r\n  vueOptions = vueOptions.default || vueOptions;\r\n  let VueComponent;\r\n  if (isFn(vueOptions)) {\r\n    VueComponent = vueOptions;\r\n  } else {\r\n    VueComponent = Vue.extend(vueOptions);\r\n  }\r\n  vueOptions = VueComponent.options;\r\n  return [VueComponent, vueOptions]\r\n}\r\n\r\nfunction initSlots (vm, vueSlots) {\r\n  if (Array.isArray(vueSlots) && vueSlots.length) {\r\n    const $slots = Object.create(null);\r\n    vueSlots.forEach(slotName => {\r\n      $slots[slotName] = true;\r\n    });\r\n    vm.$scopedSlots = vm.$slots = $slots;\r\n  }\r\n}\r\n\r\nfunction initVueIds (vueIds, mpInstance) {\r\n  vueIds = (vueIds || '').split(',');\r\n  const len = vueIds.length;\r\n\r\n  if (len === 1) {\r\n    mpInstance._$vueId = vueIds[0];\r\n  } else if (len === 2) {\r\n    mpInstance._$vueId = vueIds[0];\r\n    mpInstance._$vuePid = vueIds[1];\r\n  }\r\n}\r\n\r\nfunction initData (vueOptions, context) {\r\n  let data = vueOptions.data || {};\r\n  const methods = vueOptions.methods || {};\r\n\r\n  if (typeof data === 'function') {\r\n    try {\r\n      data = data.call(context); // 支持 Vue.prototype 上挂的数据\r\n    } catch (e) {\r\n      if (process.env.VUE_APP_DEBUG) {\r\n        console.warn('根据 Vue 的 data 函数初始化小程序 data 失败，请尽量确保 data 函数中不访问 vm 对象，否则可能影响首次数据渲染速度。', data);\r\n      }\r\n    }\r\n  } else {\r\n    try {\r\n      // 对 data 格式化\r\n      data = JSON.parse(JSON.stringify(data));\r\n    } catch (e) {}\r\n  }\r\n\r\n  if (!isPlainObject(data)) {\r\n    data = {};\r\n  }\r\n\r\n  Object.keys(methods).forEach(methodName => {\r\n    if (context.__lifecycle_hooks__.indexOf(methodName) === -1 && !hasOwn(data, methodName)) {\r\n      data[methodName] = methods[methodName];\r\n    }\r\n  });\r\n\r\n  return data\r\n}\r\n\r\nconst PROP_TYPES = [String, Number, Boolean, Object, Array, null];\r\n\r\nfunction createObserver (name) {\r\n  return function observer (newVal, oldVal) {\r\n    if (this.$vm) {\r\n      this.$vm[name] = newVal; // 为了触发其他非 render watcher\r\n    }\r\n  }\r\n}\r\n\r\nfunction initBehaviors (vueOptions, initBehavior) {\r\n  const vueBehaviors = vueOptions.behaviors;\r\n  const vueExtends = vueOptions.extends;\r\n  const vueMixins = vueOptions.mixins;\r\n\r\n  let vueProps = vueOptions.props;\r\n\r\n  if (!vueProps) {\r\n    vueOptions.props = vueProps = [];\r\n  }\r\n\r\n  const behaviors = [];\r\n  if (Array.isArray(vueBehaviors)) {\r\n    vueBehaviors.forEach(behavior => {\r\n      behaviors.push(behavior.replace('uni://', `${\"wx\"}://`));\r\n      if (behavior === 'uni://form-field') {\r\n        if (Array.isArray(vueProps)) {\r\n          vueProps.push('name');\r\n          vueProps.push('value');\r\n        } else {\r\n          vueProps.name = {\r\n            type: String,\r\n            default: ''\r\n          };\r\n          vueProps.value = {\r\n            type: [String, Number, Boolean, Array, Object, Date],\r\n            default: ''\r\n          };\r\n        }\r\n      }\r\n    });\r\n  }\r\n  if (isPlainObject(vueExtends) && vueExtends.props) {\r\n    behaviors.push(\r\n      initBehavior({\r\n        properties: initProperties(vueExtends.props, true)\r\n      })\r\n    );\r\n  }\r\n  if (Array.isArray(vueMixins)) {\r\n    vueMixins.forEach(vueMixin => {\r\n      if (isPlainObject(vueMixin) && vueMixin.props) {\r\n        behaviors.push(\r\n          initBehavior({\r\n            properties: initProperties(vueMixin.props, true)\r\n          })\r\n        );\r\n      }\r\n    });\r\n  }\r\n  return behaviors\r\n}\r\n\r\nfunction parsePropType (key, type, defaultValue, file) {\r\n  // [String]=>String\r\n  if (Array.isArray(type) && type.length === 1) {\r\n    return type[0]\r\n  }\r\n  return type\r\n}\r\n\r\nfunction initProperties (props, isBehavior = false, file = '') {\r\n  const properties = {};\r\n  if (!isBehavior) {\r\n    properties.vueId = {\r\n      type: String,\r\n      value: ''\r\n    };\r\n    // 用于字节跳动小程序模拟抽象节点\r\n    properties.generic = {\r\n      type: Object,\r\n      value: null\r\n    };\r\n    properties.vueSlots = { // 小程序不能直接定义 $slots 的 props，所以通过 vueSlots 转换到 $slots\r\n      type: null,\r\n      value: [],\r\n      observer: function (newVal, oldVal) {\r\n        const $slots = Object.create(null);\r\n        newVal.forEach(slotName => {\r\n          $slots[slotName] = true;\r\n        });\r\n        this.setData({\r\n          $slots\r\n        });\r\n      }\r\n    };\r\n  }\r\n  if (Array.isArray(props)) { // ['title']\r\n    props.forEach(key => {\r\n      properties[key] = {\r\n        type: null,\r\n        observer: createObserver(key)\r\n      };\r\n    });\r\n  } else if (isPlainObject(props)) { // {title:{type:String,default:''},content:String}\r\n    Object.keys(props).forEach(key => {\r\n      const opts = props[key];\r\n      if (isPlainObject(opts)) { // title:{type:String,default:''}\r\n        let value = opts.default;\r\n        if (isFn(value)) {\r\n          value = value();\r\n        }\r\n\r\n        opts.type = parsePropType(key, opts.type);\r\n\r\n        properties[key] = {\r\n          type: PROP_TYPES.indexOf(opts.type) !== -1 ? opts.type : null,\r\n          value,\r\n          observer: createObserver(key)\r\n        };\r\n      } else { // content:String\r\n        const type = parsePropType(key, opts);\r\n        properties[key] = {\r\n          type: PROP_TYPES.indexOf(type) !== -1 ? type : null,\r\n          observer: createObserver(key)\r\n        };\r\n      }\r\n    });\r\n  }\r\n  return properties\r\n}\r\n\r\nfunction wrapper$1 (event) {\r\n  // TODO 又得兼容 mpvue 的 mp 对象\r\n  try {\r\n    event.mp = JSON.parse(JSON.stringify(event));\r\n  } catch (e) {}\r\n\r\n  event.stopPropagation = noop;\r\n  event.preventDefault = noop;\r\n\r\n  event.target = event.target || {};\r\n\r\n  if (!hasOwn(event, 'detail')) {\r\n    event.detail = {};\r\n  }\r\n\r\n  if (hasOwn(event, 'markerId')) {\r\n    event.detail = typeof event.detail === 'object' ? event.detail : {};\r\n    event.detail.markerId = event.markerId;\r\n  }\r\n\r\n  if (isPlainObject(event.detail)) {\r\n    event.target = Object.assign({}, event.target, event.detail);\r\n  }\r\n\r\n  return event\r\n}\r\n\r\nfunction getExtraValue (vm, dataPathsArray) {\r\n  let context = vm;\r\n  dataPathsArray.forEach(dataPathArray => {\r\n    const dataPath = dataPathArray[0];\r\n    const value = dataPathArray[2];\r\n    if (dataPath || typeof value !== 'undefined') { // ['','',index,'disable']\r\n      const propPath = dataPathArray[1];\r\n      const valuePath = dataPathArray[3];\r\n\r\n      let vFor;\r\n      if (Number.isInteger(dataPath)) {\r\n        vFor = dataPath;\r\n      } else if (!dataPath) {\r\n        vFor = context;\r\n      } else if (typeof dataPath === 'string' && dataPath) {\r\n        if (dataPath.indexOf('#s#') === 0) {\r\n          vFor = dataPath.substr(3);\r\n        } else {\r\n          vFor = vm.__get_value(dataPath, context);\r\n        }\r\n      }\r\n\r\n      if (Number.isInteger(vFor)) {\r\n        context = value;\r\n      } else if (!propPath) {\r\n        context = vFor[value];\r\n      } else {\r\n        if (Array.isArray(vFor)) {\r\n          context = vFor.find(vForItem => {\r\n            return vm.__get_value(propPath, vForItem) === value\r\n          });\r\n        } else if (isPlainObject(vFor)) {\r\n          context = Object.keys(vFor).find(vForKey => {\r\n            return vm.__get_value(propPath, vFor[vForKey]) === value\r\n          });\r\n        } else {\r\n          console.error('v-for 暂不支持循环数据：', vFor);\r\n        }\r\n      }\r\n\r\n      if (valuePath) {\r\n        context = vm.__get_value(valuePath, context);\r\n      }\r\n    }\r\n  });\r\n  return context\r\n}\r\n\r\nfunction processEventExtra (vm, extra, event) {\r\n  const extraObj = {};\r\n\r\n  if (Array.isArray(extra) && extra.length) {\r\n    /**\r\n     *[\r\n     *    ['data.items', 'data.id', item.data.id],\r\n     *    ['metas', 'id', meta.id]\r\n     *],\r\n     *[\r\n     *    ['data.items', 'data.id', item.data.id],\r\n     *    ['metas', 'id', meta.id]\r\n     *],\r\n     *'test'\r\n     */\r\n    extra.forEach((dataPath, index) => {\r\n      if (typeof dataPath === 'string') {\r\n        if (!dataPath) { // model,prop.sync\r\n          extraObj['$' + index] = vm;\r\n        } else {\r\n          if (dataPath === '$event') { // $event\r\n            extraObj['$' + index] = event;\r\n          } else if (dataPath === 'arguments') {\r\n            if (event.detail && event.detail.__args__) {\r\n              extraObj['$' + index] = event.detail.__args__;\r\n            } else {\r\n              extraObj['$' + index] = [event];\r\n            }\r\n          } else if (dataPath.indexOf('$event.') === 0) { // $event.target.value\r\n            extraObj['$' + index] = vm.__get_value(dataPath.replace('$event.', ''), event);\r\n          } else {\r\n            extraObj['$' + index] = vm.__get_value(dataPath);\r\n          }\r\n        }\r\n      } else {\r\n        extraObj['$' + index] = getExtraValue(vm, dataPath);\r\n      }\r\n    });\r\n  }\r\n\r\n  return extraObj\r\n}\r\n\r\nfunction getObjByArray (arr) {\r\n  const obj = {};\r\n  for (let i = 1; i < arr.length; i++) {\r\n    const element = arr[i];\r\n    obj[element[0]] = element[1];\r\n  }\r\n  return obj\r\n}\r\n\r\nfunction processEventArgs (vm, event, args = [], extra = [], isCustom, methodName) {\r\n  let isCustomMPEvent = false; // wxcomponent 组件，传递原始 event 对象\r\n  if (isCustom) { // 自定义事件\r\n    isCustomMPEvent = event.currentTarget &&\r\n      event.currentTarget.dataset &&\r\n      event.currentTarget.dataset.comType === 'wx';\r\n    if (!args.length) { // 无参数，直接传入 event 或 detail 数组\r\n      if (isCustomMPEvent) {\r\n        return [event]\r\n      }\r\n      return event.detail.__args__ || event.detail\r\n    }\r\n  }\r\n\r\n  const extraObj = processEventExtra(vm, extra, event);\r\n\r\n  const ret = [];\r\n  args.forEach(arg => {\r\n    if (arg === '$event') {\r\n      if (methodName === '__set_model' && !isCustom) { // input v-model value\r\n        ret.push(event.target.value);\r\n      } else {\r\n        if (isCustom && !isCustomMPEvent) {\r\n          ret.push(event.detail.__args__[0]);\r\n        } else { // wxcomponent 组件或内置组件\r\n          ret.push(event);\r\n        }\r\n      }\r\n    } else {\r\n      if (Array.isArray(arg) && arg[0] === 'o') {\r\n        ret.push(getObjByArray(arg));\r\n      } else if (typeof arg === 'string' && hasOwn(extraObj, arg)) {\r\n        ret.push(extraObj[arg]);\r\n      } else {\r\n        ret.push(arg);\r\n      }\r\n    }\r\n  });\r\n\r\n  return ret\r\n}\r\n\r\nconst ONCE = '~';\r\nconst CUSTOM = '^';\r\n\r\nfunction isMatchEventType (eventType, optType) {\r\n  return (eventType === optType) ||\r\n    (\r\n      optType === 'regionchange' &&\r\n      (\r\n        eventType === 'begin' ||\r\n        eventType === 'end'\r\n      )\r\n    )\r\n}\r\n\r\nfunction getContextVm (vm) {\r\n  let $parent = vm.$parent;\r\n  // 父组件是 scoped slots 或者其他自定义组件时继续查找\r\n  while ($parent && $parent.$parent && ($parent.$options.generic || $parent.$parent.$options.generic || $parent.$scope._$vuePid)) {\r\n    $parent = $parent.$parent;\r\n  }\r\n  return $parent && $parent.$parent\r\n}\r\n\r\nfunction handleEvent (event) {\r\n  event = wrapper$1(event);\r\n\r\n  // [['tap',[['handle',[1,2,a]],['handle1',[1,2,a]]]]]\r\n  const dataset = (event.currentTarget || event.target).dataset;\r\n  if (!dataset) {\r\n    return console.warn('事件信息不存在')\r\n  }\r\n  const eventOpts = dataset.eventOpts || dataset['event-opts']; // 支付宝 web-view 组件 dataset 非驼峰\r\n  if (!eventOpts) {\r\n    return console.warn('事件信息不存在')\r\n  }\r\n\r\n  // [['handle',[1,2,a]],['handle1',[1,2,a]]]\r\n  const eventType = event.type;\r\n\r\n  const ret = [];\r\n\r\n  eventOpts.forEach(eventOpt => {\r\n    let type = eventOpt[0];\r\n    const eventsArray = eventOpt[1];\r\n\r\n    const isCustom = type.charAt(0) === CUSTOM;\r\n    type = isCustom ? type.slice(1) : type;\r\n    const isOnce = type.charAt(0) === ONCE;\r\n    type = isOnce ? type.slice(1) : type;\r\n\r\n    if (eventsArray && isMatchEventType(eventType, type)) {\r\n      eventsArray.forEach(eventArray => {\r\n        const methodName = eventArray[0];\r\n        if (methodName) {\r\n          let handlerCtx = this.$vm;\r\n          if (handlerCtx.$options.generic) { // mp-weixin,mp-toutiao 抽象节点模拟 scoped slots\r\n            handlerCtx = getContextVm(handlerCtx) || handlerCtx;\r\n          }\r\n          if (methodName === '$emit') {\r\n            handlerCtx.$emit.apply(handlerCtx,\r\n              processEventArgs(\r\n                this.$vm,\r\n                event,\r\n                eventArray[1],\r\n                eventArray[2],\r\n                isCustom,\r\n                methodName\r\n              ));\r\n            return\r\n          }\r\n          const handler = handlerCtx[methodName];\r\n          if (!isFn(handler)) {\r\n            throw new Error(` _vm.${methodName} is not a function`)\r\n          }\r\n          if (isOnce) {\r\n            if (handler.once) {\r\n              return\r\n            }\r\n            handler.once = true;\r\n          }\r\n          const params = processEventArgs(\r\n            this.$vm,\r\n            event,\r\n            eventArray[1],\r\n            eventArray[2],\r\n            isCustom,\r\n            methodName\r\n          );\r\n          // 参数尾部增加原始事件对象用于复杂表达式内获取额外数据\r\n          // eslint-disable-next-line no-sparse-arrays\r\n          ret.push(handler.apply(handlerCtx, (Array.isArray(params) ? params : []).concat([, , , , , , , , , , event])));\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  if (\r\n    eventType === 'input' &&\r\n    ret.length === 1 &&\r\n    typeof ret[0] !== 'undefined'\r\n  ) {\r\n    return ret[0]\r\n  }\r\n}\r\n\r\nconst hooks = [\r\n  'onShow',\r\n  'onHide',\r\n  'onError',\r\n  'onPageNotFound',\r\n  'onThemeChange',\r\n  'onUnhandledRejection'\r\n];\r\n\r\nfunction parseBaseApp (vm, {\r\n  mocks,\r\n  initRefs\r\n}) {\r\n  if (vm.$options.store) {\r\n    Vue.prototype.$store = vm.$options.store;\r\n  }\r\n\r\n  Vue.prototype.mpHost = \"mp-weixin\";\r\n\r\n  Vue.mixin({\r\n    beforeCreate () {\r\n      if (!this.$options.mpType) {\r\n        return\r\n      }\r\n\r\n      this.mpType = this.$options.mpType;\r\n\r\n      this.$mp = {\r\n        data: {},\r\n        [this.mpType]: this.$options.mpInstance\r\n      };\r\n\r\n      this.$scope = this.$options.mpInstance;\r\n\r\n      delete this.$options.mpType;\r\n      delete this.$options.mpInstance;\r\n\r\n      if (this.mpType !== 'app') {\r\n        initRefs(this);\r\n        initMocks(this, mocks);\r\n      }\r\n    }\r\n  });\r\n\r\n  const appOptions = {\r\n    onLaunch (args) {\r\n      if (this.$vm) { // 已经初始化过了，主要是为了百度，百度 onShow 在 onLaunch 之前\r\n        return\r\n      }\r\n      {\r\n        if (!wx.canIUse('nextTick')) { // 事实 上2.2.3 即可，简单使用 2.3.0 的 nextTick 判断\r\n          console.error('当前微信基础库版本过低，请将 微信开发者工具-详情-项目设置-调试基础库版本 更换为`2.3.0`以上');\r\n        }\r\n      }\r\n\r\n      this.$vm = vm;\r\n\r\n      this.$vm.$mp = {\r\n        app: this\r\n      };\r\n\r\n      this.$vm.$scope = this;\r\n      // vm 上也挂载 globalData\r\n      this.$vm.globalData = this.globalData;\r\n\r\n      this.$vm._isMounted = true;\r\n      this.$vm.__call_hook('mounted', args);\r\n\r\n      this.$vm.__call_hook('onLaunch', args);\r\n    }\r\n  };\r\n\r\n  // 兼容旧版本 globalData\r\n  appOptions.globalData = vm.$options.globalData || {};\r\n  // 将 methods 中的方法挂在 getApp() 中\r\n  const methods = vm.$options.methods;\r\n  if (methods) {\r\n    Object.keys(methods).forEach(name => {\r\n      appOptions[name] = methods[name];\r\n    });\r\n  }\r\n\r\n  initHooks(appOptions, hooks);\r\n\r\n  return appOptions\r\n}\r\n\r\nconst mocks = ['__route__', '__wxExparserNodeId__', '__wxWebviewId__'];\r\n\r\nfunction findVmByVueId (vm, vuePid) {\r\n  const $children = vm.$children;\r\n  // 优先查找直属(反向查找:https://github.com/dcloudio/uni-app/issues/1200)\r\n  for (let i = $children.length - 1; i >= 0; i--) {\r\n    const childVm = $children[i];\r\n    if (childVm.$scope._$vueId === vuePid) {\r\n      return childVm\r\n    }\r\n  }\r\n  // 反向递归查找\r\n  let parentVm;\r\n  for (let i = $children.length - 1; i >= 0; i--) {\r\n    parentVm = findVmByVueId($children[i], vuePid);\r\n    if (parentVm) {\r\n      return parentVm\r\n    }\r\n  }\r\n}\r\n\r\nfunction initBehavior (options) {\r\n  return Behavior(options)\r\n}\r\n\r\nfunction isPage () {\r\n  return !!this.route\r\n}\r\n\r\nfunction initRelation (detail) {\r\n  this.triggerEvent('__l', detail);\r\n}\r\n\r\nfunction initRefs (vm) {\r\n  const mpInstance = vm.$scope;\r\n  Object.defineProperty(vm, '$refs', {\r\n    get () {\r\n      const $refs = {};\r\n      const components = mpInstance.selectAllComponents('.vue-ref');\r\n      components.forEach(component => {\r\n        const ref = component.dataset.ref;\r\n        $refs[ref] = component.$vm || component;\r\n      });\r\n      const forComponents = mpInstance.selectAllComponents('.vue-ref-in-for');\r\n      forComponents.forEach(component => {\r\n        const ref = component.dataset.ref;\r\n        if (!$refs[ref]) {\r\n          $refs[ref] = [];\r\n        }\r\n        $refs[ref].push(component.$vm || component);\r\n      });\r\n      return $refs\r\n    }\r\n  });\r\n}\r\n\r\nfunction handleLink (event) {\r\n  const {\r\n    vuePid,\r\n    vueOptions\r\n  } = event.detail || event.value; // detail 是微信,value 是百度(dipatch)\r\n\r\n  let parentVm;\r\n\r\n  if (vuePid) {\r\n    parentVm = findVmByVueId(this.$vm, vuePid);\r\n  }\r\n\r\n  if (!parentVm) {\r\n    parentVm = this.$vm;\r\n  }\r\n\r\n  vueOptions.parent = parentVm;\r\n}\r\n\r\nfunction parseApp (vm) {\r\n  return parseBaseApp(vm, {\r\n    mocks,\r\n    initRefs\r\n  })\r\n}\r\n\r\nfunction createApp (vm) {\r\n  Vue.prototype.getOpenerEventChannel = function () {\r\n    if (!this.__eventChannel__) {\r\n      this.__eventChannel__ = new EventChannel();\r\n    }\r\n    return this.__eventChannel__\r\n  };\r\n  const callHook = Vue.prototype.__call_hook;\r\n  Vue.prototype.__call_hook = function (hook, args) {\r\n    if (hook === 'onLoad' && args && args.__id__) {\r\n      this.__eventChannel__ = getEventChannel(args.__id__);\r\n      delete args.__id__;\r\n    }\r\n    return callHook.call(this, hook, args)\r\n  };\r\n  App(parseApp(vm));\r\n  return vm\r\n}\r\n\r\nconst encodeReserveRE = /[!'()*]/g;\r\nconst encodeReserveReplacer = c => '%' + c.charCodeAt(0).toString(16);\r\nconst commaRE = /%2C/g;\r\n\r\n// fixed encodeURIComponent which is more conformant to RFC3986:\r\n// - escapes [!'()*]\r\n// - preserve commas\r\nconst encode = str => encodeURIComponent(str)\r\n  .replace(encodeReserveRE, encodeReserveReplacer)\r\n  .replace(commaRE, ',');\r\n\r\nfunction stringifyQuery (obj, encodeStr = encode) {\r\n  const res = obj ? Object.keys(obj).map(key => {\r\n    const val = obj[key];\r\n\r\n    if (val === undefined) {\r\n      return ''\r\n    }\r\n\r\n    if (val === null) {\r\n      return encodeStr(key)\r\n    }\r\n\r\n    if (Array.isArray(val)) {\r\n      const result = [];\r\n      val.forEach(val2 => {\r\n        if (val2 === undefined) {\r\n          return\r\n        }\r\n        if (val2 === null) {\r\n          result.push(encodeStr(key));\r\n        } else {\r\n          result.push(encodeStr(key) + '=' + encodeStr(val2));\r\n        }\r\n      });\r\n      return result.join('&')\r\n    }\r\n\r\n    return encodeStr(key) + '=' + encodeStr(val)\r\n  }).filter(x => x.length > 0).join('&') : null;\r\n  return res ? `?${res}` : ''\r\n}\r\n\r\nfunction parseBaseComponent (vueComponentOptions, {\r\n  isPage,\r\n  initRelation\r\n} = {}) {\r\n  const [VueComponent, vueOptions] = initVueComponent(Vue, vueComponentOptions);\r\n\r\n  const options = {\r\n    multipleSlots: true,\r\n    addGlobalClass: true,\r\n    ...(vueOptions.options || {})\r\n  };\r\n\r\n  {\r\n    // 微信 multipleSlots 部分情况有 bug，导致内容顺序错乱 如 u-list，提供覆盖选项\r\n    if (vueOptions['mp-weixin'] && vueOptions['mp-weixin'].options) {\r\n      Object.assign(options, vueOptions['mp-weixin'].options);\r\n    }\r\n  }\r\n\r\n  const componentOptions = {\r\n    options,\r\n    data: initData(vueOptions, Vue.prototype),\r\n    behaviors: initBehaviors(vueOptions, initBehavior),\r\n    properties: initProperties(vueOptions.props, false, vueOptions.__file),\r\n    lifetimes: {\r\n      attached () {\r\n        const properties = this.properties;\r\n\r\n        const options = {\r\n          mpType: isPage.call(this) ? 'page' : 'component',\r\n          mpInstance: this,\r\n          propsData: properties\r\n        };\r\n\r\n        initVueIds(properties.vueId, this);\r\n\r\n        // 处理父子关系\r\n        initRelation.call(this, {\r\n          vuePid: this._$vuePid,\r\n          vueOptions: options\r\n        });\r\n\r\n        // 初始化 vue 实例\r\n        this.$vm = new VueComponent(options);\r\n\r\n        // 处理$slots,$scopedSlots（暂不支持动态变化$slots）\r\n        initSlots(this.$vm, properties.vueSlots);\r\n\r\n        // 触发首次 setData\r\n        this.$vm.$mount();\r\n      },\r\n      ready () {\r\n        // 当组件 props 默认值为 true，初始化时传入 false 会导致 created,ready 触发, 但 attached 不触发\r\n        // https://developers.weixin.qq.com/community/develop/doc/00066ae2844cc0f8eb883e2a557800\r\n        if (this.$vm) {\r\n          this.$vm._isMounted = true;\r\n          this.$vm.__call_hook('mounted');\r\n          this.$vm.__call_hook('onReady');\r\n        }\r\n      },\r\n      detached () {\r\n        this.$vm && this.$vm.$destroy();\r\n      }\r\n    },\r\n    pageLifetimes: {\r\n      show (args) {\r\n        this.$vm && this.$vm.__call_hook('onPageShow', args);\r\n      },\r\n      hide () {\r\n        this.$vm && this.$vm.__call_hook('onPageHide');\r\n      },\r\n      resize (size) {\r\n        this.$vm && this.$vm.__call_hook('onPageResize', size);\r\n      }\r\n    },\r\n    methods: {\r\n      __l: handleLink,\r\n      __e: handleEvent\r\n    }\r\n  };\r\n  // externalClasses\r\n  if (vueOptions.externalClasses) {\r\n    componentOptions.externalClasses = vueOptions.externalClasses;\r\n  }\r\n\r\n  if (Array.isArray(vueOptions.wxsCallMethods)) {\r\n    vueOptions.wxsCallMethods.forEach(callMethod => {\r\n      componentOptions.methods[callMethod] = function (args) {\r\n        return this.$vm[callMethod](args)\r\n      };\r\n    });\r\n  }\r\n\r\n  if (isPage) {\r\n    return componentOptions\r\n  }\r\n  return [componentOptions, VueComponent]\r\n}\r\n\r\nfunction parseComponent (vueComponentOptions) {\r\n  return parseBaseComponent(vueComponentOptions, {\r\n    isPage,\r\n    initRelation\r\n  })\r\n}\r\n\r\nconst hooks$1 = [\r\n  'onShow',\r\n  'onHide',\r\n  'onUnload'\r\n];\r\n\r\nhooks$1.push(...PAGE_EVENT_HOOKS);\r\n\r\nfunction parseBasePage (vuePageOptions, {\r\n  isPage,\r\n  initRelation\r\n}) {\r\n  const pageOptions = parseComponent(vuePageOptions);\r\n\r\n  initHooks(pageOptions.methods, hooks$1, vuePageOptions);\r\n\r\n  pageOptions.methods.onLoad = function (query) {\r\n    this.options = query;\r\n    const copyQuery = Object.assign({}, query);\r\n    delete copyQuery.__id__;\r\n    this.$page = {\r\n      fullPath: '/' + (this.route || this.is) + stringifyQuery(copyQuery)\r\n    };\r\n    this.$vm.$mp.query = query; // 兼容 mpvue\r\n    this.$vm.__call_hook('onLoad', query);\r\n  };\r\n\r\n  return pageOptions\r\n}\r\n\r\nfunction parsePage (vuePageOptions) {\r\n  return parseBasePage(vuePageOptions, {\r\n    isPage,\r\n    initRelation\r\n  })\r\n}\r\n\r\nfunction createPage (vuePageOptions) {\r\n  {\r\n    return Component(parsePage(vuePageOptions))\r\n  }\r\n}\r\n\r\nfunction createComponent (vueOptions) {\r\n  {\r\n    return Component(parseComponent(vueOptions))\r\n  }\r\n}\r\n\r\ntodos.forEach(todoApi => {\r\n  protocols[todoApi] = false;\r\n});\r\n\r\ncanIUses.forEach(canIUseApi => {\r\n  const apiName = protocols[canIUseApi] && protocols[canIUseApi].name ? protocols[canIUseApi].name\r\n    : canIUseApi;\r\n  if (!wx.canIUse(apiName)) {\r\n    protocols[canIUseApi] = false;\r\n  }\r\n});\r\n\r\nlet uni = {};\r\n\r\nif (typeof Proxy !== 'undefined' && \"mp-weixin\" !== 'app-plus') {\r\n  uni = new Proxy({}, {\r\n    get (target, name) {\r\n      if (hasOwn(target, name)) {\r\n        return target[name]\r\n      }\r\n      if (baseApi[name]) {\r\n        return baseApi[name]\r\n      }\r\n      if (api[name]) {\r\n        return promisify(name, api[name])\r\n      }\r\n      {\r\n        if (extraApi[name]) {\r\n          return promisify(name, extraApi[name])\r\n        }\r\n        if (todoApis[name]) {\r\n          return promisify(name, todoApis[name])\r\n        }\r\n      }\r\n      if (eventApi[name]) {\r\n        return eventApi[name]\r\n      }\r\n      if (!hasOwn(wx, name) && !hasOwn(protocols, name)) {\r\n        return\r\n      }\r\n      return promisify(name, wrapper(name, wx[name]))\r\n    },\r\n    set (target, name, value) {\r\n      target[name] = value;\r\n      return true\r\n    }\r\n  });\r\n} else {\r\n  Object.keys(baseApi).forEach(name => {\r\n    uni[name] = baseApi[name];\r\n  });\r\n\r\n  {\r\n    Object.keys(todoApis).forEach(name => {\r\n      uni[name] = promisify(name, todoApis[name]);\r\n    });\r\n    Object.keys(extraApi).forEach(name => {\r\n      uni[name] = promisify(name, todoApis[name]);\r\n    });\r\n  }\r\n\r\n  Object.keys(eventApi).forEach(name => {\r\n    uni[name] = eventApi[name];\r\n  });\r\n\r\n  Object.keys(api).forEach(name => {\r\n    uni[name] = promisify(name, api[name]);\r\n  });\r\n\r\n  Object.keys(wx).forEach(name => {\r\n    if (hasOwn(wx, name) || hasOwn(protocols, name)) {\r\n      uni[name] = promisify(name, wrapper(name, wx[name]));\r\n    }\r\n  });\r\n}\r\n\r\nwx.createApp = createApp;\r\nwx.createPage = createPage;\r\nwx.createComponent = createComponent;\r\n\r\nvar uni$1 = uni;\r\n\r\nexport default uni$1;\r\nexport { createApp, createComponent, createPage };\r\n","/*!\n * Vue.js v2.6.11\n * (c) 2014-2020 Evan You\n * Released under the MIT License.\n */\n/*  */\n\nvar emptyObject = Object.freeze({});\n\n// These helpers produce better VM code in JS engines due to their\n// explicitness and function inlining.\nfunction isUndef (v) {\n  return v === undefined || v === null\n}\n\nfunction isDef (v) {\n  return v !== undefined && v !== null\n}\n\nfunction isTrue (v) {\n  return v === true\n}\n\nfunction isFalse (v) {\n  return v === false\n}\n\n/**\n * Check if value is primitive.\n */\nfunction isPrimitive (value) {\n  return (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    // $flow-disable-line\n    typeof value === 'symbol' ||\n    typeof value === 'boolean'\n  )\n}\n\n/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n */\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\n/**\n * Get the raw type string of a value, e.g., [object Object].\n */\nvar _toString = Object.prototype.toString;\n\nfunction toRawType (value) {\n  return _toString.call(value).slice(8, -1)\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n */\nfunction isPlainObject (obj) {\n  return _toString.call(obj) === '[object Object]'\n}\n\nfunction isRegExp (v) {\n  return _toString.call(v) === '[object RegExp]'\n}\n\n/**\n * Check if val is a valid array index.\n */\nfunction isValidArrayIndex (val) {\n  var n = parseFloat(String(val));\n  return n >= 0 && Math.floor(n) === n && isFinite(val)\n}\n\nfunction isPromise (val) {\n  return (\n    isDef(val) &&\n    typeof val.then === 'function' &&\n    typeof val.catch === 'function'\n  )\n}\n\n/**\n * Convert a value to a string that is actually rendered.\n */\nfunction toString (val) {\n  return val == null\n    ? ''\n    : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n      ? JSON.stringify(val, null, 2)\n      : String(val)\n}\n\n/**\n * Convert an input value to a number for persistence.\n * If the conversion fails, return original string.\n */\nfunction toNumber (val) {\n  var n = parseFloat(val);\n  return isNaN(n) ? val : n\n}\n\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n */\nfunction makeMap (\n  str,\n  expectsLowerCase\n) {\n  var map = Object.create(null);\n  var list = str.split(',');\n  for (var i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase\n    ? function (val) { return map[val.toLowerCase()]; }\n    : function (val) { return map[val]; }\n}\n\n/**\n * Check if a tag is a built-in tag.\n */\nvar isBuiltInTag = makeMap('slot,component', true);\n\n/**\n * Check if an attribute is a reserved attribute.\n */\nvar isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');\n\n/**\n * Remove an item from an array.\n */\nfunction remove (arr, item) {\n  if (arr.length) {\n    var index = arr.indexOf(item);\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\n/**\n * Check whether an object has the property.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn (obj, key) {\n  return hasOwnProperty.call(obj, key)\n}\n\n/**\n * Create a cached version of a pure function.\n */\nfunction cached (fn) {\n  var cache = Object.create(null);\n  return (function cachedFn (str) {\n    var hit = cache[str];\n    return hit || (cache[str] = fn(str))\n  })\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nvar camelizeRE = /-(\\w)/g;\nvar camelize = cached(function (str) {\n  return str.replace(camelizeRE, function (_, c) { return c ? c.toUpperCase() : ''; })\n});\n\n/**\n * Capitalize a string.\n */\nvar capitalize = cached(function (str) {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n});\n\n/**\n * Hyphenate a camelCase string.\n */\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = cached(function (str) {\n  return str.replace(hyphenateRE, '-$1').toLowerCase()\n});\n\n/**\n * Simple bind polyfill for environments that do not support it,\n * e.g., PhantomJS 1.x. Technically, we don't need this anymore\n * since native bind is now performant enough in most browsers.\n * But removing it would mean breaking code that was able to run in\n * PhantomJS 1.x, so this must be kept for backward compatibility.\n */\n\n/* istanbul ignore next */\nfunction polyfillBind (fn, ctx) {\n  function boundFn (a) {\n    var l = arguments.length;\n    return l\n      ? l > 1\n        ? fn.apply(ctx, arguments)\n        : fn.call(ctx, a)\n      : fn.call(ctx)\n  }\n\n  boundFn._length = fn.length;\n  return boundFn\n}\n\nfunction nativeBind (fn, ctx) {\n  return fn.bind(ctx)\n}\n\nvar bind = Function.prototype.bind\n  ? nativeBind\n  : polyfillBind;\n\n/**\n * Convert an Array-like object to a real Array.\n */\nfunction toArray (list, start) {\n  start = start || 0;\n  var i = list.length - start;\n  var ret = new Array(i);\n  while (i--) {\n    ret[i] = list[i + start];\n  }\n  return ret\n}\n\n/**\n * Mix properties into target object.\n */\nfunction extend (to, _from) {\n  for (var key in _from) {\n    to[key] = _from[key];\n  }\n  return to\n}\n\n/**\n * Merge an Array of Objects into a single Object.\n */\nfunction toObject (arr) {\n  var res = {};\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      extend(res, arr[i]);\n    }\n  }\n  return res\n}\n\n/* eslint-disable no-unused-vars */\n\n/**\n * Perform no operation.\n * Stubbing args to make Flow happy without leaving useless transpiled code\n * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).\n */\nfunction noop (a, b, c) {}\n\n/**\n * Always return false.\n */\nvar no = function (a, b, c) { return false; };\n\n/* eslint-enable no-unused-vars */\n\n/**\n * Return the same value.\n */\nvar identity = function (_) { return _; };\n\n/**\n * Check if two values are loosely equal - that is,\n * if they are plain objects, do they have the same shape?\n */\nfunction looseEqual (a, b) {\n  if (a === b) { return true }\n  var isObjectA = isObject(a);\n  var isObjectB = isObject(b);\n  if (isObjectA && isObjectB) {\n    try {\n      var isArrayA = Array.isArray(a);\n      var isArrayB = Array.isArray(b);\n      if (isArrayA && isArrayB) {\n        return a.length === b.length && a.every(function (e, i) {\n          return looseEqual(e, b[i])\n        })\n      } else if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime()\n      } else if (!isArrayA && !isArrayB) {\n        var keysA = Object.keys(a);\n        var keysB = Object.keys(b);\n        return keysA.length === keysB.length && keysA.every(function (key) {\n          return looseEqual(a[key], b[key])\n        })\n      } else {\n        /* istanbul ignore next */\n        return false\n      }\n    } catch (e) {\n      /* istanbul ignore next */\n      return false\n    }\n  } else if (!isObjectA && !isObjectB) {\n    return String(a) === String(b)\n  } else {\n    return false\n  }\n}\n\n/**\n * Return the first index at which a loosely equal value can be\n * found in the array (if value is a plain object, the array must\n * contain an object of the same shape), or -1 if it is not present.\n */\nfunction looseIndexOf (arr, val) {\n  for (var i = 0; i < arr.length; i++) {\n    if (looseEqual(arr[i], val)) { return i }\n  }\n  return -1\n}\n\n/**\n * Ensure a function is called only once.\n */\nfunction once (fn) {\n  var called = false;\n  return function () {\n    if (!called) {\n      called = true;\n      fn.apply(this, arguments);\n    }\n  }\n}\n\nvar ASSET_TYPES = [\n  'component',\n  'directive',\n  'filter'\n];\n\nvar LIFECYCLE_HOOKS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed',\n  'activated',\n  'deactivated',\n  'errorCaptured',\n  'serverPrefetch'\n];\n\n/*  */\n\n\n\nvar config = ({\n  /**\n   * Option merge strategies (used in core/util/options)\n   */\n  // $flow-disable-line\n  optionMergeStrategies: Object.create(null),\n\n  /**\n   * Whether to suppress warnings.\n   */\n  silent: false,\n\n  /**\n   * Show production mode tip message on boot?\n   */\n  productionTip: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to enable devtools\n   */\n  devtools: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to record perf\n   */\n  performance: false,\n\n  /**\n   * Error handler for watcher errors\n   */\n  errorHandler: null,\n\n  /**\n   * Warn handler for watcher warns\n   */\n  warnHandler: null,\n\n  /**\n   * Ignore certain custom elements\n   */\n  ignoredElements: [],\n\n  /**\n   * Custom user key aliases for v-on\n   */\n  // $flow-disable-line\n  keyCodes: Object.create(null),\n\n  /**\n   * Check if a tag is reserved so that it cannot be registered as a\n   * component. This is platform-dependent and may be overwritten.\n   */\n  isReservedTag: no,\n\n  /**\n   * Check if an attribute is reserved so that it cannot be used as a component\n   * prop. This is platform-dependent and may be overwritten.\n   */\n  isReservedAttr: no,\n\n  /**\n   * Check if a tag is an unknown element.\n   * Platform-dependent.\n   */\n  isUnknownElement: no,\n\n  /**\n   * Get the namespace of an element\n   */\n  getTagNamespace: noop,\n\n  /**\n   * Parse the real tag name for the specific platform.\n   */\n  parsePlatformTagName: identity,\n\n  /**\n   * Check if an attribute must be bound using property, e.g. value\n   * Platform-dependent.\n   */\n  mustUseProp: no,\n\n  /**\n   * Perform updates asynchronously. Intended to be used by Vue Test Utils\n   * This will significantly reduce performance if set to false.\n   */\n  async: true,\n\n  /**\n   * Exposed for legacy reasons\n   */\n  _lifecycleHooks: LIFECYCLE_HOOKS\n});\n\n/*  */\n\n/**\n * unicode letters used for parsing html tags, component names and property paths.\n * using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname\n * skipping \\u10000-\\uEFFFF due to it freezing up PhantomJS\n */\nvar unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/;\n\n/**\n * Check if a string starts with $ or _\n */\nfunction isReserved (str) {\n  var c = (str + '').charCodeAt(0);\n  return c === 0x24 || c === 0x5F\n}\n\n/**\n * Define a property.\n */\nfunction def (obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  });\n}\n\n/**\n * Parse simple path.\n */\nvar bailRE = new RegExp((\"[^\" + (unicodeRegExp.source) + \".$_\\\\d]\"));\nfunction parsePath (path) {\n  if (bailRE.test(path)) {\n    return\n  }\n  var segments = path.split('.');\n  return function (obj) {\n    for (var i = 0; i < segments.length; i++) {\n      if (!obj) { return }\n      obj = obj[segments[i]];\n    }\n    return obj\n  }\n}\n\n/*  */\n\n// can we use __proto__?\nvar hasProto = '__proto__' in {};\n\n// Browser environment sniffing\nvar inBrowser = typeof window !== 'undefined';\nvar inWeex = typeof WXEnvironment !== 'undefined' && !!WXEnvironment.platform;\nvar weexPlatform = inWeex && WXEnvironment.platform.toLowerCase();\nvar UA = inBrowser && window.navigator.userAgent.toLowerCase();\nvar isIE = UA && /msie|trident/.test(UA);\nvar isIE9 = UA && UA.indexOf('msie 9.0') > 0;\nvar isEdge = UA && UA.indexOf('edge/') > 0;\nvar isAndroid = (UA && UA.indexOf('android') > 0) || (weexPlatform === 'android');\nvar isIOS = (UA && /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');\nvar isChrome = UA && /chrome\\/\\d+/.test(UA) && !isEdge;\nvar isPhantomJS = UA && /phantomjs/.test(UA);\nvar isFF = UA && UA.match(/firefox\\/(\\d+)/);\n\n// Firefox has a \"watch\" function on Object.prototype...\nvar nativeWatch = ({}).watch;\nif (inBrowser) {\n  try {\n    var opts = {};\n    Object.defineProperty(opts, 'passive', ({\n      get: function get () {\n      }\n    })); // https://github.com/facebook/flow/issues/285\n    window.addEventListener('test-passive', null, opts);\n  } catch (e) {}\n}\n\n// this needs to be lazy-evaled because vue may be required before\n// vue-server-renderer can set VUE_ENV\nvar _isServer;\nvar isServerRendering = function () {\n  if (_isServer === undefined) {\n    /* istanbul ignore if */\n    if (!inBrowser && !inWeex && typeof global !== 'undefined') {\n      // detect presence of vue-server-renderer and avoid\n      // Webpack shimming the process\n      _isServer = global['process'] && global['process'].env.VUE_ENV === 'server';\n    } else {\n      _isServer = false;\n    }\n  }\n  return _isServer\n};\n\n// detect devtools\nvar devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;\n\n/* istanbul ignore next */\nfunction isNative (Ctor) {\n  return typeof Ctor === 'function' && /native code/.test(Ctor.toString())\n}\n\nvar hasSymbol =\n  typeof Symbol !== 'undefined' && isNative(Symbol) &&\n  typeof Reflect !== 'undefined' && isNative(Reflect.ownKeys);\n\nvar _Set;\n/* istanbul ignore if */ // $flow-disable-line\nif (typeof Set !== 'undefined' && isNative(Set)) {\n  // use native Set when available.\n  _Set = Set;\n} else {\n  // a non-standard Set polyfill that only works with primitive keys.\n  _Set = /*@__PURE__*/(function () {\n    function Set () {\n      this.set = Object.create(null);\n    }\n    Set.prototype.has = function has (key) {\n      return this.set[key] === true\n    };\n    Set.prototype.add = function add (key) {\n      this.set[key] = true;\n    };\n    Set.prototype.clear = function clear () {\n      this.set = Object.create(null);\n    };\n\n    return Set;\n  }());\n}\n\n/*  */\n\nvar warn = noop;\nvar tip = noop;\nvar generateComponentTrace = (noop); // work around flow check\nvar formatComponentName = (noop);\n\nif (process.env.NODE_ENV !== 'production') {\n  var hasConsole = typeof console !== 'undefined';\n  var classifyRE = /(?:^|[-_])(\\w)/g;\n  var classify = function (str) { return str\n    .replace(classifyRE, function (c) { return c.toUpperCase(); })\n    .replace(/[-_]/g, ''); };\n\n  warn = function (msg, vm) {\n    var trace = vm ? generateComponentTrace(vm) : '';\n\n    if (config.warnHandler) {\n      config.warnHandler.call(null, msg, vm, trace);\n    } else if (hasConsole && (!config.silent)) {\n      console.error((\"[Vue warn]: \" + msg + trace));\n    }\n  };\n\n  tip = function (msg, vm) {\n    if (hasConsole && (!config.silent)) {\n      console.warn(\"[Vue tip]: \" + msg + (\n        vm ? generateComponentTrace(vm) : ''\n      ));\n    }\n  };\n\n  formatComponentName = function (vm, includeFile) {\n    if (vm.$root === vm) {\n      if (vm.$options && vm.$options.__file) { // fixed by xxxxxx\n        return ('') + vm.$options.__file\n      }\n      return '<Root>'\n    }\n    var options = typeof vm === 'function' && vm.cid != null\n      ? vm.options\n      : vm._isVue\n        ? vm.$options || vm.constructor.options\n        : vm;\n    var name = options.name || options._componentTag;\n    var file = options.__file;\n    if (!name && file) {\n      var match = file.match(/([^/\\\\]+)\\.vue$/);\n      name = match && match[1];\n    }\n\n    return (\n      (name ? (\"<\" + (classify(name)) + \">\") : \"<Anonymous>\") +\n      (file && includeFile !== false ? (\" at \" + file) : '')\n    )\n  };\n\n  var repeat = function (str, n) {\n    var res = '';\n    while (n) {\n      if (n % 2 === 1) { res += str; }\n      if (n > 1) { str += str; }\n      n >>= 1;\n    }\n    return res\n  };\n\n  generateComponentTrace = function (vm) {\n    if (vm._isVue && vm.$parent) {\n      var tree = [];\n      var currentRecursiveSequence = 0;\n      while (vm && vm.$options.name !== 'PageBody') {\n        if (tree.length > 0) {\n          var last = tree[tree.length - 1];\n          if (last.constructor === vm.constructor) {\n            currentRecursiveSequence++;\n            vm = vm.$parent;\n            continue\n          } else if (currentRecursiveSequence > 0) {\n            tree[tree.length - 1] = [last, currentRecursiveSequence];\n            currentRecursiveSequence = 0;\n          }\n        }\n        !vm.$options.isReserved && tree.push(vm);\n        vm = vm.$parent;\n      }\n      return '\\n\\nfound in\\n\\n' + tree\n        .map(function (vm, i) { return (\"\" + (i === 0 ? '---> ' : repeat(' ', 5 + i * 2)) + (Array.isArray(vm)\n            ? ((formatComponentName(vm[0])) + \"... (\" + (vm[1]) + \" recursive calls)\")\n            : formatComponentName(vm))); })\n        .join('\\n')\n    } else {\n      return (\"\\n\\n(found in \" + (formatComponentName(vm)) + \")\")\n    }\n  };\n}\n\n/*  */\n\nvar uid = 0;\n\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n */\nvar Dep = function Dep () {\n  this.id = uid++;\n  this.subs = [];\n};\n\nDep.prototype.addSub = function addSub (sub) {\n  this.subs.push(sub);\n};\n\nDep.prototype.removeSub = function removeSub (sub) {\n  remove(this.subs, sub);\n};\n\nDep.prototype.depend = function depend () {\n  if (Dep.SharedObject.target) {\n    Dep.SharedObject.target.addDep(this);\n  }\n};\n\nDep.prototype.notify = function notify () {\n  // stabilize the subscriber list first\n  var subs = this.subs.slice();\n  if (process.env.NODE_ENV !== 'production' && !config.async) {\n    // subs aren't sorted in scheduler if not running async\n    // we need to sort them now to make sure they fire in correct\n    // order\n    subs.sort(function (a, b) { return a.id - b.id; });\n  }\n  for (var i = 0, l = subs.length; i < l; i++) {\n    subs[i].update();\n  }\n};\n\n// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\n// fixed by xxxxxx (nvue shared vuex)\n/* eslint-disable no-undef */\nDep.SharedObject = {};\nDep.SharedObject.target = null;\nDep.SharedObject.targetStack = [];\n\nfunction pushTarget (target) {\n  Dep.SharedObject.targetStack.push(target);\n  Dep.SharedObject.target = target;\n  Dep.target = target;\n}\n\nfunction popTarget () {\n  Dep.SharedObject.targetStack.pop();\n  Dep.SharedObject.target = Dep.SharedObject.targetStack[Dep.SharedObject.targetStack.length - 1];\n  Dep.target = Dep.SharedObject.target;\n}\n\n/*  */\n\nvar VNode = function VNode (\n  tag,\n  data,\n  children,\n  text,\n  elm,\n  context,\n  componentOptions,\n  asyncFactory\n) {\n  this.tag = tag;\n  this.data = data;\n  this.children = children;\n  this.text = text;\n  this.elm = elm;\n  this.ns = undefined;\n  this.context = context;\n  this.fnContext = undefined;\n  this.fnOptions = undefined;\n  this.fnScopeId = undefined;\n  this.key = data && data.key;\n  this.componentOptions = componentOptions;\n  this.componentInstance = undefined;\n  this.parent = undefined;\n  this.raw = false;\n  this.isStatic = false;\n  this.isRootInsert = true;\n  this.isComment = false;\n  this.isCloned = false;\n  this.isOnce = false;\n  this.asyncFactory = asyncFactory;\n  this.asyncMeta = undefined;\n  this.isAsyncPlaceholder = false;\n};\n\nvar prototypeAccessors = { child: { configurable: true } };\n\n// DEPRECATED: alias for componentInstance for backwards compat.\n/* istanbul ignore next */\nprototypeAccessors.child.get = function () {\n  return this.componentInstance\n};\n\nObject.defineProperties( VNode.prototype, prototypeAccessors );\n\nvar createEmptyVNode = function (text) {\n  if ( text === void 0 ) text = '';\n\n  var node = new VNode();\n  node.text = text;\n  node.isComment = true;\n  return node\n};\n\nfunction createTextVNode (val) {\n  return new VNode(undefined, undefined, undefined, String(val))\n}\n\n// optimized shallow clone\n// used for static nodes and slot nodes because they may be reused across\n// multiple renders, cloning them avoids errors when DOM manipulations rely\n// on their elm reference.\nfunction cloneVNode (vnode) {\n  var cloned = new VNode(\n    vnode.tag,\n    vnode.data,\n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(),\n    vnode.text,\n    vnode.elm,\n    vnode.context,\n    vnode.componentOptions,\n    vnode.asyncFactory\n  );\n  cloned.ns = vnode.ns;\n  cloned.isStatic = vnode.isStatic;\n  cloned.key = vnode.key;\n  cloned.isComment = vnode.isComment;\n  cloned.fnContext = vnode.fnContext;\n  cloned.fnOptions = vnode.fnOptions;\n  cloned.fnScopeId = vnode.fnScopeId;\n  cloned.asyncMeta = vnode.asyncMeta;\n  cloned.isCloned = true;\n  return cloned\n}\n\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\n\nvar arrayProto = Array.prototype;\nvar arrayMethods = Object.create(arrayProto);\n\nvar methodsToPatch = [\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'splice',\n  'sort',\n  'reverse'\n];\n\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  var original = arrayProto[method];\n  def(arrayMethods, method, function mutator () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var result = original.apply(this, args);\n    var ob = this.__ob__;\n    var inserted;\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args;\n        break\n      case 'splice':\n        inserted = args.slice(2);\n        break\n    }\n    if (inserted) { ob.observeArray(inserted); }\n    // notify change\n    ob.dep.notify();\n    return result\n  });\n});\n\n/*  */\n\nvar arrayKeys = Object.getOwnPropertyNames(arrayMethods);\n\n/**\n * In some cases we may want to disable observation inside a component's\n * update computation.\n */\nvar shouldObserve = true;\n\nfunction toggleObserving (value) {\n  shouldObserve = value;\n}\n\n/**\n * Observer class that is attached to each observed\n * object. Once attached, the observer converts the target\n * object's property keys into getter/setters that\n * collect dependencies and dispatch updates.\n */\nvar Observer = function Observer (value) {\n  this.value = value;\n  this.dep = new Dep();\n  this.vmCount = 0;\n  def(value, '__ob__', this);\n  if (Array.isArray(value)) {\n    if (hasProto) {\n      {// fixed by xxxxxx 微信小程序使用 plugins 之后，数组方法被直接挂载到了数组对象上，需要执行 copyAugment 逻辑\n        if(value.push !== value.__proto__.push){\n          copyAugment(value, arrayMethods, arrayKeys);\n        } else {\n          protoAugment(value, arrayMethods);\n        }\n      }\n    } else {\n      copyAugment(value, arrayMethods, arrayKeys);\n    }\n    this.observeArray(value);\n  } else {\n    this.walk(value);\n  }\n};\n\n/**\n * Walk through all properties and convert them into\n * getter/setters. This method should only be called when\n * value type is Object.\n */\nObserver.prototype.walk = function walk (obj) {\n  var keys = Object.keys(obj);\n  for (var i = 0; i < keys.length; i++) {\n    defineReactive$$1(obj, keys[i]);\n  }\n};\n\n/**\n * Observe a list of Array items.\n */\nObserver.prototype.observeArray = function observeArray (items) {\n  for (var i = 0, l = items.length; i < l; i++) {\n    observe(items[i]);\n  }\n};\n\n// helpers\n\n/**\n * Augment a target Object or Array by intercepting\n * the prototype chain using __proto__\n */\nfunction protoAugment (target, src) {\n  /* eslint-disable no-proto */\n  target.__proto__ = src;\n  /* eslint-enable no-proto */\n}\n\n/**\n * Augment a target Object or Array by defining\n * hidden properties.\n */\n/* istanbul ignore next */\nfunction copyAugment (target, src, keys) {\n  for (var i = 0, l = keys.length; i < l; i++) {\n    var key = keys[i];\n    def(target, key, src[key]);\n  }\n}\n\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n */\nfunction observe (value, asRootData) {\n  if (!isObject(value) || value instanceof VNode) {\n    return\n  }\n  var ob;\n  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n    ob = value.__ob__;\n  } else if (\n    shouldObserve &&\n    !isServerRendering() &&\n    (Array.isArray(value) || isPlainObject(value)) &&\n    Object.isExtensible(value) &&\n    !value._isVue\n  ) {\n    ob = new Observer(value);\n  }\n  if (asRootData && ob) {\n    ob.vmCount++;\n  }\n  return ob\n}\n\n/**\n * Define a reactive property on an Object.\n */\nfunction defineReactive$$1 (\n  obj,\n  key,\n  val,\n  customSetter,\n  shallow\n) {\n  var dep = new Dep();\n\n  var property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return\n  }\n\n  // cater for pre-defined getter/setters\n  var getter = property && property.get;\n  var setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  var childOb = !shallow && observe(val);\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter () {\n      var value = getter ? getter.call(obj) : val;\n      if (Dep.SharedObject.target) { // fixed by xxxxxx\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value\n    },\n    set: function reactiveSetter (newVal) {\n      var value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return\n      }\n      /* eslint-enable no-self-compare */\n      if (process.env.NODE_ENV !== 'production' && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) { return }\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      childOb = !shallow && observe(newVal);\n      dep.notify();\n    }\n  });\n}\n\n/**\n * Set a property on an object. Adds the new property and\n * triggers change notification if the property doesn't\n * already exist.\n */\nfunction set (target, key, val) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot set reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.length = Math.max(target.length, key);\n    target.splice(key, 1, val);\n    return val\n  }\n  if (key in target && !(key in Object.prototype)) {\n    target[key] = val;\n    return val\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid adding reactive properties to a Vue instance or its root $data ' +\n      'at runtime - declare it upfront in the data option.'\n    );\n    return val\n  }\n  if (!ob) {\n    target[key] = val;\n    return val\n  }\n  defineReactive$$1(ob.value, key, val);\n  ob.dep.notify();\n  return val\n}\n\n/**\n * Delete a property and trigger change if necessary.\n */\nfunction del (target, key) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot delete reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.splice(key, 1);\n    return\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid deleting properties on a Vue instance or its root $data ' +\n      '- just set it to null.'\n    );\n    return\n  }\n  if (!hasOwn(target, key)) {\n    return\n  }\n  delete target[key];\n  if (!ob) {\n    return\n  }\n  ob.dep.notify();\n}\n\n/**\n * Collect dependencies on array elements when the array is touched, since\n * we cannot intercept array element access like property getters.\n */\nfunction dependArray (value) {\n  for (var e = (void 0), i = 0, l = value.length; i < l; i++) {\n    e = value[i];\n    e && e.__ob__ && e.__ob__.dep.depend();\n    if (Array.isArray(e)) {\n      dependArray(e);\n    }\n  }\n}\n\n/*  */\n\n/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n */\nvar strats = config.optionMergeStrategies;\n\n/**\n * Options with restrictions\n */\nif (process.env.NODE_ENV !== 'production') {\n  strats.el = strats.propsData = function (parent, child, vm, key) {\n    if (!vm) {\n      warn(\n        \"option \\\"\" + key + \"\\\" can only be used during instance \" +\n        'creation with the `new` keyword.'\n      );\n    }\n    return defaultStrat(parent, child)\n  };\n}\n\n/**\n * Helper that recursively merges two data objects together.\n */\nfunction mergeData (to, from) {\n  if (!from) { return to }\n  var key, toVal, fromVal;\n\n  var keys = hasSymbol\n    ? Reflect.ownKeys(from)\n    : Object.keys(from);\n\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i];\n    // in case the object is already observed...\n    if (key === '__ob__') { continue }\n    toVal = to[key];\n    fromVal = from[key];\n    if (!hasOwn(to, key)) {\n      set(to, key, fromVal);\n    } else if (\n      toVal !== fromVal &&\n      isPlainObject(toVal) &&\n      isPlainObject(fromVal)\n    ) {\n      mergeData(toVal, fromVal);\n    }\n  }\n  return to\n}\n\n/**\n * Data\n */\nfunction mergeDataOrFn (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    // in a Vue.extend merge, both should be functions\n    if (!childVal) {\n      return parentVal\n    }\n    if (!parentVal) {\n      return childVal\n    }\n    // when parentVal & childVal are both present,\n    // we need to return a function that returns the\n    // merged result of both functions... no need to\n    // check if parentVal is a function here because\n    // it has to be a function to pass previous merges.\n    return function mergedDataFn () {\n      return mergeData(\n        typeof childVal === 'function' ? childVal.call(this, this) : childVal,\n        typeof parentVal === 'function' ? parentVal.call(this, this) : parentVal\n      )\n    }\n  } else {\n    return function mergedInstanceDataFn () {\n      // instance merge\n      var instanceData = typeof childVal === 'function'\n        ? childVal.call(vm, vm)\n        : childVal;\n      var defaultData = typeof parentVal === 'function'\n        ? parentVal.call(vm, vm)\n        : parentVal;\n      if (instanceData) {\n        return mergeData(instanceData, defaultData)\n      } else {\n        return defaultData\n      }\n    }\n  }\n}\n\nstrats.data = function (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    if (childVal && typeof childVal !== 'function') {\n      process.env.NODE_ENV !== 'production' && warn(\n        'The \"data\" option should be a function ' +\n        'that returns a per-instance value in component ' +\n        'definitions.',\n        vm\n      );\n\n      return parentVal\n    }\n    return mergeDataOrFn(parentVal, childVal)\n  }\n\n  return mergeDataOrFn(parentVal, childVal, vm)\n};\n\n/**\n * Hooks and props are merged as arrays.\n */\nfunction mergeHook (\n  parentVal,\n  childVal\n) {\n  var res = childVal\n    ? parentVal\n      ? parentVal.concat(childVal)\n      : Array.isArray(childVal)\n        ? childVal\n        : [childVal]\n    : parentVal;\n  return res\n    ? dedupeHooks(res)\n    : res\n}\n\nfunction dedupeHooks (hooks) {\n  var res = [];\n  for (var i = 0; i < hooks.length; i++) {\n    if (res.indexOf(hooks[i]) === -1) {\n      res.push(hooks[i]);\n    }\n  }\n  return res\n}\n\nLIFECYCLE_HOOKS.forEach(function (hook) {\n  strats[hook] = mergeHook;\n});\n\n/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */\nfunction mergeAssets (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  var res = Object.create(parentVal || null);\n  if (childVal) {\n    process.env.NODE_ENV !== 'production' && assertObjectType(key, childVal, vm);\n    return extend(res, childVal)\n  } else {\n    return res\n  }\n}\n\nASSET_TYPES.forEach(function (type) {\n  strats[type + 's'] = mergeAssets;\n});\n\n/**\n * Watchers.\n *\n * Watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */\nstrats.watch = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  // work around Firefox's Object.prototype.watch...\n  if (parentVal === nativeWatch) { parentVal = undefined; }\n  if (childVal === nativeWatch) { childVal = undefined; }\n  /* istanbul ignore if */\n  if (!childVal) { return Object.create(parentVal || null) }\n  if (process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = {};\n  extend(ret, parentVal);\n  for (var key$1 in childVal) {\n    var parent = ret[key$1];\n    var child = childVal[key$1];\n    if (parent && !Array.isArray(parent)) {\n      parent = [parent];\n    }\n    ret[key$1] = parent\n      ? parent.concat(child)\n      : Array.isArray(child) ? child : [child];\n  }\n  return ret\n};\n\n/**\n * Other object hashes.\n */\nstrats.props =\nstrats.methods =\nstrats.inject =\nstrats.computed = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  if (childVal && process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = Object.create(null);\n  extend(ret, parentVal);\n  if (childVal) { extend(ret, childVal); }\n  return ret\n};\nstrats.provide = mergeDataOrFn;\n\n/**\n * Default strategy.\n */\nvar defaultStrat = function (parentVal, childVal) {\n  return childVal === undefined\n    ? parentVal\n    : childVal\n};\n\n/**\n * Validate component names\n */\nfunction checkComponents (options) {\n  for (var key in options.components) {\n    validateComponentName(key);\n  }\n}\n\nfunction validateComponentName (name) {\n  if (!new RegExp((\"^[a-zA-Z][\\\\-\\\\.0-9_\" + (unicodeRegExp.source) + \"]*$\")).test(name)) {\n    warn(\n      'Invalid component name: \"' + name + '\". Component names ' +\n      'should conform to valid custom element name in html5 specification.'\n    );\n  }\n  if (isBuiltInTag(name) || config.isReservedTag(name)) {\n    warn(\n      'Do not use built-in or reserved HTML elements as component ' +\n      'id: ' + name\n    );\n  }\n}\n\n/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n */\nfunction normalizeProps (options, vm) {\n  var props = options.props;\n  if (!props) { return }\n  var res = {};\n  var i, val, name;\n  if (Array.isArray(props)) {\n    i = props.length;\n    while (i--) {\n      val = props[i];\n      if (typeof val === 'string') {\n        name = camelize(val);\n        res[name] = { type: null };\n      } else if (process.env.NODE_ENV !== 'production') {\n        warn('props must be strings when using array syntax.');\n      }\n    }\n  } else if (isPlainObject(props)) {\n    for (var key in props) {\n      val = props[key];\n      name = camelize(key);\n      res[name] = isPlainObject(val)\n        ? val\n        : { type: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"props\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(props)) + \".\",\n      vm\n    );\n  }\n  options.props = res;\n}\n\n/**\n * Normalize all injections into Object-based format\n */\nfunction normalizeInject (options, vm) {\n  var inject = options.inject;\n  if (!inject) { return }\n  var normalized = options.inject = {};\n  if (Array.isArray(inject)) {\n    for (var i = 0; i < inject.length; i++) {\n      normalized[inject[i]] = { from: inject[i] };\n    }\n  } else if (isPlainObject(inject)) {\n    for (var key in inject) {\n      var val = inject[key];\n      normalized[key] = isPlainObject(val)\n        ? extend({ from: key }, val)\n        : { from: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"inject\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(inject)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Normalize raw function directives into object format.\n */\nfunction normalizeDirectives (options) {\n  var dirs = options.directives;\n  if (dirs) {\n    for (var key in dirs) {\n      var def$$1 = dirs[key];\n      if (typeof def$$1 === 'function') {\n        dirs[key] = { bind: def$$1, update: def$$1 };\n      }\n    }\n  }\n}\n\nfunction assertObjectType (name, value, vm) {\n  if (!isPlainObject(value)) {\n    warn(\n      \"Invalid value for option \\\"\" + name + \"\\\": expected an Object, \" +\n      \"but got \" + (toRawType(value)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */\nfunction mergeOptions (\n  parent,\n  child,\n  vm\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    checkComponents(child);\n  }\n\n  if (typeof child === 'function') {\n    child = child.options;\n  }\n\n  normalizeProps(child, vm);\n  normalizeInject(child, vm);\n  normalizeDirectives(child);\n\n  // Apply extends and mixins on the child options,\n  // but only if it is a raw options object that isn't\n  // the result of another mergeOptions call.\n  // Only merged options has the _base property.\n  if (!child._base) {\n    if (child.extends) {\n      parent = mergeOptions(parent, child.extends, vm);\n    }\n    if (child.mixins) {\n      for (var i = 0, l = child.mixins.length; i < l; i++) {\n        parent = mergeOptions(parent, child.mixins[i], vm);\n      }\n    }\n  }\n\n  var options = {};\n  var key;\n  for (key in parent) {\n    mergeField(key);\n  }\n  for (key in child) {\n    if (!hasOwn(parent, key)) {\n      mergeField(key);\n    }\n  }\n  function mergeField (key) {\n    var strat = strats[key] || defaultStrat;\n    options[key] = strat(parent[key], child[key], vm, key);\n  }\n  return options\n}\n\n/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */\nfunction resolveAsset (\n  options,\n  type,\n  id,\n  warnMissing\n) {\n  /* istanbul ignore if */\n  if (typeof id !== 'string') {\n    return\n  }\n  var assets = options[type];\n  // check local registration variations first\n  if (hasOwn(assets, id)) { return assets[id] }\n  var camelizedId = camelize(id);\n  if (hasOwn(assets, camelizedId)) { return assets[camelizedId] }\n  var PascalCaseId = capitalize(camelizedId);\n  if (hasOwn(assets, PascalCaseId)) { return assets[PascalCaseId] }\n  // fallback to prototype chain\n  var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];\n  if (process.env.NODE_ENV !== 'production' && warnMissing && !res) {\n    warn(\n      'Failed to resolve ' + type.slice(0, -1) + ': ' + id,\n      options\n    );\n  }\n  return res\n}\n\n/*  */\n\n\n\nfunction validateProp (\n  key,\n  propOptions,\n  propsData,\n  vm\n) {\n  var prop = propOptions[key];\n  var absent = !hasOwn(propsData, key);\n  var value = propsData[key];\n  // boolean casting\n  var booleanIndex = getTypeIndex(Boolean, prop.type);\n  if (booleanIndex > -1) {\n    if (absent && !hasOwn(prop, 'default')) {\n      value = false;\n    } else if (value === '' || value === hyphenate(key)) {\n      // only cast empty string / same name to boolean if\n      // boolean has higher priority\n      var stringIndex = getTypeIndex(String, prop.type);\n      if (stringIndex < 0 || booleanIndex < stringIndex) {\n        value = true;\n      }\n    }\n  }\n  // check default value\n  if (value === undefined) {\n    value = getPropDefaultValue(vm, prop, key);\n    // since the default value is a fresh copy,\n    // make sure to observe it.\n    var prevShouldObserve = shouldObserve;\n    toggleObserving(true);\n    observe(value);\n    toggleObserving(prevShouldObserve);\n  }\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    // skip validation for weex recycle-list child component props\n    !(false)\n  ) {\n    assertProp(prop, key, value, vm, absent);\n  }\n  return value\n}\n\n/**\n * Get the default value of a prop.\n */\nfunction getPropDefaultValue (vm, prop, key) {\n  // no default, return undefined\n  if (!hasOwn(prop, 'default')) {\n    return undefined\n  }\n  var def = prop.default;\n  // warn against non-factory defaults for Object & Array\n  if (process.env.NODE_ENV !== 'production' && isObject(def)) {\n    warn(\n      'Invalid default value for prop \"' + key + '\": ' +\n      'Props with type Object/Array must use a factory function ' +\n      'to return the default value.',\n      vm\n    );\n  }\n  // the raw prop value was also undefined from previous render,\n  // return previous default value to avoid unnecessary watcher trigger\n  if (vm && vm.$options.propsData &&\n    vm.$options.propsData[key] === undefined &&\n    vm._props[key] !== undefined\n  ) {\n    return vm._props[key]\n  }\n  // call factory function for non-Function types\n  // a value is Function if its prototype is function even across different execution context\n  return typeof def === 'function' && getType(prop.type) !== 'Function'\n    ? def.call(vm)\n    : def\n}\n\n/**\n * Assert whether a prop is valid.\n */\nfunction assertProp (\n  prop,\n  name,\n  value,\n  vm,\n  absent\n) {\n  if (prop.required && absent) {\n    warn(\n      'Missing required prop: \"' + name + '\"',\n      vm\n    );\n    return\n  }\n  if (value == null && !prop.required) {\n    return\n  }\n  var type = prop.type;\n  var valid = !type || type === true;\n  var expectedTypes = [];\n  if (type) {\n    if (!Array.isArray(type)) {\n      type = [type];\n    }\n    for (var i = 0; i < type.length && !valid; i++) {\n      var assertedType = assertType(value, type[i]);\n      expectedTypes.push(assertedType.expectedType || '');\n      valid = assertedType.valid;\n    }\n  }\n\n  if (!valid) {\n    warn(\n      getInvalidTypeMessage(name, value, expectedTypes),\n      vm\n    );\n    return\n  }\n  var validator = prop.validator;\n  if (validator) {\n    if (!validator(value)) {\n      warn(\n        'Invalid prop: custom validator check failed for prop \"' + name + '\".',\n        vm\n      );\n    }\n  }\n}\n\nvar simpleCheckRE = /^(String|Number|Boolean|Function|Symbol)$/;\n\nfunction assertType (value, type) {\n  var valid;\n  var expectedType = getType(type);\n  if (simpleCheckRE.test(expectedType)) {\n    var t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    // for primitive wrapper objects\n    if (!valid && t === 'object') {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === 'Object') {\n    valid = isPlainObject(value);\n  } else if (expectedType === 'Array') {\n    valid = Array.isArray(value);\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid: valid,\n    expectedType: expectedType\n  }\n}\n\n/**\n * Use function string name to check built-in types,\n * because a simple equality check will fail when running\n * across different vms / iframes.\n */\nfunction getType (fn) {\n  var match = fn && fn.toString().match(/^\\s*function (\\w+)/);\n  return match ? match[1] : ''\n}\n\nfunction isSameType (a, b) {\n  return getType(a) === getType(b)\n}\n\nfunction getTypeIndex (type, expectedTypes) {\n  if (!Array.isArray(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1\n  }\n  for (var i = 0, len = expectedTypes.length; i < len; i++) {\n    if (isSameType(expectedTypes[i], type)) {\n      return i\n    }\n  }\n  return -1\n}\n\nfunction getInvalidTypeMessage (name, value, expectedTypes) {\n  var message = \"Invalid prop: type check failed for prop \\\"\" + name + \"\\\".\" +\n    \" Expected \" + (expectedTypes.map(capitalize).join(', '));\n  var expectedType = expectedTypes[0];\n  var receivedType = toRawType(value);\n  var expectedValue = styleValue(value, expectedType);\n  var receivedValue = styleValue(value, receivedType);\n  // check if we need to specify expected value\n  if (expectedTypes.length === 1 &&\n      isExplicable(expectedType) &&\n      !isBoolean(expectedType, receivedType)) {\n    message += \" with value \" + expectedValue;\n  }\n  message += \", got \" + receivedType + \" \";\n  // check if we need to specify received value\n  if (isExplicable(receivedType)) {\n    message += \"with value \" + receivedValue + \".\";\n  }\n  return message\n}\n\nfunction styleValue (value, type) {\n  if (type === 'String') {\n    return (\"\\\"\" + value + \"\\\"\")\n  } else if (type === 'Number') {\n    return (\"\" + (Number(value)))\n  } else {\n    return (\"\" + value)\n  }\n}\n\nfunction isExplicable (value) {\n  var explicitTypes = ['string', 'number', 'boolean'];\n  return explicitTypes.some(function (elem) { return value.toLowerCase() === elem; })\n}\n\nfunction isBoolean () {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; })\n}\n\n/*  */\n\nfunction handleError (err, vm, info) {\n  // Deactivate deps tracking while processing error handler to avoid possible infinite rendering.\n  // See: https://github.com/vuejs/vuex/issues/1505\n  pushTarget();\n  try {\n    if (vm) {\n      var cur = vm;\n      while ((cur = cur.$parent)) {\n        var hooks = cur.$options.errorCaptured;\n        if (hooks) {\n          for (var i = 0; i < hooks.length; i++) {\n            try {\n              var capture = hooks[i].call(cur, err, vm, info) === false;\n              if (capture) { return }\n            } catch (e) {\n              globalHandleError(e, cur, 'errorCaptured hook');\n            }\n          }\n        }\n      }\n    }\n    globalHandleError(err, vm, info);\n  } finally {\n    popTarget();\n  }\n}\n\nfunction invokeWithErrorHandling (\n  handler,\n  context,\n  args,\n  vm,\n  info\n) {\n  var res;\n  try {\n    res = args ? handler.apply(context, args) : handler.call(context);\n    if (res && !res._isVue && isPromise(res) && !res._handled) {\n      res.catch(function (e) { return handleError(e, vm, info + \" (Promise/async)\"); });\n      // issue #9511\n      // avoid catch triggering multiple times when nested calls\n      res._handled = true;\n    }\n  } catch (e) {\n    handleError(e, vm, info);\n  }\n  return res\n}\n\nfunction globalHandleError (err, vm, info) {\n  if (config.errorHandler) {\n    try {\n      return config.errorHandler.call(null, err, vm, info)\n    } catch (e) {\n      // if the user intentionally throws the original error in the handler,\n      // do not log it twice\n      if (e !== err) {\n        logError(e, null, 'config.errorHandler');\n      }\n    }\n  }\n  logError(err, vm, info);\n}\n\nfunction logError (err, vm, info) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn((\"Error in \" + info + \": \\\"\" + (err.toString()) + \"\\\"\"), vm);\n  }\n  /* istanbul ignore else */\n  if ((inBrowser || inWeex) && typeof console !== 'undefined') {\n    console.error(err);\n  } else {\n    throw err\n  }\n}\n\n/*  */\n\nvar callbacks = [];\nvar pending = false;\n\nfunction flushCallbacks () {\n  pending = false;\n  var copies = callbacks.slice(0);\n  callbacks.length = 0;\n  for (var i = 0; i < copies.length; i++) {\n    copies[i]();\n  }\n}\n\n// Here we have async deferring wrappers using microtasks.\n// In 2.5 we used (macro) tasks (in combination with microtasks).\n// However, it has subtle problems when state is changed right before repaint\n// (e.g. #6813, out-in transitions).\n// Also, using (macro) tasks in event handler would cause some weird behaviors\n// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).\n// So we now use microtasks everywhere, again.\n// A major drawback of this tradeoff is that there are some scenarios\n// where microtasks have too high a priority and fire in between supposedly\n// sequential events (e.g. #4521, #6690, which have workarounds)\n// or even between bubbling of the same event (#6566).\nvar timerFunc;\n\n// The nextTick behavior leverages the microtask queue, which can be accessed\n// via either native Promise.then or MutationObserver.\n// MutationObserver has wider support, however it is seriously bugged in\n// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It\n// completely stops working after triggering a few times... so, if native\n// Promise is available, we will use it:\n/* istanbul ignore next, $flow-disable-line */\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\n  var p = Promise.resolve();\n  timerFunc = function () {\n    p.then(flushCallbacks);\n    // In problematic UIWebViews, Promise.then doesn't completely break, but\n    // it can get stuck in a weird state where callbacks are pushed into the\n    // microtask queue but the queue isn't being flushed, until the browser\n    // needs to do some other work, e.g. handle a timer. Therefore we can\n    // \"force\" the microtask queue to be flushed by adding an empty timer.\n    if (isIOS) { setTimeout(noop); }\n  };\n} else if (!isIE && typeof MutationObserver !== 'undefined' && (\n  isNative(MutationObserver) ||\n  // PhantomJS and iOS 7.x\n  MutationObserver.toString() === '[object MutationObserverConstructor]'\n)) {\n  // Use MutationObserver where native Promise is not available,\n  // e.g. PhantomJS, iOS7, Android 4.4\n  // (#6466 MutationObserver is unreliable in IE11)\n  var counter = 1;\n  var observer = new MutationObserver(flushCallbacks);\n  var textNode = document.createTextNode(String(counter));\n  observer.observe(textNode, {\n    characterData: true\n  });\n  timerFunc = function () {\n    counter = (counter + 1) % 2;\n    textNode.data = String(counter);\n  };\n} else if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\n  // Fallback to setImmediate.\n  // Technically it leverages the (macro) task queue,\n  // but it is still a better choice than setTimeout.\n  timerFunc = function () {\n    setImmediate(flushCallbacks);\n  };\n} else {\n  // Fallback to setTimeout.\n  timerFunc = function () {\n    setTimeout(flushCallbacks, 0);\n  };\n}\n\nfunction nextTick (cb, ctx) {\n  var _resolve;\n  callbacks.push(function () {\n    if (cb) {\n      try {\n        cb.call(ctx);\n      } catch (e) {\n        handleError(e, ctx, 'nextTick');\n      }\n    } else if (_resolve) {\n      _resolve(ctx);\n    }\n  });\n  if (!pending) {\n    pending = true;\n    timerFunc();\n  }\n  // $flow-disable-line\n  if (!cb && typeof Promise !== 'undefined') {\n    return new Promise(function (resolve) {\n      _resolve = resolve;\n    })\n  }\n}\n\n/*  */\n\n/* not type checking this file because flow doesn't play well with Proxy */\n\nvar initProxy;\n\nif (process.env.NODE_ENV !== 'production') {\n  var allowedGlobals = makeMap(\n    'Infinity,undefined,NaN,isFinite,isNaN,' +\n    'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +\n    'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,' +\n    'require' // for Webpack/Browserify\n  );\n\n  var warnNonPresent = function (target, key) {\n    warn(\n      \"Property or method \\\"\" + key + \"\\\" is not defined on the instance but \" +\n      'referenced during render. Make sure that this property is reactive, ' +\n      'either in the data option, or for class-based components, by ' +\n      'initializing the property. ' +\n      'See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',\n      target\n    );\n  };\n\n  var warnReservedPrefix = function (target, key) {\n    warn(\n      \"Property \\\"\" + key + \"\\\" must be accessed with \\\"$data.\" + key + \"\\\" because \" +\n      'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n      'prevent conflicts with Vue internals. ' +\n      'See: https://vuejs.org/v2/api/#data',\n      target\n    );\n  };\n\n  var hasProxy =\n    typeof Proxy !== 'undefined' && isNative(Proxy);\n\n  if (hasProxy) {\n    var isBuiltInModifier = makeMap('stop,prevent,self,ctrl,shift,alt,meta,exact');\n    config.keyCodes = new Proxy(config.keyCodes, {\n      set: function set (target, key, value) {\n        if (isBuiltInModifier(key)) {\n          warn((\"Avoid overwriting built-in modifier in config.keyCodes: .\" + key));\n          return false\n        } else {\n          target[key] = value;\n          return true\n        }\n      }\n    });\n  }\n\n  var hasHandler = {\n    has: function has (target, key) {\n      var has = key in target;\n      var isAllowed = allowedGlobals(key) ||\n        (typeof key === 'string' && key.charAt(0) === '_' && !(key in target.$data));\n      if (!has && !isAllowed) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return has || !isAllowed\n    }\n  };\n\n  var getHandler = {\n    get: function get (target, key) {\n      if (typeof key === 'string' && !(key in target)) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return target[key]\n    }\n  };\n\n  initProxy = function initProxy (vm) {\n    if (hasProxy) {\n      // determine which proxy handler to use\n      var options = vm.$options;\n      var handlers = options.render && options.render._withStripped\n        ? getHandler\n        : hasHandler;\n      vm._renderProxy = new Proxy(vm, handlers);\n    } else {\n      vm._renderProxy = vm;\n    }\n  };\n}\n\n/*  */\n\nvar seenObjects = new _Set();\n\n/**\n * Recursively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n */\nfunction traverse (val) {\n  _traverse(val, seenObjects);\n  seenObjects.clear();\n}\n\nfunction _traverse (val, seen) {\n  var i, keys;\n  var isA = Array.isArray(val);\n  if ((!isA && !isObject(val)) || Object.isFrozen(val) || val instanceof VNode) {\n    return\n  }\n  if (val.__ob__) {\n    var depId = val.__ob__.dep.id;\n    if (seen.has(depId)) {\n      return\n    }\n    seen.add(depId);\n  }\n  if (isA) {\n    i = val.length;\n    while (i--) { _traverse(val[i], seen); }\n  } else {\n    keys = Object.keys(val);\n    i = keys.length;\n    while (i--) { _traverse(val[keys[i]], seen); }\n  }\n}\n\nvar mark;\nvar measure;\n\nif (process.env.NODE_ENV !== 'production') {\n  var perf = inBrowser && window.performance;\n  /* istanbul ignore if */\n  if (\n    perf &&\n    perf.mark &&\n    perf.measure &&\n    perf.clearMarks &&\n    perf.clearMeasures\n  ) {\n    mark = function (tag) { return perf.mark(tag); };\n    measure = function (name, startTag, endTag) {\n      perf.measure(name, startTag, endTag);\n      perf.clearMarks(startTag);\n      perf.clearMarks(endTag);\n      // perf.clearMeasures(name)\n    };\n  }\n}\n\n/*  */\n\nvar normalizeEvent = cached(function (name) {\n  var passive = name.charAt(0) === '&';\n  name = passive ? name.slice(1) : name;\n  var once$$1 = name.charAt(0) === '~'; // Prefixed last, checked first\n  name = once$$1 ? name.slice(1) : name;\n  var capture = name.charAt(0) === '!';\n  name = capture ? name.slice(1) : name;\n  return {\n    name: name,\n    once: once$$1,\n    capture: capture,\n    passive: passive\n  }\n});\n\nfunction createFnInvoker (fns, vm) {\n  function invoker () {\n    var arguments$1 = arguments;\n\n    var fns = invoker.fns;\n    if (Array.isArray(fns)) {\n      var cloned = fns.slice();\n      for (var i = 0; i < cloned.length; i++) {\n        invokeWithErrorHandling(cloned[i], null, arguments$1, vm, \"v-on handler\");\n      }\n    } else {\n      // return handler return value for single handlers\n      return invokeWithErrorHandling(fns, null, arguments, vm, \"v-on handler\")\n    }\n  }\n  invoker.fns = fns;\n  return invoker\n}\n\nfunction updateListeners (\n  on,\n  oldOn,\n  add,\n  remove$$1,\n  createOnceHandler,\n  vm\n) {\n  var name, def$$1, cur, old, event;\n  for (name in on) {\n    def$$1 = cur = on[name];\n    old = oldOn[name];\n    event = normalizeEvent(name);\n    if (isUndef(cur)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Invalid handler for event \\\"\" + (event.name) + \"\\\": got \" + String(cur),\n        vm\n      );\n    } else if (isUndef(old)) {\n      if (isUndef(cur.fns)) {\n        cur = on[name] = createFnInvoker(cur, vm);\n      }\n      if (isTrue(event.once)) {\n        cur = on[name] = createOnceHandler(event.name, cur, event.capture);\n      }\n      add(event.name, cur, event.capture, event.passive, event.params);\n    } else if (cur !== old) {\n      old.fns = cur;\n      on[name] = old;\n    }\n  }\n  for (name in oldOn) {\n    if (isUndef(on[name])) {\n      event = normalizeEvent(name);\n      remove$$1(event.name, oldOn[name], event.capture);\n    }\n  }\n}\n\n/*  */\n\n/*  */\n\n// fixed by xxxxxx (mp properties)\r\nfunction extractPropertiesFromVNodeData(data, Ctor, res, context) {\r\n  var propOptions = Ctor.options.mpOptions && Ctor.options.mpOptions.properties;\r\n  if (isUndef(propOptions)) {\r\n    return res\r\n  }\n  var externalClasses = Ctor.options.mpOptions.externalClasses || [];\r\n  var attrs = data.attrs;\n  var props = data.props;\r\n  if (isDef(attrs) || isDef(props)) {\r\n    for (var key in propOptions) {\r\n      var altKey = hyphenate(key);\n      var result = checkProp(res, props, key, altKey, true) ||\n          checkProp(res, attrs, key, altKey, false);\n      // externalClass\n      if (\n        result &&\n        res[key] &&\n        externalClasses.indexOf(altKey) !== -1 &&\n        context[camelize(res[key])]\n      ) {\n        // 赋值 externalClass 真正的值(模板里 externalClass 的值可能是字符串)\n        res[key] = context[camelize(res[key])];\n      }\r\n    }\r\n  }\r\n  return res\r\n}\n\nfunction extractPropsFromVNodeData (\n  data,\n  Ctor,\n  tag,\n  context// fixed by xxxxxx\n) {\n  // we are only extracting raw values here.\n  // validation and default values are handled in the child\n  // component itself.\n  var propOptions = Ctor.options.props;\n  if (isUndef(propOptions)) {\n    // fixed by xxxxxx\n    return extractPropertiesFromVNodeData(data, Ctor, {}, context)\n  }\n  var res = {};\n  var attrs = data.attrs;\n  var props = data.props;\n  if (isDef(attrs) || isDef(props)) {\n    for (var key in propOptions) {\n      var altKey = hyphenate(key);\n      if (process.env.NODE_ENV !== 'production') {\n        var keyInLowerCase = key.toLowerCase();\n        if (\n          key !== keyInLowerCase &&\n          attrs && hasOwn(attrs, keyInLowerCase)\n        ) {\n          tip(\n            \"Prop \\\"\" + keyInLowerCase + \"\\\" is passed to component \" +\n            (formatComponentName(tag || Ctor)) + \", but the declared prop name is\" +\n            \" \\\"\" + key + \"\\\". \" +\n            \"Note that HTML attributes are case-insensitive and camelCased \" +\n            \"props need to use their kebab-case equivalents when using in-DOM \" +\n            \"templates. You should probably use \\\"\" + altKey + \"\\\" instead of \\\"\" + key + \"\\\".\"\n          );\n        }\n      }\n      checkProp(res, props, key, altKey, true) ||\n      checkProp(res, attrs, key, altKey, false);\n    }\n  }\n  // fixed by xxxxxx\n  return extractPropertiesFromVNodeData(data, Ctor, res, context)\n}\n\nfunction checkProp (\n  res,\n  hash,\n  key,\n  altKey,\n  preserve\n) {\n  if (isDef(hash)) {\n    if (hasOwn(hash, key)) {\n      res[key] = hash[key];\n      if (!preserve) {\n        delete hash[key];\n      }\n      return true\n    } else if (hasOwn(hash, altKey)) {\n      res[key] = hash[altKey];\n      if (!preserve) {\n        delete hash[altKey];\n      }\n      return true\n    }\n  }\n  return false\n}\n\n/*  */\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nfunction simpleNormalizeChildren (children) {\n  for (var i = 0; i < children.length; i++) {\n    if (Array.isArray(children[i])) {\n      return Array.prototype.concat.apply([], children)\n    }\n  }\n  return children\n}\n\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nfunction normalizeChildren (children) {\n  return isPrimitive(children)\n    ? [createTextVNode(children)]\n    : Array.isArray(children)\n      ? normalizeArrayChildren(children)\n      : undefined\n}\n\nfunction isTextNode (node) {\n  return isDef(node) && isDef(node.text) && isFalse(node.isComment)\n}\n\nfunction normalizeArrayChildren (children, nestedIndex) {\n  var res = [];\n  var i, c, lastIndex, last;\n  for (i = 0; i < children.length; i++) {\n    c = children[i];\n    if (isUndef(c) || typeof c === 'boolean') { continue }\n    lastIndex = res.length - 1;\n    last = res[lastIndex];\n    //  nested\n    if (Array.isArray(c)) {\n      if (c.length > 0) {\n        c = normalizeArrayChildren(c, ((nestedIndex || '') + \"_\" + i));\n        // merge adjacent text nodes\n        if (isTextNode(c[0]) && isTextNode(last)) {\n          res[lastIndex] = createTextVNode(last.text + (c[0]).text);\n          c.shift();\n        }\n        res.push.apply(res, c);\n      }\n    } else if (isPrimitive(c)) {\n      if (isTextNode(last)) {\n        // merge adjacent text nodes\n        // this is necessary for SSR hydration because text nodes are\n        // essentially merged when rendered to HTML strings\n        res[lastIndex] = createTextVNode(last.text + c);\n      } else if (c !== '') {\n        // convert primitive to vnode\n        res.push(createTextVNode(c));\n      }\n    } else {\n      if (isTextNode(c) && isTextNode(last)) {\n        // merge adjacent text nodes\n        res[lastIndex] = createTextVNode(last.text + c.text);\n      } else {\n        // default key for nested array children (likely generated by v-for)\n        if (isTrue(children._isVList) &&\n          isDef(c.tag) &&\n          isUndef(c.key) &&\n          isDef(nestedIndex)) {\n          c.key = \"__vlist\" + nestedIndex + \"_\" + i + \"__\";\n        }\n        res.push(c);\n      }\n    }\n  }\n  return res\n}\n\n/*  */\n\nfunction initProvide (vm) {\n  var provide = vm.$options.provide;\n  if (provide) {\n    vm._provided = typeof provide === 'function'\n      ? provide.call(vm)\n      : provide;\n  }\n}\n\nfunction initInjections (vm) {\n  var result = resolveInject(vm.$options.inject, vm);\n  if (result) {\n    toggleObserving(false);\n    Object.keys(result).forEach(function (key) {\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production') {\n        defineReactive$$1(vm, key, result[key], function () {\n          warn(\n            \"Avoid mutating an injected value directly since the changes will be \" +\n            \"overwritten whenever the provided component re-renders. \" +\n            \"injection being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        });\n      } else {\n        defineReactive$$1(vm, key, result[key]);\n      }\n    });\n    toggleObserving(true);\n  }\n}\n\nfunction resolveInject (inject, vm) {\n  if (inject) {\n    // inject is :any because flow is not smart enough to figure out cached\n    var result = Object.create(null);\n    var keys = hasSymbol\n      ? Reflect.ownKeys(inject)\n      : Object.keys(inject);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      // #6574 in case the inject object is observed...\n      if (key === '__ob__') { continue }\n      var provideKey = inject[key].from;\n      var source = vm;\n      while (source) {\n        if (source._provided && hasOwn(source._provided, provideKey)) {\n          result[key] = source._provided[provideKey];\n          break\n        }\n        source = source.$parent;\n      }\n      if (!source) {\n        if ('default' in inject[key]) {\n          var provideDefault = inject[key].default;\n          result[key] = typeof provideDefault === 'function'\n            ? provideDefault.call(vm)\n            : provideDefault;\n        } else if (process.env.NODE_ENV !== 'production') {\n          warn((\"Injection \\\"\" + key + \"\\\" not found\"), vm);\n        }\n      }\n    }\n    return result\n  }\n}\n\n/*  */\n\n\n\n/**\n * Runtime helper for resolving raw children VNodes into a slot object.\n */\nfunction resolveSlots (\n  children,\n  context\n) {\n  if (!children || !children.length) {\n    return {}\n  }\n  var slots = {};\n  for (var i = 0, l = children.length; i < l; i++) {\n    var child = children[i];\n    var data = child.data;\n    // remove slot attribute if the node is resolved as a Vue slot node\n    if (data && data.attrs && data.attrs.slot) {\n      delete data.attrs.slot;\n    }\n    // named slots should only be respected if the vnode was rendered in the\n    // same context.\n    if ((child.context === context || child.fnContext === context) &&\n      data && data.slot != null\n    ) {\n      var name = data.slot;\n      var slot = (slots[name] || (slots[name] = []));\n      if (child.tag === 'template') {\n        slot.push.apply(slot, child.children || []);\n      } else {\n        slot.push(child);\n      }\n    } else {\n      // fixed by xxxxxx 临时 hack 掉 uni-app 中的异步 name slot page\n      if(child.asyncMeta && child.asyncMeta.data && child.asyncMeta.data.slot === 'page'){\n        (slots['page'] || (slots['page'] = [])).push(child);\n      }else{\n        (slots.default || (slots.default = [])).push(child);\n      }\n    }\n  }\n  // ignore slots that contains only whitespace\n  for (var name$1 in slots) {\n    if (slots[name$1].every(isWhitespace)) {\n      delete slots[name$1];\n    }\n  }\n  return slots\n}\n\nfunction isWhitespace (node) {\n  return (node.isComment && !node.asyncFactory) || node.text === ' '\n}\n\n/*  */\n\nfunction normalizeScopedSlots (\n  slots,\n  normalSlots,\n  prevSlots\n) {\n  var res;\n  var hasNormalSlots = Object.keys(normalSlots).length > 0;\n  var isStable = slots ? !!slots.$stable : !hasNormalSlots;\n  var key = slots && slots.$key;\n  if (!slots) {\n    res = {};\n  } else if (slots._normalized) {\n    // fast path 1: child component re-render only, parent did not change\n    return slots._normalized\n  } else if (\n    isStable &&\n    prevSlots &&\n    prevSlots !== emptyObject &&\n    key === prevSlots.$key &&\n    !hasNormalSlots &&\n    !prevSlots.$hasNormal\n  ) {\n    // fast path 2: stable scoped slots w/ no normal slots to proxy,\n    // only need to normalize once\n    return prevSlots\n  } else {\n    res = {};\n    for (var key$1 in slots) {\n      if (slots[key$1] && key$1[0] !== '$') {\n        res[key$1] = normalizeScopedSlot(normalSlots, key$1, slots[key$1]);\n      }\n    }\n  }\n  // expose normal slots on scopedSlots\n  for (var key$2 in normalSlots) {\n    if (!(key$2 in res)) {\n      res[key$2] = proxyNormalSlot(normalSlots, key$2);\n    }\n  }\n  // avoriaz seems to mock a non-extensible $scopedSlots object\n  // and when that is passed down this would cause an error\n  if (slots && Object.isExtensible(slots)) {\n    (slots)._normalized = res;\n  }\n  def(res, '$stable', isStable);\n  def(res, '$key', key);\n  def(res, '$hasNormal', hasNormalSlots);\n  return res\n}\n\nfunction normalizeScopedSlot(normalSlots, key, fn) {\n  var normalized = function () {\n    var res = arguments.length ? fn.apply(null, arguments) : fn({});\n    res = res && typeof res === 'object' && !Array.isArray(res)\n      ? [res] // single vnode\n      : normalizeChildren(res);\n    return res && (\n      res.length === 0 ||\n      (res.length === 1 && res[0].isComment) // #9658\n    ) ? undefined\n      : res\n  };\n  // this is a slot using the new v-slot syntax without scope. although it is\n  // compiled as a scoped slot, render fn users would expect it to be present\n  // on this.$slots because the usage is semantically a normal slot.\n  if (fn.proxy) {\n    Object.defineProperty(normalSlots, key, {\n      get: normalized,\n      enumerable: true,\n      configurable: true\n    });\n  }\n  return normalized\n}\n\nfunction proxyNormalSlot(slots, key) {\n  return function () { return slots[key]; }\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering v-for lists.\n */\nfunction renderList (\n  val,\n  render\n) {\n  var ret, i, l, keys, key;\n  if (Array.isArray(val) || typeof val === 'string') {\n    ret = new Array(val.length);\n    for (i = 0, l = val.length; i < l; i++) {\n      ret[i] = render(val[i], i, i, i); // fixed by xxxxxx\n    }\n  } else if (typeof val === 'number') {\n    ret = new Array(val);\n    for (i = 0; i < val; i++) {\n      ret[i] = render(i + 1, i, i, i); // fixed by xxxxxx\n    }\n  } else if (isObject(val)) {\n    if (hasSymbol && val[Symbol.iterator]) {\n      ret = [];\n      var iterator = val[Symbol.iterator]();\n      var result = iterator.next();\n      while (!result.done) {\n        ret.push(render(result.value, ret.length, i++, i)); // fixed by xxxxxx\n        result = iterator.next();\n      }\n    } else {\n      keys = Object.keys(val);\n      ret = new Array(keys.length);\n      for (i = 0, l = keys.length; i < l; i++) {\n        key = keys[i];\n        ret[i] = render(val[key], key, i, i); // fixed by xxxxxx\n      }\n    }\n  }\n  if (!isDef(ret)) {\n    ret = [];\n  }\n  (ret)._isVList = true;\n  return ret\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering <slot>\n */\nfunction renderSlot (\n  name,\n  fallback,\n  props,\n  bindObject\n) {\n  var scopedSlotFn = this.$scopedSlots[name];\n  var nodes;\n  if (scopedSlotFn) { // scoped slot\n    props = props || {};\n    if (bindObject) {\n      if (process.env.NODE_ENV !== 'production' && !isObject(bindObject)) {\n        warn(\n          'slot v-bind without argument expects an Object',\n          this\n        );\n      }\n      props = extend(extend({}, bindObject), props);\n    }\n    // fixed by xxxxxx app-plus scopedSlot\n    nodes = scopedSlotFn(props, this, props._i) || fallback;\n  } else {\n    nodes = this.$slots[name] || fallback;\n  }\n\n  var target = props && props.slot;\n  if (target) {\n    return this.$createElement('template', { slot: target }, nodes)\n  } else {\n    return nodes\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for resolving filters\n */\nfunction resolveFilter (id) {\n  return resolveAsset(this.$options, 'filters', id, true) || identity\n}\n\n/*  */\n\nfunction isKeyNotMatch (expect, actual) {\n  if (Array.isArray(expect)) {\n    return expect.indexOf(actual) === -1\n  } else {\n    return expect !== actual\n  }\n}\n\n/**\n * Runtime helper for checking keyCodes from config.\n * exposed as Vue.prototype._k\n * passing in eventKeyName as last argument separately for backwards compat\n */\nfunction checkKeyCodes (\n  eventKeyCode,\n  key,\n  builtInKeyCode,\n  eventKeyName,\n  builtInKeyName\n) {\n  var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;\n  if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {\n    return isKeyNotMatch(builtInKeyName, eventKeyName)\n  } else if (mappedKeyCode) {\n    return isKeyNotMatch(mappedKeyCode, eventKeyCode)\n  } else if (eventKeyName) {\n    return hyphenate(eventKeyName) !== key\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for merging v-bind=\"object\" into a VNode's data.\n */\nfunction bindObjectProps (\n  data,\n  tag,\n  value,\n  asProp,\n  isSync\n) {\n  if (value) {\n    if (!isObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-bind without argument expects an Object or Array value',\n        this\n      );\n    } else {\n      if (Array.isArray(value)) {\n        value = toObject(value);\n      }\n      var hash;\n      var loop = function ( key ) {\n        if (\n          key === 'class' ||\n          key === 'style' ||\n          isReservedAttribute(key)\n        ) {\n          hash = data;\n        } else {\n          var type = data.attrs && data.attrs.type;\n          hash = asProp || config.mustUseProp(tag, type, key)\n            ? data.domProps || (data.domProps = {})\n            : data.attrs || (data.attrs = {});\n        }\n        var camelizedKey = camelize(key);\n        var hyphenatedKey = hyphenate(key);\n        if (!(camelizedKey in hash) && !(hyphenatedKey in hash)) {\n          hash[key] = value[key];\n\n          if (isSync) {\n            var on = data.on || (data.on = {});\n            on[(\"update:\" + key)] = function ($event) {\n              value[key] = $event;\n            };\n          }\n        }\n      };\n\n      for (var key in value) loop( key );\n    }\n  }\n  return data\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering static trees.\n */\nfunction renderStatic (\n  index,\n  isInFor\n) {\n  var cached = this._staticTrees || (this._staticTrees = []);\n  var tree = cached[index];\n  // if has already-rendered static tree and not inside v-for,\n  // we can reuse the same tree.\n  if (tree && !isInFor) {\n    return tree\n  }\n  // otherwise, render a fresh tree.\n  tree = cached[index] = this.$options.staticRenderFns[index].call(\n    this._renderProxy,\n    null,\n    this // for render fns generated for functional component templates\n  );\n  markStatic(tree, (\"__static__\" + index), false);\n  return tree\n}\n\n/**\n * Runtime helper for v-once.\n * Effectively it means marking the node as static with a unique key.\n */\nfunction markOnce (\n  tree,\n  index,\n  key\n) {\n  markStatic(tree, (\"__once__\" + index + (key ? (\"_\" + key) : \"\")), true);\n  return tree\n}\n\nfunction markStatic (\n  tree,\n  key,\n  isOnce\n) {\n  if (Array.isArray(tree)) {\n    for (var i = 0; i < tree.length; i++) {\n      if (tree[i] && typeof tree[i] !== 'string') {\n        markStaticNode(tree[i], (key + \"_\" + i), isOnce);\n      }\n    }\n  } else {\n    markStaticNode(tree, key, isOnce);\n  }\n}\n\nfunction markStaticNode (node, key, isOnce) {\n  node.isStatic = true;\n  node.key = key;\n  node.isOnce = isOnce;\n}\n\n/*  */\n\nfunction bindObjectListeners (data, value) {\n  if (value) {\n    if (!isPlainObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-on without argument expects an Object value',\n        this\n      );\n    } else {\n      var on = data.on = data.on ? extend({}, data.on) : {};\n      for (var key in value) {\n        var existing = on[key];\n        var ours = value[key];\n        on[key] = existing ? [].concat(existing, ours) : ours;\n      }\n    }\n  }\n  return data\n}\n\n/*  */\n\nfunction resolveScopedSlots (\n  fns, // see flow/vnode\n  res,\n  // the following are added in 2.6\n  hasDynamicKeys,\n  contentHashKey\n) {\n  res = res || { $stable: !hasDynamicKeys };\n  for (var i = 0; i < fns.length; i++) {\n    var slot = fns[i];\n    if (Array.isArray(slot)) {\n      resolveScopedSlots(slot, res, hasDynamicKeys);\n    } else if (slot) {\n      // marker for reverse proxying v-slot without scope on this.$slots\n      if (slot.proxy) {\n        slot.fn.proxy = true;\n      }\n      res[slot.key] = slot.fn;\n    }\n  }\n  if (contentHashKey) {\n    (res).$key = contentHashKey;\n  }\n  return res\n}\n\n/*  */\n\nfunction bindDynamicKeys (baseObj, values) {\n  for (var i = 0; i < values.length; i += 2) {\n    var key = values[i];\n    if (typeof key === 'string' && key) {\n      baseObj[values[i]] = values[i + 1];\n    } else if (process.env.NODE_ENV !== 'production' && key !== '' && key !== null) {\n      // null is a special value for explicitly removing a binding\n      warn(\n        (\"Invalid value for dynamic directive argument (expected string or null): \" + key),\n        this\n      );\n    }\n  }\n  return baseObj\n}\n\n// helper to dynamically append modifier runtime markers to event names.\n// ensure only append when value is already string, otherwise it will be cast\n// to string and cause the type check to miss.\nfunction prependModifier (value, symbol) {\n  return typeof value === 'string' ? symbol + value : value\n}\n\n/*  */\n\nfunction installRenderHelpers (target) {\n  target._o = markOnce;\n  target._n = toNumber;\n  target._s = toString;\n  target._l = renderList;\n  target._t = renderSlot;\n  target._q = looseEqual;\n  target._i = looseIndexOf;\n  target._m = renderStatic;\n  target._f = resolveFilter;\n  target._k = checkKeyCodes;\n  target._b = bindObjectProps;\n  target._v = createTextVNode;\n  target._e = createEmptyVNode;\n  target._u = resolveScopedSlots;\n  target._g = bindObjectListeners;\n  target._d = bindDynamicKeys;\n  target._p = prependModifier;\n}\n\n/*  */\n\nfunction FunctionalRenderContext (\n  data,\n  props,\n  children,\n  parent,\n  Ctor\n) {\n  var this$1 = this;\n\n  var options = Ctor.options;\n  // ensure the createElement function in functional components\n  // gets a unique context - this is necessary for correct named slot check\n  var contextVm;\n  if (hasOwn(parent, '_uid')) {\n    contextVm = Object.create(parent);\n    // $flow-disable-line\n    contextVm._original = parent;\n  } else {\n    // the context vm passed in is a functional context as well.\n    // in this case we want to make sure we are able to get a hold to the\n    // real context instance.\n    contextVm = parent;\n    // $flow-disable-line\n    parent = parent._original;\n  }\n  var isCompiled = isTrue(options._compiled);\n  var needNormalization = !isCompiled;\n\n  this.data = data;\n  this.props = props;\n  this.children = children;\n  this.parent = parent;\n  this.listeners = data.on || emptyObject;\n  this.injections = resolveInject(options.inject, parent);\n  this.slots = function () {\n    if (!this$1.$slots) {\n      normalizeScopedSlots(\n        data.scopedSlots,\n        this$1.$slots = resolveSlots(children, parent)\n      );\n    }\n    return this$1.$slots\n  };\n\n  Object.defineProperty(this, 'scopedSlots', ({\n    enumerable: true,\n    get: function get () {\n      return normalizeScopedSlots(data.scopedSlots, this.slots())\n    }\n  }));\n\n  // support for compiled functional template\n  if (isCompiled) {\n    // exposing $options for renderStatic()\n    this.$options = options;\n    // pre-resolve slots for renderSlot()\n    this.$slots = this.slots();\n    this.$scopedSlots = normalizeScopedSlots(data.scopedSlots, this.$slots);\n  }\n\n  if (options._scopeId) {\n    this._c = function (a, b, c, d) {\n      var vnode = createElement(contextVm, a, b, c, d, needNormalization);\n      if (vnode && !Array.isArray(vnode)) {\n        vnode.fnScopeId = options._scopeId;\n        vnode.fnContext = parent;\n      }\n      return vnode\n    };\n  } else {\n    this._c = function (a, b, c, d) { return createElement(contextVm, a, b, c, d, needNormalization); };\n  }\n}\n\ninstallRenderHelpers(FunctionalRenderContext.prototype);\n\nfunction createFunctionalComponent (\n  Ctor,\n  propsData,\n  data,\n  contextVm,\n  children\n) {\n  var options = Ctor.options;\n  var props = {};\n  var propOptions = options.props;\n  if (isDef(propOptions)) {\n    for (var key in propOptions) {\n      props[key] = validateProp(key, propOptions, propsData || emptyObject);\n    }\n  } else {\n    if (isDef(data.attrs)) { mergeProps(props, data.attrs); }\n    if (isDef(data.props)) { mergeProps(props, data.props); }\n  }\n\n  var renderContext = new FunctionalRenderContext(\n    data,\n    props,\n    children,\n    contextVm,\n    Ctor\n  );\n\n  var vnode = options.render.call(null, renderContext._c, renderContext);\n\n  if (vnode instanceof VNode) {\n    return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext)\n  } else if (Array.isArray(vnode)) {\n    var vnodes = normalizeChildren(vnode) || [];\n    var res = new Array(vnodes.length);\n    for (var i = 0; i < vnodes.length; i++) {\n      res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);\n    }\n    return res\n  }\n}\n\nfunction cloneAndMarkFunctionalResult (vnode, data, contextVm, options, renderContext) {\n  // #7817 clone node before setting fnContext, otherwise if the node is reused\n  // (e.g. it was from a cached normal slot) the fnContext causes named slots\n  // that should not be matched to match.\n  var clone = cloneVNode(vnode);\n  clone.fnContext = contextVm;\n  clone.fnOptions = options;\n  if (process.env.NODE_ENV !== 'production') {\n    (clone.devtoolsMeta = clone.devtoolsMeta || {}).renderContext = renderContext;\n  }\n  if (data.slot) {\n    (clone.data || (clone.data = {})).slot = data.slot;\n  }\n  return clone\n}\n\nfunction mergeProps (to, from) {\n  for (var key in from) {\n    to[camelize(key)] = from[key];\n  }\n}\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// inline hooks to be invoked on component VNodes during patch\nvar componentVNodeHooks = {\n  init: function init (vnode, hydrating) {\n    if (\n      vnode.componentInstance &&\n      !vnode.componentInstance._isDestroyed &&\n      vnode.data.keepAlive\n    ) {\n      // kept-alive components, treat as a patch\n      var mountedNode = vnode; // work around flow\n      componentVNodeHooks.prepatch(mountedNode, mountedNode);\n    } else {\n      var child = vnode.componentInstance = createComponentInstanceForVnode(\n        vnode,\n        activeInstance\n      );\n      child.$mount(hydrating ? vnode.elm : undefined, hydrating);\n    }\n  },\n\n  prepatch: function prepatch (oldVnode, vnode) {\n    var options = vnode.componentOptions;\n    var child = vnode.componentInstance = oldVnode.componentInstance;\n    updateChildComponent(\n      child,\n      options.propsData, // updated props\n      options.listeners, // updated listeners\n      vnode, // new parent vnode\n      options.children // new children\n    );\n  },\n\n  insert: function insert (vnode) {\n    var context = vnode.context;\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isMounted) {\n      callHook(componentInstance, 'onServiceCreated');\n      callHook(componentInstance, 'onServiceAttached');\n      componentInstance._isMounted = true;\n      callHook(componentInstance, 'mounted');\n    }\n    if (vnode.data.keepAlive) {\n      if (context._isMounted) {\n        // vue-router#1212\n        // During updates, a kept-alive component's child components may\n        // change, so directly walking the tree here may call activated hooks\n        // on incorrect children. Instead we push them into a queue which will\n        // be processed after the whole patch process ended.\n        queueActivatedComponent(componentInstance);\n      } else {\n        activateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  },\n\n  destroy: function destroy (vnode) {\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isDestroyed) {\n      if (!vnode.data.keepAlive) {\n        componentInstance.$destroy();\n      } else {\n        deactivateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  }\n};\n\nvar hooksToMerge = Object.keys(componentVNodeHooks);\n\nfunction createComponent (\n  Ctor,\n  data,\n  context,\n  children,\n  tag\n) {\n  if (isUndef(Ctor)) {\n    return\n  }\n\n  var baseCtor = context.$options._base;\n\n  // plain options object: turn it into a constructor\n  if (isObject(Ctor)) {\n    Ctor = baseCtor.extend(Ctor);\n  }\n\n  // if at this stage it's not a constructor or an async component factory,\n  // reject.\n  if (typeof Ctor !== 'function') {\n    if (process.env.NODE_ENV !== 'production') {\n      warn((\"Invalid Component definition: \" + (String(Ctor))), context);\n    }\n    return\n  }\n\n  // async component\n  var asyncFactory;\n  if (isUndef(Ctor.cid)) {\n    asyncFactory = Ctor;\n    Ctor = resolveAsyncComponent(asyncFactory, baseCtor);\n    if (Ctor === undefined) {\n      // return a placeholder node for async component, which is rendered\n      // as a comment node but preserves all the raw information for the node.\n      // the information will be used for async server-rendering and hydration.\n      return createAsyncPlaceholder(\n        asyncFactory,\n        data,\n        context,\n        children,\n        tag\n      )\n    }\n  }\n\n  data = data || {};\n\n  // resolve constructor options in case global mixins are applied after\n  // component constructor creation\n  resolveConstructorOptions(Ctor);\n\n  // transform component v-model data into props & events\n  if (isDef(data.model)) {\n    transformModel(Ctor.options, data);\n  }\n\n  // extract props\n  var propsData = extractPropsFromVNodeData(data, Ctor, tag, context); // fixed by xxxxxx\n\n  // functional component\n  if (isTrue(Ctor.options.functional)) {\n    return createFunctionalComponent(Ctor, propsData, data, context, children)\n  }\n\n  // extract listeners, since these needs to be treated as\n  // child component listeners instead of DOM listeners\n  var listeners = data.on;\n  // replace with listeners with .native modifier\n  // so it gets processed during parent component patch.\n  data.on = data.nativeOn;\n\n  if (isTrue(Ctor.options.abstract)) {\n    // abstract components do not keep anything\n    // other than props & listeners & slot\n\n    // work around flow\n    var slot = data.slot;\n    data = {};\n    if (slot) {\n      data.slot = slot;\n    }\n  }\n\n  // install component management hooks onto the placeholder node\n  installComponentHooks(data);\n\n  // return a placeholder vnode\n  var name = Ctor.options.name || tag;\n  var vnode = new VNode(\n    (\"vue-component-\" + (Ctor.cid) + (name ? (\"-\" + name) : '')),\n    data, undefined, undefined, undefined, context,\n    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children },\n    asyncFactory\n  );\n\n  return vnode\n}\n\nfunction createComponentInstanceForVnode (\n  vnode, // we know it's MountedComponentVNode but flow doesn't\n  parent // activeInstance in lifecycle state\n) {\n  var options = {\n    _isComponent: true,\n    _parentVnode: vnode,\n    parent: parent\n  };\n  // check inline-template render functions\n  var inlineTemplate = vnode.data.inlineTemplate;\n  if (isDef(inlineTemplate)) {\n    options.render = inlineTemplate.render;\n    options.staticRenderFns = inlineTemplate.staticRenderFns;\n  }\n  return new vnode.componentOptions.Ctor(options)\n}\n\nfunction installComponentHooks (data) {\n  var hooks = data.hook || (data.hook = {});\n  for (var i = 0; i < hooksToMerge.length; i++) {\n    var key = hooksToMerge[i];\n    var existing = hooks[key];\n    var toMerge = componentVNodeHooks[key];\n    if (existing !== toMerge && !(existing && existing._merged)) {\n      hooks[key] = existing ? mergeHook$1(toMerge, existing) : toMerge;\n    }\n  }\n}\n\nfunction mergeHook$1 (f1, f2) {\n  var merged = function (a, b) {\n    // flow complains about extra args which is why we use any\n    f1(a, b);\n    f2(a, b);\n  };\n  merged._merged = true;\n  return merged\n}\n\n// transform component v-model info (value and callback) into\n// prop and event handler respectively.\nfunction transformModel (options, data) {\n  var prop = (options.model && options.model.prop) || 'value';\n  var event = (options.model && options.model.event) || 'input'\n  ;(data.attrs || (data.attrs = {}))[prop] = data.model.value;\n  var on = data.on || (data.on = {});\n  var existing = on[event];\n  var callback = data.model.callback;\n  if (isDef(existing)) {\n    if (\n      Array.isArray(existing)\n        ? existing.indexOf(callback) === -1\n        : existing !== callback\n    ) {\n      on[event] = [callback].concat(existing);\n    }\n  } else {\n    on[event] = callback;\n  }\n}\n\n/*  */\n\nvar SIMPLE_NORMALIZE = 1;\nvar ALWAYS_NORMALIZE = 2;\n\n// wrapper function for providing a more flexible interface\n// without getting yelled at by flow\nfunction createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType,\n  alwaysNormalize\n) {\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children;\n    children = data;\n    data = undefined;\n  }\n  if (isTrue(alwaysNormalize)) {\n    normalizationType = ALWAYS_NORMALIZE;\n  }\n  return _createElement(context, tag, data, children, normalizationType)\n}\n\nfunction _createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType\n) {\n  if (isDef(data) && isDef((data).__ob__)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"Avoid using observed data object as vnode data: \" + (JSON.stringify(data)) + \"\\n\" +\n      'Always create fresh vnode data objects in each render!',\n      context\n    );\n    return createEmptyVNode()\n  }\n  // object syntax in v-bind\n  if (isDef(data) && isDef(data.is)) {\n    tag = data.is;\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createEmptyVNode()\n  }\n  // warn against non-primitive key\n  if (process.env.NODE_ENV !== 'production' &&\n    isDef(data) && isDef(data.key) && !isPrimitive(data.key)\n  ) {\n    {\n      warn(\n        'Avoid using non-primitive value as key, ' +\n        'use string/number value instead.',\n        context\n      );\n    }\n  }\n  // support single function children as default scoped slot\n  if (Array.isArray(children) &&\n    typeof children[0] === 'function'\n  ) {\n    data = data || {};\n    data.scopedSlots = { default: children[0] };\n    children.length = 0;\n  }\n  if (normalizationType === ALWAYS_NORMALIZE) {\n    children = normalizeChildren(children);\n  } else if (normalizationType === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children);\n  }\n  var vnode, ns;\n  if (typeof tag === 'string') {\n    var Ctor;\n    ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);\n    if (config.isReservedTag(tag)) {\n      // platform built-in elements\n      if (process.env.NODE_ENV !== 'production' && isDef(data) && isDef(data.nativeOn)) {\n        warn(\n          (\"The .native modifier for v-on is only valid on components but it was used on <\" + tag + \">.\"),\n          context\n        );\n      }\n      vnode = new VNode(\n        config.parsePlatformTagName(tag), data, children,\n        undefined, undefined, context\n      );\n    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {\n      // component\n      vnode = createComponent(Ctor, data, context, children, tag);\n    } else {\n      // unknown or unlisted namespaced elements\n      // check at runtime because it may get assigned a namespace when its\n      // parent normalizes children\n      vnode = new VNode(\n        tag, data, children,\n        undefined, undefined, context\n      );\n    }\n  } else {\n    // direct component options / constructor\n    vnode = createComponent(tag, data, context, children);\n  }\n  if (Array.isArray(vnode)) {\n    return vnode\n  } else if (isDef(vnode)) {\n    if (isDef(ns)) { applyNS(vnode, ns); }\n    if (isDef(data)) { registerDeepBindings(data); }\n    return vnode\n  } else {\n    return createEmptyVNode()\n  }\n}\n\nfunction applyNS (vnode, ns, force) {\n  vnode.ns = ns;\n  if (vnode.tag === 'foreignObject') {\n    // use default namespace inside foreignObject\n    ns = undefined;\n    force = true;\n  }\n  if (isDef(vnode.children)) {\n    for (var i = 0, l = vnode.children.length; i < l; i++) {\n      var child = vnode.children[i];\n      if (isDef(child.tag) && (\n        isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {\n        applyNS(child, ns, force);\n      }\n    }\n  }\n}\n\n// ref #5318\n// necessary to ensure parent re-render when deep bindings like :style and\n// :class are used on slot nodes\nfunction registerDeepBindings (data) {\n  if (isObject(data.style)) {\n    traverse(data.style);\n  }\n  if (isObject(data.class)) {\n    traverse(data.class);\n  }\n}\n\n/*  */\n\nfunction initRender (vm) {\n  vm._vnode = null; // the root of the child tree\n  vm._staticTrees = null; // v-once cached trees\n  var options = vm.$options;\n  var parentVnode = vm.$vnode = options._parentVnode; // the placeholder node in parent tree\n  var renderContext = parentVnode && parentVnode.context;\n  vm.$slots = resolveSlots(options._renderChildren, renderContext);\n  vm.$scopedSlots = emptyObject;\n  // bind the createElement fn to this instance\n  // so that we get proper render context inside it.\n  // args order: tag, data, children, normalizationType, alwaysNormalize\n  // internal version is used by render functions compiled from templates\n  vm._c = function (a, b, c, d) { return createElement(vm, a, b, c, d, false); };\n  // normalization is always applied for the public version, used in\n  // user-written render functions.\n  vm.$createElement = function (a, b, c, d) { return createElement(vm, a, b, c, d, true); };\n\n  // $attrs & $listeners are exposed for easier HOC creation.\n  // they need to be reactive so that HOCs using them are always updated\n  var parentData = parentVnode && parentVnode.data;\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$attrs is readonly.\", vm);\n    }, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$listeners is readonly.\", vm);\n    }, true);\n  } else {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, null, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, null, true);\n  }\n}\n\nvar currentRenderingInstance = null;\n\nfunction renderMixin (Vue) {\n  // install runtime convenience helpers\n  installRenderHelpers(Vue.prototype);\n\n  Vue.prototype.$nextTick = function (fn) {\n    return nextTick(fn, this)\n  };\n\n  Vue.prototype._render = function () {\n    var vm = this;\n    var ref = vm.$options;\n    var render = ref.render;\n    var _parentVnode = ref._parentVnode;\n\n    if (_parentVnode) {\n      vm.$scopedSlots = normalizeScopedSlots(\n        _parentVnode.data.scopedSlots,\n        vm.$slots,\n        vm.$scopedSlots\n      );\n    }\n\n    // set parent vnode. this allows render functions to have access\n    // to the data on the placeholder node.\n    vm.$vnode = _parentVnode;\n    // render self\n    var vnode;\n    try {\n      // There's no need to maintain a stack because all render fns are called\n      // separately from one another. Nested component's render fns are called\n      // when parent component is patched.\n      currentRenderingInstance = vm;\n      vnode = render.call(vm._renderProxy, vm.$createElement);\n    } catch (e) {\n      handleError(e, vm, \"render\");\n      // return error render result,\n      // or previous vnode to prevent render error causing blank component\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production' && vm.$options.renderError) {\n        try {\n          vnode = vm.$options.renderError.call(vm._renderProxy, vm.$createElement, e);\n        } catch (e) {\n          handleError(e, vm, \"renderError\");\n          vnode = vm._vnode;\n        }\n      } else {\n        vnode = vm._vnode;\n      }\n    } finally {\n      currentRenderingInstance = null;\n    }\n    // if the returned array contains only a single node, allow it\n    if (Array.isArray(vnode) && vnode.length === 1) {\n      vnode = vnode[0];\n    }\n    // return empty vnode in case the render function errored out\n    if (!(vnode instanceof VNode)) {\n      if (process.env.NODE_ENV !== 'production' && Array.isArray(vnode)) {\n        warn(\n          'Multiple root nodes returned from render function. Render function ' +\n          'should return a single root node.',\n          vm\n        );\n      }\n      vnode = createEmptyVNode();\n    }\n    // set parent\n    vnode.parent = _parentVnode;\n    return vnode\n  };\n}\n\n/*  */\n\nfunction ensureCtor (comp, base) {\n  if (\n    comp.__esModule ||\n    (hasSymbol && comp[Symbol.toStringTag] === 'Module')\n  ) {\n    comp = comp.default;\n  }\n  return isObject(comp)\n    ? base.extend(comp)\n    : comp\n}\n\nfunction createAsyncPlaceholder (\n  factory,\n  data,\n  context,\n  children,\n  tag\n) {\n  var node = createEmptyVNode();\n  node.asyncFactory = factory;\n  node.asyncMeta = { data: data, context: context, children: children, tag: tag };\n  return node\n}\n\nfunction resolveAsyncComponent (\n  factory,\n  baseCtor\n) {\n  if (isTrue(factory.error) && isDef(factory.errorComp)) {\n    return factory.errorComp\n  }\n\n  if (isDef(factory.resolved)) {\n    return factory.resolved\n  }\n\n  var owner = currentRenderingInstance;\n  if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {\n    // already pending\n    factory.owners.push(owner);\n  }\n\n  if (isTrue(factory.loading) && isDef(factory.loadingComp)) {\n    return factory.loadingComp\n  }\n\n  if (owner && !isDef(factory.owners)) {\n    var owners = factory.owners = [owner];\n    var sync = true;\n    var timerLoading = null;\n    var timerTimeout = null\n\n    ;(owner).$on('hook:destroyed', function () { return remove(owners, owner); });\n\n    var forceRender = function (renderCompleted) {\n      for (var i = 0, l = owners.length; i < l; i++) {\n        (owners[i]).$forceUpdate();\n      }\n\n      if (renderCompleted) {\n        owners.length = 0;\n        if (timerLoading !== null) {\n          clearTimeout(timerLoading);\n          timerLoading = null;\n        }\n        if (timerTimeout !== null) {\n          clearTimeout(timerTimeout);\n          timerTimeout = null;\n        }\n      }\n    };\n\n    var resolve = once(function (res) {\n      // cache resolved\n      factory.resolved = ensureCtor(res, baseCtor);\n      // invoke callbacks only if this is not a synchronous resolve\n      // (async resolves are shimmed as synchronous during SSR)\n      if (!sync) {\n        forceRender(true);\n      } else {\n        owners.length = 0;\n      }\n    });\n\n    var reject = once(function (reason) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed to resolve async component: \" + (String(factory)) +\n        (reason ? (\"\\nReason: \" + reason) : '')\n      );\n      if (isDef(factory.errorComp)) {\n        factory.error = true;\n        forceRender(true);\n      }\n    });\n\n    var res = factory(resolve, reject);\n\n    if (isObject(res)) {\n      if (isPromise(res)) {\n        // () => Promise\n        if (isUndef(factory.resolved)) {\n          res.then(resolve, reject);\n        }\n      } else if (isPromise(res.component)) {\n        res.component.then(resolve, reject);\n\n        if (isDef(res.error)) {\n          factory.errorComp = ensureCtor(res.error, baseCtor);\n        }\n\n        if (isDef(res.loading)) {\n          factory.loadingComp = ensureCtor(res.loading, baseCtor);\n          if (res.delay === 0) {\n            factory.loading = true;\n          } else {\n            timerLoading = setTimeout(function () {\n              timerLoading = null;\n              if (isUndef(factory.resolved) && isUndef(factory.error)) {\n                factory.loading = true;\n                forceRender(false);\n              }\n            }, res.delay || 200);\n          }\n        }\n\n        if (isDef(res.timeout)) {\n          timerTimeout = setTimeout(function () {\n            timerTimeout = null;\n            if (isUndef(factory.resolved)) {\n              reject(\n                process.env.NODE_ENV !== 'production'\n                  ? (\"timeout (\" + (res.timeout) + \"ms)\")\n                  : null\n              );\n            }\n          }, res.timeout);\n        }\n      }\n    }\n\n    sync = false;\n    // return in case resolved synchronously\n    return factory.loading\n      ? factory.loadingComp\n      : factory.resolved\n  }\n}\n\n/*  */\n\nfunction isAsyncPlaceholder (node) {\n  return node.isComment && node.asyncFactory\n}\n\n/*  */\n\nfunction getFirstComponentChild (children) {\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      var c = children[i];\n      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n        return c\n      }\n    }\n  }\n}\n\n/*  */\n\n/*  */\n\nfunction initEvents (vm) {\n  vm._events = Object.create(null);\n  vm._hasHookEvent = false;\n  // init parent attached events\n  var listeners = vm.$options._parentListeners;\n  if (listeners) {\n    updateComponentListeners(vm, listeners);\n  }\n}\n\nvar target;\n\nfunction add (event, fn) {\n  target.$on(event, fn);\n}\n\nfunction remove$1 (event, fn) {\n  target.$off(event, fn);\n}\n\nfunction createOnceHandler (event, fn) {\n  var _target = target;\n  return function onceHandler () {\n    var res = fn.apply(null, arguments);\n    if (res !== null) {\n      _target.$off(event, onceHandler);\n    }\n  }\n}\n\nfunction updateComponentListeners (\n  vm,\n  listeners,\n  oldListeners\n) {\n  target = vm;\n  updateListeners(listeners, oldListeners || {}, add, remove$1, createOnceHandler, vm);\n  target = undefined;\n}\n\nfunction eventsMixin (Vue) {\n  var hookRE = /^hook:/;\n  Vue.prototype.$on = function (event, fn) {\n    var vm = this;\n    if (Array.isArray(event)) {\n      for (var i = 0, l = event.length; i < l; i++) {\n        vm.$on(event[i], fn);\n      }\n    } else {\n      (vm._events[event] || (vm._events[event] = [])).push(fn);\n      // optimize hook:event cost by using a boolean flag marked at registration\n      // instead of a hash lookup\n      if (hookRE.test(event)) {\n        vm._hasHookEvent = true;\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$once = function (event, fn) {\n    var vm = this;\n    function on () {\n      vm.$off(event, on);\n      fn.apply(vm, arguments);\n    }\n    on.fn = fn;\n    vm.$on(event, on);\n    return vm\n  };\n\n  Vue.prototype.$off = function (event, fn) {\n    var vm = this;\n    // all\n    if (!arguments.length) {\n      vm._events = Object.create(null);\n      return vm\n    }\n    // array of events\n    if (Array.isArray(event)) {\n      for (var i$1 = 0, l = event.length; i$1 < l; i$1++) {\n        vm.$off(event[i$1], fn);\n      }\n      return vm\n    }\n    // specific event\n    var cbs = vm._events[event];\n    if (!cbs) {\n      return vm\n    }\n    if (!fn) {\n      vm._events[event] = null;\n      return vm\n    }\n    // specific handler\n    var cb;\n    var i = cbs.length;\n    while (i--) {\n      cb = cbs[i];\n      if (cb === fn || cb.fn === fn) {\n        cbs.splice(i, 1);\n        break\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$emit = function (event) {\n    var vm = this;\n    if (process.env.NODE_ENV !== 'production') {\n      var lowerCaseEvent = event.toLowerCase();\n      if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {\n        tip(\n          \"Event \\\"\" + lowerCaseEvent + \"\\\" is emitted in component \" +\n          (formatComponentName(vm)) + \" but the handler is registered for \\\"\" + event + \"\\\". \" +\n          \"Note that HTML attributes are case-insensitive and you cannot use \" +\n          \"v-on to listen to camelCase events when using in-DOM templates. \" +\n          \"You should probably use \\\"\" + (hyphenate(event)) + \"\\\" instead of \\\"\" + event + \"\\\".\"\n        );\n      }\n    }\n    var cbs = vm._events[event];\n    if (cbs) {\n      cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n      var args = toArray(arguments, 1);\n      var info = \"event handler for \\\"\" + event + \"\\\"\";\n      for (var i = 0, l = cbs.length; i < l; i++) {\n        invokeWithErrorHandling(cbs[i], vm, args, vm, info);\n      }\n    }\n    return vm\n  };\n}\n\n/*  */\n\nvar activeInstance = null;\nvar isUpdatingChildComponent = false;\n\nfunction setActiveInstance(vm) {\n  var prevActiveInstance = activeInstance;\n  activeInstance = vm;\n  return function () {\n    activeInstance = prevActiveInstance;\n  }\n}\n\nfunction initLifecycle (vm) {\n  var options = vm.$options;\n\n  // locate first non-abstract parent\n  var parent = options.parent;\n  if (parent && !options.abstract) {\n    while (parent.$options.abstract && parent.$parent) {\n      parent = parent.$parent;\n    }\n    parent.$children.push(vm);\n  }\n\n  vm.$parent = parent;\n  vm.$root = parent ? parent.$root : vm;\n\n  vm.$children = [];\n  vm.$refs = {};\n\n  vm._watcher = null;\n  vm._inactive = null;\n  vm._directInactive = false;\n  vm._isMounted = false;\n  vm._isDestroyed = false;\n  vm._isBeingDestroyed = false;\n}\n\nfunction lifecycleMixin (Vue) {\n  Vue.prototype._update = function (vnode, hydrating) {\n    var vm = this;\n    var prevEl = vm.$el;\n    var prevVnode = vm._vnode;\n    var restoreActiveInstance = setActiveInstance(vm);\n    vm._vnode = vnode;\n    // Vue.prototype.__patch__ is injected in entry points\n    // based on the rendering backend used.\n    if (!prevVnode) {\n      // initial render\n      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n    } else {\n      // updates\n      vm.$el = vm.__patch__(prevVnode, vnode);\n    }\n    restoreActiveInstance();\n    // update __vue__ reference\n    if (prevEl) {\n      prevEl.__vue__ = null;\n    }\n    if (vm.$el) {\n      vm.$el.__vue__ = vm;\n    }\n    // if parent is an HOC, update its $el as well\n    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {\n      vm.$parent.$el = vm.$el;\n    }\n    // updated hook is called by the scheduler to ensure that children are\n    // updated in a parent's updated hook.\n  };\n\n  Vue.prototype.$forceUpdate = function () {\n    var vm = this;\n    if (vm._watcher) {\n      vm._watcher.update();\n    }\n  };\n\n  Vue.prototype.$destroy = function () {\n    var vm = this;\n    if (vm._isBeingDestroyed) {\n      return\n    }\n    callHook(vm, 'beforeDestroy');\n    vm._isBeingDestroyed = true;\n    // remove self from parent\n    var parent = vm.$parent;\n    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {\n      remove(parent.$children, vm);\n    }\n    // teardown watchers\n    if (vm._watcher) {\n      vm._watcher.teardown();\n    }\n    var i = vm._watchers.length;\n    while (i--) {\n      vm._watchers[i].teardown();\n    }\n    // remove reference from data ob\n    // frozen object may not have observer.\n    if (vm._data.__ob__) {\n      vm._data.__ob__.vmCount--;\n    }\n    // call the last hook...\n    vm._isDestroyed = true;\n    // invoke destroy hooks on current rendered tree\n    vm.__patch__(vm._vnode, null);\n    // fire destroyed hook\n    callHook(vm, 'destroyed');\n    // turn off all instance listeners.\n    vm.$off();\n    // remove __vue__ reference\n    if (vm.$el) {\n      vm.$el.__vue__ = null;\n    }\n    // release circular reference (#6759)\n    if (vm.$vnode) {\n      vm.$vnode.parent = null;\n    }\n  };\n}\n\nfunction updateChildComponent (\n  vm,\n  propsData,\n  listeners,\n  parentVnode,\n  renderChildren\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = true;\n  }\n\n  // determine whether component has slot children\n  // we need to do this before overwriting $options._renderChildren.\n\n  // check if there are dynamic scopedSlots (hand-written or compiled but with\n  // dynamic slot names). Static scoped slots compiled from template has the\n  // \"$stable\" marker.\n  var newScopedSlots = parentVnode.data.scopedSlots;\n  var oldScopedSlots = vm.$scopedSlots;\n  var hasDynamicScopedSlot = !!(\n    (newScopedSlots && !newScopedSlots.$stable) ||\n    (oldScopedSlots !== emptyObject && !oldScopedSlots.$stable) ||\n    (newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key)\n  );\n\n  // Any static slot children from the parent may have changed during parent's\n  // update. Dynamic scoped slots may also have changed. In such cases, a forced\n  // update is necessary to ensure correctness.\n  var needsForceUpdate = !!(\n    renderChildren ||               // has new static slots\n    vm.$options._renderChildren ||  // has old static slots\n    hasDynamicScopedSlot\n  );\n\n  vm.$options._parentVnode = parentVnode;\n  vm.$vnode = parentVnode; // update vm's placeholder node without re-render\n\n  if (vm._vnode) { // update child tree's parent\n    vm._vnode.parent = parentVnode;\n  }\n  vm.$options._renderChildren = renderChildren;\n\n  // update $attrs and $listeners hash\n  // these are also reactive so they may trigger child update if the child\n  // used them during render\n  vm.$attrs = parentVnode.data.attrs || emptyObject;\n  vm.$listeners = listeners || emptyObject;\n\n  // update props\n  if (propsData && vm.$options.props) {\n    toggleObserving(false);\n    var props = vm._props;\n    var propKeys = vm.$options._propKeys || [];\n    for (var i = 0; i < propKeys.length; i++) {\n      var key = propKeys[i];\n      var propOptions = vm.$options.props; // wtf flow?\n      props[key] = validateProp(key, propOptions, propsData, vm);\n    }\n    toggleObserving(true);\n    // keep a copy of raw propsData\n    vm.$options.propsData = propsData;\n  }\n  \n  // fixed by xxxxxx update properties(mp runtime)\n  vm._$updateProperties && vm._$updateProperties(vm);\n  \n  // update listeners\n  listeners = listeners || emptyObject;\n  var oldListeners = vm.$options._parentListeners;\n  vm.$options._parentListeners = listeners;\n  updateComponentListeners(vm, listeners, oldListeners);\n\n  // resolve slots + force update if has children\n  if (needsForceUpdate) {\n    vm.$slots = resolveSlots(renderChildren, parentVnode.context);\n    vm.$forceUpdate();\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = false;\n  }\n}\n\nfunction isInInactiveTree (vm) {\n  while (vm && (vm = vm.$parent)) {\n    if (vm._inactive) { return true }\n  }\n  return false\n}\n\nfunction activateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = false;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  } else if (vm._directInactive) {\n    return\n  }\n  if (vm._inactive || vm._inactive === null) {\n    vm._inactive = false;\n    for (var i = 0; i < vm.$children.length; i++) {\n      activateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'activated');\n  }\n}\n\nfunction deactivateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = true;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  }\n  if (!vm._inactive) {\n    vm._inactive = true;\n    for (var i = 0; i < vm.$children.length; i++) {\n      deactivateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'deactivated');\n  }\n}\n\nfunction callHook (vm, hook) {\n  // #7573 disable dep collection when invoking lifecycle hooks\n  pushTarget();\n  var handlers = vm.$options[hook];\n  var info = hook + \" hook\";\n  if (handlers) {\n    for (var i = 0, j = handlers.length; i < j; i++) {\n      invokeWithErrorHandling(handlers[i], vm, null, vm, info);\n    }\n  }\n  if (vm._hasHookEvent) {\n    vm.$emit('hook:' + hook);\n  }\n  popTarget();\n}\n\n/*  */\n\nvar MAX_UPDATE_COUNT = 100;\n\nvar queue = [];\nvar activatedChildren = [];\nvar has = {};\nvar circular = {};\nvar waiting = false;\nvar flushing = false;\nvar index = 0;\n\n/**\n * Reset the scheduler's state.\n */\nfunction resetSchedulerState () {\n  index = queue.length = activatedChildren.length = 0;\n  has = {};\n  if (process.env.NODE_ENV !== 'production') {\n    circular = {};\n  }\n  waiting = flushing = false;\n}\n\n// Async edge case #6566 requires saving the timestamp when event listeners are\n// attached. However, calling performance.now() has a perf overhead especially\n// if the page has thousands of event listeners. Instead, we take a timestamp\n// every time the scheduler flushes and use that for all event listeners\n// attached during that flush.\nvar currentFlushTimestamp = 0;\n\n// Async edge case fix requires storing an event listener's attach timestamp.\nvar getNow = Date.now;\n\n// Determine what event timestamp the browser is using. Annoyingly, the\n// timestamp can either be hi-res (relative to page load) or low-res\n// (relative to UNIX epoch), so in order to compare time we have to use the\n// same timestamp type when saving the flush timestamp.\n// All IE versions use low-res event timestamps, and have problematic clock\n// implementations (#9632)\nif (inBrowser && !isIE) {\n  var performance = window.performance;\n  if (\n    performance &&\n    typeof performance.now === 'function' &&\n    getNow() > document.createEvent('Event').timeStamp\n  ) {\n    // if the event timestamp, although evaluated AFTER the Date.now(), is\n    // smaller than it, it means the event is using a hi-res timestamp,\n    // and we need to use the hi-res version for event listener timestamps as\n    // well.\n    getNow = function () { return performance.now(); };\n  }\n}\n\n/**\n * Flush both queues and run the watchers.\n */\nfunction flushSchedulerQueue () {\n  currentFlushTimestamp = getNow();\n  flushing = true;\n  var watcher, id;\n\n  // Sort queue before flush.\n  // This ensures that:\n  // 1. Components are updated from parent to child. (because parent is always\n  //    created before the child)\n  // 2. A component's user watchers are run before its render watcher (because\n  //    user watchers are created before the render watcher)\n  // 3. If a component is destroyed during a parent component's watcher run,\n  //    its watchers can be skipped.\n  queue.sort(function (a, b) { return a.id - b.id; });\n\n  // do not cache length because more watchers might be pushed\n  // as we run existing watchers\n  for (index = 0; index < queue.length; index++) {\n    watcher = queue[index];\n    if (watcher.before) {\n      watcher.before();\n    }\n    id = watcher.id;\n    has[id] = null;\n    watcher.run();\n    // in dev build, check and stop circular updates.\n    if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n      circular[id] = (circular[id] || 0) + 1;\n      if (circular[id] > MAX_UPDATE_COUNT) {\n        warn(\n          'You may have an infinite update loop ' + (\n            watcher.user\n              ? (\"in watcher with expression \\\"\" + (watcher.expression) + \"\\\"\")\n              : \"in a component render function.\"\n          ),\n          watcher.vm\n        );\n        break\n      }\n    }\n  }\n\n  // keep copies of post queues before resetting state\n  var activatedQueue = activatedChildren.slice();\n  var updatedQueue = queue.slice();\n\n  resetSchedulerState();\n\n  // call component updated and activated hooks\n  callActivatedHooks(activatedQueue);\n  callUpdatedHooks(updatedQueue);\n\n  // devtool hook\n  /* istanbul ignore if */\n  if (devtools && config.devtools) {\n    devtools.emit('flush');\n  }\n}\n\nfunction callUpdatedHooks (queue) {\n  var i = queue.length;\n  while (i--) {\n    var watcher = queue[i];\n    var vm = watcher.vm;\n    if (vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {\n      callHook(vm, 'updated');\n    }\n  }\n}\n\n/**\n * Queue a kept-alive component that was activated during patch.\n * The queue will be processed after the entire tree has been patched.\n */\nfunction queueActivatedComponent (vm) {\n  // setting _inactive to false here so that a render function can\n  // rely on checking whether it's in an inactive tree (e.g. router-view)\n  vm._inactive = false;\n  activatedChildren.push(vm);\n}\n\nfunction callActivatedHooks (queue) {\n  for (var i = 0; i < queue.length; i++) {\n    queue[i]._inactive = true;\n    activateChildComponent(queue[i], true /* true */);\n  }\n}\n\n/**\n * Push a watcher into the watcher queue.\n * Jobs with duplicate IDs will be skipped unless it's\n * pushed when the queue is being flushed.\n */\nfunction queueWatcher (watcher) {\n  var id = watcher.id;\n  if (has[id] == null) {\n    has[id] = true;\n    if (!flushing) {\n      queue.push(watcher);\n    } else {\n      // if already flushing, splice the watcher based on its id\n      // if already past its id, it will be run next immediately.\n      var i = queue.length - 1;\n      while (i > index && queue[i].id > watcher.id) {\n        i--;\n      }\n      queue.splice(i + 1, 0, watcher);\n    }\n    // queue the flush\n    if (!waiting) {\n      waiting = true;\n\n      if (process.env.NODE_ENV !== 'production' && !config.async) {\n        flushSchedulerQueue();\n        return\n      }\n      nextTick(flushSchedulerQueue);\n    }\n  }\n}\n\n/*  */\n\n\n\nvar uid$2 = 0;\n\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n */\nvar Watcher = function Watcher (\n  vm,\n  expOrFn,\n  cb,\n  options,\n  isRenderWatcher\n) {\n  this.vm = vm;\n  if (isRenderWatcher) {\n    vm._watcher = this;\n  }\n  vm._watchers.push(this);\n  // options\n  if (options) {\n    this.deep = !!options.deep;\n    this.user = !!options.user;\n    this.lazy = !!options.lazy;\n    this.sync = !!options.sync;\n    this.before = options.before;\n  } else {\n    this.deep = this.user = this.lazy = this.sync = false;\n  }\n  this.cb = cb;\n  this.id = ++uid$2; // uid for batching\n  this.active = true;\n  this.dirty = this.lazy; // for lazy watchers\n  this.deps = [];\n  this.newDeps = [];\n  this.depIds = new _Set();\n  this.newDepIds = new _Set();\n  this.expression = process.env.NODE_ENV !== 'production'\n    ? expOrFn.toString()\n    : '';\n  // parse expression for getter\n  if (typeof expOrFn === 'function') {\n    this.getter = expOrFn;\n  } else {\n    this.getter = parsePath(expOrFn);\n    if (!this.getter) {\n      this.getter = noop;\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed watching path: \\\"\" + expOrFn + \"\\\" \" +\n        'Watcher only accepts simple dot-delimited paths. ' +\n        'For full control, use a function instead.',\n        vm\n      );\n    }\n  }\n  this.value = this.lazy\n    ? undefined\n    : this.get();\n};\n\n/**\n * Evaluate the getter, and re-collect dependencies.\n */\nWatcher.prototype.get = function get () {\n  pushTarget(this);\n  var value;\n  var vm = this.vm;\n  try {\n    value = this.getter.call(vm, vm);\n  } catch (e) {\n    if (this.user) {\n      handleError(e, vm, (\"getter for watcher \\\"\" + (this.expression) + \"\\\"\"));\n    } else {\n      throw e\n    }\n  } finally {\n    // \"touch\" every property so they are all tracked as\n    // dependencies for deep watching\n    if (this.deep) {\n      traverse(value);\n    }\n    popTarget();\n    this.cleanupDeps();\n  }\n  return value\n};\n\n/**\n * Add a dependency to this directive.\n */\nWatcher.prototype.addDep = function addDep (dep) {\n  var id = dep.id;\n  if (!this.newDepIds.has(id)) {\n    this.newDepIds.add(id);\n    this.newDeps.push(dep);\n    if (!this.depIds.has(id)) {\n      dep.addSub(this);\n    }\n  }\n};\n\n/**\n * Clean up for dependency collection.\n */\nWatcher.prototype.cleanupDeps = function cleanupDeps () {\n  var i = this.deps.length;\n  while (i--) {\n    var dep = this.deps[i];\n    if (!this.newDepIds.has(dep.id)) {\n      dep.removeSub(this);\n    }\n  }\n  var tmp = this.depIds;\n  this.depIds = this.newDepIds;\n  this.newDepIds = tmp;\n  this.newDepIds.clear();\n  tmp = this.deps;\n  this.deps = this.newDeps;\n  this.newDeps = tmp;\n  this.newDeps.length = 0;\n};\n\n/**\n * Subscriber interface.\n * Will be called when a dependency changes.\n */\nWatcher.prototype.update = function update () {\n  /* istanbul ignore else */\n  if (this.lazy) {\n    this.dirty = true;\n  } else if (this.sync) {\n    this.run();\n  } else {\n    queueWatcher(this);\n  }\n};\n\n/**\n * Scheduler job interface.\n * Will be called by the scheduler.\n */\nWatcher.prototype.run = function run () {\n  if (this.active) {\n    var value = this.get();\n    if (\n      value !== this.value ||\n      // Deep watchers and watchers on Object/Arrays should fire even\n      // when the value is the same, because the value may\n      // have mutated.\n      isObject(value) ||\n      this.deep\n    ) {\n      // set new value\n      var oldValue = this.value;\n      this.value = value;\n      if (this.user) {\n        try {\n          this.cb.call(this.vm, value, oldValue);\n        } catch (e) {\n          handleError(e, this.vm, (\"callback for watcher \\\"\" + (this.expression) + \"\\\"\"));\n        }\n      } else {\n        this.cb.call(this.vm, value, oldValue);\n      }\n    }\n  }\n};\n\n/**\n * Evaluate the value of the watcher.\n * This only gets called for lazy watchers.\n */\nWatcher.prototype.evaluate = function evaluate () {\n  this.value = this.get();\n  this.dirty = false;\n};\n\n/**\n * Depend on all deps collected by this watcher.\n */\nWatcher.prototype.depend = function depend () {\n  var i = this.deps.length;\n  while (i--) {\n    this.deps[i].depend();\n  }\n};\n\n/**\n * Remove self from all dependencies' subscriber list.\n */\nWatcher.prototype.teardown = function teardown () {\n  if (this.active) {\n    // remove self from vm's watcher list\n    // this is a somewhat expensive operation so we skip it\n    // if the vm is being destroyed.\n    if (!this.vm._isBeingDestroyed) {\n      remove(this.vm._watchers, this);\n    }\n    var i = this.deps.length;\n    while (i--) {\n      this.deps[i].removeSub(this);\n    }\n    this.active = false;\n  }\n};\n\n/*  */\n\nvar sharedPropertyDefinition = {\n  enumerable: true,\n  configurable: true,\n  get: noop,\n  set: noop\n};\n\nfunction proxy (target, sourceKey, key) {\n  sharedPropertyDefinition.get = function proxyGetter () {\n    return this[sourceKey][key]\n  };\n  sharedPropertyDefinition.set = function proxySetter (val) {\n    this[sourceKey][key] = val;\n  };\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction initState (vm) {\n  vm._watchers = [];\n  var opts = vm.$options;\n  if (opts.props) { initProps(vm, opts.props); }\n  if (opts.methods) { initMethods(vm, opts.methods); }\n  if (opts.data) {\n    initData(vm);\n  } else {\n    observe(vm._data = {}, true /* asRootData */);\n  }\n  if (opts.computed) { initComputed(vm, opts.computed); }\n  if (opts.watch && opts.watch !== nativeWatch) {\n    initWatch(vm, opts.watch);\n  }\n}\n\nfunction initProps (vm, propsOptions) {\n  var propsData = vm.$options.propsData || {};\n  var props = vm._props = {};\n  // cache prop keys so that future props updates can iterate using Array\n  // instead of dynamic object key enumeration.\n  var keys = vm.$options._propKeys = [];\n  var isRoot = !vm.$parent;\n  // root instance props should be converted\n  if (!isRoot) {\n    toggleObserving(false);\n  }\n  var loop = function ( key ) {\n    keys.push(key);\n    var value = validateProp(key, propsOptions, propsData, vm);\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      var hyphenatedKey = hyphenate(key);\n      if (isReservedAttribute(hyphenatedKey) ||\n          config.isReservedAttr(hyphenatedKey)) {\n        warn(\n          (\"\\\"\" + hyphenatedKey + \"\\\" is a reserved attribute and cannot be used as component prop.\"),\n          vm\n        );\n      }\n      defineReactive$$1(props, key, value, function () {\n        if (!isRoot && !isUpdatingChildComponent) {\n          {\n            if(vm.mpHost === 'mp-baidu'){//百度 observer 在 setData callback 之后触发，直接忽略该 warn\n                return\n            }\n            //fixed by xxxxxx __next_tick_pending,uni://form-field 时不告警\n            if(\n                key === 'value' && \n                Array.isArray(vm.$options.behaviors) &&\n                vm.$options.behaviors.indexOf('uni://form-field') !== -1\n              ){\n              return\n            }\n            if(vm._getFormData){\n              return\n            }\n            var $parent = vm.$parent;\n            while($parent){\n              if($parent.__next_tick_pending){\n                return  \n              }\n              $parent = $parent.$parent;\n            }\n          }\n          warn(\n            \"Avoid mutating a prop directly since the value will be \" +\n            \"overwritten whenever the parent component re-renders. \" +\n            \"Instead, use a data or computed property based on the prop's \" +\n            \"value. Prop being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        }\n      });\n    } else {\n      defineReactive$$1(props, key, value);\n    }\n    // static props are already proxied on the component's prototype\n    // during Vue.extend(). We only need to proxy props defined at\n    // instantiation here.\n    if (!(key in vm)) {\n      proxy(vm, \"_props\", key);\n    }\n  };\n\n  for (var key in propsOptions) loop( key );\n  toggleObserving(true);\n}\n\nfunction initData (vm) {\n  var data = vm.$options.data;\n  data = vm._data = typeof data === 'function'\n    ? getData(data, vm)\n    : data || {};\n  if (!isPlainObject(data)) {\n    data = {};\n    process.env.NODE_ENV !== 'production' && warn(\n      'data functions should return an object:\\n' +\n      'https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function',\n      vm\n    );\n  }\n  // proxy data on instance\n  var keys = Object.keys(data);\n  var props = vm.$options.props;\n  var methods = vm.$options.methods;\n  var i = keys.length;\n  while (i--) {\n    var key = keys[i];\n    if (process.env.NODE_ENV !== 'production') {\n      if (methods && hasOwn(methods, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a data property.\"),\n          vm\n        );\n      }\n    }\n    if (props && hasOwn(props, key)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"The data property \\\"\" + key + \"\\\" is already declared as a prop. \" +\n        \"Use prop default value instead.\",\n        vm\n      );\n    } else if (!isReserved(key)) {\n      proxy(vm, \"_data\", key);\n    }\n  }\n  // observe data\n  observe(data, true /* asRootData */);\n}\n\nfunction getData (data, vm) {\n  // #7573 disable dep collection when invoking data getters\n  pushTarget();\n  try {\n    return data.call(vm, vm)\n  } catch (e) {\n    handleError(e, vm, \"data()\");\n    return {}\n  } finally {\n    popTarget();\n  }\n}\n\nvar computedWatcherOptions = { lazy: true };\n\nfunction initComputed (vm, computed) {\n  // $flow-disable-line\n  var watchers = vm._computedWatchers = Object.create(null);\n  // computed properties are just getters during SSR\n  var isSSR = isServerRendering();\n\n  for (var key in computed) {\n    var userDef = computed[key];\n    var getter = typeof userDef === 'function' ? userDef : userDef.get;\n    if (process.env.NODE_ENV !== 'production' && getter == null) {\n      warn(\n        (\"Getter is missing for computed property \\\"\" + key + \"\\\".\"),\n        vm\n      );\n    }\n\n    if (!isSSR) {\n      // create internal watcher for the computed property.\n      watchers[key] = new Watcher(\n        vm,\n        getter || noop,\n        noop,\n        computedWatcherOptions\n      );\n    }\n\n    // component-defined computed properties are already defined on the\n    // component prototype. We only need to define computed properties defined\n    // at instantiation here.\n    if (!(key in vm)) {\n      defineComputed(vm, key, userDef);\n    } else if (process.env.NODE_ENV !== 'production') {\n      if (key in vm.$data) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined in data.\"), vm);\n      } else if (vm.$options.props && key in vm.$options.props) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined as a prop.\"), vm);\n      }\n    }\n  }\n}\n\nfunction defineComputed (\n  target,\n  key,\n  userDef\n) {\n  var shouldCache = !isServerRendering();\n  if (typeof userDef === 'function') {\n    sharedPropertyDefinition.get = shouldCache\n      ? createComputedGetter(key)\n      : createGetterInvoker(userDef);\n    sharedPropertyDefinition.set = noop;\n  } else {\n    sharedPropertyDefinition.get = userDef.get\n      ? shouldCache && userDef.cache !== false\n        ? createComputedGetter(key)\n        : createGetterInvoker(userDef.get)\n      : noop;\n    sharedPropertyDefinition.set = userDef.set || noop;\n  }\n  if (process.env.NODE_ENV !== 'production' &&\n      sharedPropertyDefinition.set === noop) {\n    sharedPropertyDefinition.set = function () {\n      warn(\n        (\"Computed property \\\"\" + key + \"\\\" was assigned to but it has no setter.\"),\n        this\n      );\n    };\n  }\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction createComputedGetter (key) {\n  return function computedGetter () {\n    var watcher = this._computedWatchers && this._computedWatchers[key];\n    if (watcher) {\n      if (watcher.dirty) {\n        watcher.evaluate();\n      }\n      if (Dep.SharedObject.target) {// fixed by xxxxxx\n        watcher.depend();\n      }\n      return watcher.value\n    }\n  }\n}\n\nfunction createGetterInvoker(fn) {\n  return function computedGetter () {\n    return fn.call(this, this)\n  }\n}\n\nfunction initMethods (vm, methods) {\n  var props = vm.$options.props;\n  for (var key in methods) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof methods[key] !== 'function') {\n        warn(\n          \"Method \\\"\" + key + \"\\\" has type \\\"\" + (typeof methods[key]) + \"\\\" in the component definition. \" +\n          \"Did you reference the function correctly?\",\n          vm\n        );\n      }\n      if (props && hasOwn(props, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a prop.\"),\n          vm\n        );\n      }\n      if ((key in vm) && isReserved(key)) {\n        warn(\n          \"Method \\\"\" + key + \"\\\" conflicts with an existing Vue instance method. \" +\n          \"Avoid defining component methods that start with _ or $.\"\n        );\n      }\n    }\n    vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);\n  }\n}\n\nfunction initWatch (vm, watch) {\n  for (var key in watch) {\n    var handler = watch[key];\n    if (Array.isArray(handler)) {\n      for (var i = 0; i < handler.length; i++) {\n        createWatcher(vm, key, handler[i]);\n      }\n    } else {\n      createWatcher(vm, key, handler);\n    }\n  }\n}\n\nfunction createWatcher (\n  vm,\n  expOrFn,\n  handler,\n  options\n) {\n  if (isPlainObject(handler)) {\n    options = handler;\n    handler = handler.handler;\n  }\n  if (typeof handler === 'string') {\n    handler = vm[handler];\n  }\n  return vm.$watch(expOrFn, handler, options)\n}\n\nfunction stateMixin (Vue) {\n  // flow somehow has problems with directly declared definition object\n  // when using Object.defineProperty, so we have to procedurally build up\n  // the object here.\n  var dataDef = {};\n  dataDef.get = function () { return this._data };\n  var propsDef = {};\n  propsDef.get = function () { return this._props };\n  if (process.env.NODE_ENV !== 'production') {\n    dataDef.set = function () {\n      warn(\n        'Avoid replacing instance root $data. ' +\n        'Use nested data properties instead.',\n        this\n      );\n    };\n    propsDef.set = function () {\n      warn(\"$props is readonly.\", this);\n    };\n  }\n  Object.defineProperty(Vue.prototype, '$data', dataDef);\n  Object.defineProperty(Vue.prototype, '$props', propsDef);\n\n  Vue.prototype.$set = set;\n  Vue.prototype.$delete = del;\n\n  Vue.prototype.$watch = function (\n    expOrFn,\n    cb,\n    options\n  ) {\n    var vm = this;\n    if (isPlainObject(cb)) {\n      return createWatcher(vm, expOrFn, cb, options)\n    }\n    options = options || {};\n    options.user = true;\n    var watcher = new Watcher(vm, expOrFn, cb, options);\n    if (options.immediate) {\n      try {\n        cb.call(vm, watcher.value);\n      } catch (error) {\n        handleError(error, vm, (\"callback for immediate watcher \\\"\" + (watcher.expression) + \"\\\"\"));\n      }\n    }\n    return function unwatchFn () {\n      watcher.teardown();\n    }\n  };\n}\n\n/*  */\n\nvar uid$3 = 0;\n\nfunction initMixin (Vue) {\n  Vue.prototype._init = function (options) {\n    var vm = this;\n    // a uid\n    vm._uid = uid$3++;\n\n    var startTag, endTag;\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      startTag = \"vue-perf-start:\" + (vm._uid);\n      endTag = \"vue-perf-end:\" + (vm._uid);\n      mark(startTag);\n    }\n\n    // a flag to avoid this being observed\n    vm._isVue = true;\n    // merge options\n    if (options && options._isComponent) {\n      // optimize internal component instantiation\n      // since dynamic options merging is pretty slow, and none of the\n      // internal component options needs special treatment.\n      initInternalComponent(vm, options);\n    } else {\n      vm.$options = mergeOptions(\n        resolveConstructorOptions(vm.constructor),\n        options || {},\n        vm\n      );\n    }\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      initProxy(vm);\n    } else {\n      vm._renderProxy = vm;\n    }\n    // expose real self\n    vm._self = vm;\n    initLifecycle(vm);\n    initEvents(vm);\n    initRender(vm);\n    callHook(vm, 'beforeCreate');\n    !vm._$fallback && initInjections(vm); // resolve injections before data/props  \n    initState(vm);\n    !vm._$fallback && initProvide(vm); // resolve provide after data/props\n    !vm._$fallback && callHook(vm, 'created');      \n\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      vm._name = formatComponentName(vm, false);\n      mark(endTag);\n      measure((\"vue \" + (vm._name) + \" init\"), startTag, endTag);\n    }\n\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n}\n\nfunction initInternalComponent (vm, options) {\n  var opts = vm.$options = Object.create(vm.constructor.options);\n  // doing this because it's faster than dynamic enumeration.\n  var parentVnode = options._parentVnode;\n  opts.parent = options.parent;\n  opts._parentVnode = parentVnode;\n\n  var vnodeComponentOptions = parentVnode.componentOptions;\n  opts.propsData = vnodeComponentOptions.propsData;\n  opts._parentListeners = vnodeComponentOptions.listeners;\n  opts._renderChildren = vnodeComponentOptions.children;\n  opts._componentTag = vnodeComponentOptions.tag;\n\n  if (options.render) {\n    opts.render = options.render;\n    opts.staticRenderFns = options.staticRenderFns;\n  }\n}\n\nfunction resolveConstructorOptions (Ctor) {\n  var options = Ctor.options;\n  if (Ctor.super) {\n    var superOptions = resolveConstructorOptions(Ctor.super);\n    var cachedSuperOptions = Ctor.superOptions;\n    if (superOptions !== cachedSuperOptions) {\n      // super option changed,\n      // need to resolve new options.\n      Ctor.superOptions = superOptions;\n      // check if there are any late-modified/attached options (#4976)\n      var modifiedOptions = resolveModifiedOptions(Ctor);\n      // update base extend options\n      if (modifiedOptions) {\n        extend(Ctor.extendOptions, modifiedOptions);\n      }\n      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);\n      if (options.name) {\n        options.components[options.name] = Ctor;\n      }\n    }\n  }\n  return options\n}\n\nfunction resolveModifiedOptions (Ctor) {\n  var modified;\n  var latest = Ctor.options;\n  var sealed = Ctor.sealedOptions;\n  for (var key in latest) {\n    if (latest[key] !== sealed[key]) {\n      if (!modified) { modified = {}; }\n      modified[key] = latest[key];\n    }\n  }\n  return modified\n}\n\nfunction Vue (options) {\n  if (process.env.NODE_ENV !== 'production' &&\n    !(this instanceof Vue)\n  ) {\n    warn('Vue is a constructor and should be called with the `new` keyword');\n  }\n  this._init(options);\n}\n\ninitMixin(Vue);\nstateMixin(Vue);\neventsMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\n/*  */\n\nfunction initUse (Vue) {\n  Vue.use = function (plugin) {\n    var installedPlugins = (this._installedPlugins || (this._installedPlugins = []));\n    if (installedPlugins.indexOf(plugin) > -1) {\n      return this\n    }\n\n    // additional parameters\n    var args = toArray(arguments, 1);\n    args.unshift(this);\n    if (typeof plugin.install === 'function') {\n      plugin.install.apply(plugin, args);\n    } else if (typeof plugin === 'function') {\n      plugin.apply(null, args);\n    }\n    installedPlugins.push(plugin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initMixin$1 (Vue) {\n  Vue.mixin = function (mixin) {\n    this.options = mergeOptions(this.options, mixin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initExtend (Vue) {\n  /**\n   * Each instance constructor, including Vue, has a unique\n   * cid. This enables us to create wrapped \"child\n   * constructors\" for prototypal inheritance and cache them.\n   */\n  Vue.cid = 0;\n  var cid = 1;\n\n  /**\n   * Class inheritance\n   */\n  Vue.extend = function (extendOptions) {\n    extendOptions = extendOptions || {};\n    var Super = this;\n    var SuperId = Super.cid;\n    var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});\n    if (cachedCtors[SuperId]) {\n      return cachedCtors[SuperId]\n    }\n\n    var name = extendOptions.name || Super.options.name;\n    if (process.env.NODE_ENV !== 'production' && name) {\n      validateComponentName(name);\n    }\n\n    var Sub = function VueComponent (options) {\n      this._init(options);\n    };\n    Sub.prototype = Object.create(Super.prototype);\n    Sub.prototype.constructor = Sub;\n    Sub.cid = cid++;\n    Sub.options = mergeOptions(\n      Super.options,\n      extendOptions\n    );\n    Sub['super'] = Super;\n\n    // For props and computed properties, we define the proxy getters on\n    // the Vue instances at extension time, on the extended prototype. This\n    // avoids Object.defineProperty calls for each instance created.\n    if (Sub.options.props) {\n      initProps$1(Sub);\n    }\n    if (Sub.options.computed) {\n      initComputed$1(Sub);\n    }\n\n    // allow further extension/mixin/plugin usage\n    Sub.extend = Super.extend;\n    Sub.mixin = Super.mixin;\n    Sub.use = Super.use;\n\n    // create asset registers, so extended classes\n    // can have their private assets too.\n    ASSET_TYPES.forEach(function (type) {\n      Sub[type] = Super[type];\n    });\n    // enable recursive self-lookup\n    if (name) {\n      Sub.options.components[name] = Sub;\n    }\n\n    // keep a reference to the super options at extension time.\n    // later at instantiation we can check if Super's options have\n    // been updated.\n    Sub.superOptions = Super.options;\n    Sub.extendOptions = extendOptions;\n    Sub.sealedOptions = extend({}, Sub.options);\n\n    // cache constructor\n    cachedCtors[SuperId] = Sub;\n    return Sub\n  };\n}\n\nfunction initProps$1 (Comp) {\n  var props = Comp.options.props;\n  for (var key in props) {\n    proxy(Comp.prototype, \"_props\", key);\n  }\n}\n\nfunction initComputed$1 (Comp) {\n  var computed = Comp.options.computed;\n  for (var key in computed) {\n    defineComputed(Comp.prototype, key, computed[key]);\n  }\n}\n\n/*  */\n\nfunction initAssetRegisters (Vue) {\n  /**\n   * Create asset registration methods.\n   */\n  ASSET_TYPES.forEach(function (type) {\n    Vue[type] = function (\n      id,\n      definition\n    ) {\n      if (!definition) {\n        return this.options[type + 's'][id]\n      } else {\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production' && type === 'component') {\n          validateComponentName(id);\n        }\n        if (type === 'component' && isPlainObject(definition)) {\n          definition.name = definition.name || id;\n          definition = this.options._base.extend(definition);\n        }\n        if (type === 'directive' && typeof definition === 'function') {\n          definition = { bind: definition, update: definition };\n        }\n        this.options[type + 's'][id] = definition;\n        return definition\n      }\n    };\n  });\n}\n\n/*  */\n\n\n\nfunction getComponentName (opts) {\n  return opts && (opts.Ctor.options.name || opts.tag)\n}\n\nfunction matches (pattern, name) {\n  if (Array.isArray(pattern)) {\n    return pattern.indexOf(name) > -1\n  } else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name)\n  }\n  /* istanbul ignore next */\n  return false\n}\n\nfunction pruneCache (keepAliveInstance, filter) {\n  var cache = keepAliveInstance.cache;\n  var keys = keepAliveInstance.keys;\n  var _vnode = keepAliveInstance._vnode;\n  for (var key in cache) {\n    var cachedNode = cache[key];\n    if (cachedNode) {\n      var name = getComponentName(cachedNode.componentOptions);\n      if (name && !filter(name)) {\n        pruneCacheEntry(cache, key, keys, _vnode);\n      }\n    }\n  }\n}\n\nfunction pruneCacheEntry (\n  cache,\n  key,\n  keys,\n  current\n) {\n  var cached$$1 = cache[key];\n  if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {\n    cached$$1.componentInstance.$destroy();\n  }\n  cache[key] = null;\n  remove(keys, key);\n}\n\nvar patternTypes = [String, RegExp, Array];\n\nvar KeepAlive = {\n  name: 'keep-alive',\n  abstract: true,\n\n  props: {\n    include: patternTypes,\n    exclude: patternTypes,\n    max: [String, Number]\n  },\n\n  created: function created () {\n    this.cache = Object.create(null);\n    this.keys = [];\n  },\n\n  destroyed: function destroyed () {\n    for (var key in this.cache) {\n      pruneCacheEntry(this.cache, key, this.keys);\n    }\n  },\n\n  mounted: function mounted () {\n    var this$1 = this;\n\n    this.$watch('include', function (val) {\n      pruneCache(this$1, function (name) { return matches(val, name); });\n    });\n    this.$watch('exclude', function (val) {\n      pruneCache(this$1, function (name) { return !matches(val, name); });\n    });\n  },\n\n  render: function render () {\n    var slot = this.$slots.default;\n    var vnode = getFirstComponentChild(slot);\n    var componentOptions = vnode && vnode.componentOptions;\n    if (componentOptions) {\n      // check pattern\n      var name = getComponentName(componentOptions);\n      var ref = this;\n      var include = ref.include;\n      var exclude = ref.exclude;\n      if (\n        // not included\n        (include && (!name || !matches(include, name))) ||\n        // excluded\n        (exclude && name && matches(exclude, name))\n      ) {\n        return vnode\n      }\n\n      var ref$1 = this;\n      var cache = ref$1.cache;\n      var keys = ref$1.keys;\n      var key = vnode.key == null\n        // same constructor may get registered as different local components\n        // so cid alone is not enough (#3269)\n        ? componentOptions.Ctor.cid + (componentOptions.tag ? (\"::\" + (componentOptions.tag)) : '')\n        : vnode.key;\n      if (cache[key]) {\n        vnode.componentInstance = cache[key].componentInstance;\n        // make current key freshest\n        remove(keys, key);\n        keys.push(key);\n      } else {\n        cache[key] = vnode;\n        keys.push(key);\n        // prune oldest entry\n        if (this.max && keys.length > parseInt(this.max)) {\n          pruneCacheEntry(cache, keys[0], keys, this._vnode);\n        }\n      }\n\n      vnode.data.keepAlive = true;\n    }\n    return vnode || (slot && slot[0])\n  }\n};\n\nvar builtInComponents = {\n  KeepAlive: KeepAlive\n};\n\n/*  */\n\nfunction initGlobalAPI (Vue) {\n  // config\n  var configDef = {};\n  configDef.get = function () { return config; };\n  if (process.env.NODE_ENV !== 'production') {\n    configDef.set = function () {\n      warn(\n        'Do not replace the Vue.config object, set individual fields instead.'\n      );\n    };\n  }\n  Object.defineProperty(Vue, 'config', configDef);\n\n  // exposed util methods.\n  // NOTE: these are not considered part of the public API - avoid relying on\n  // them unless you are aware of the risk.\n  Vue.util = {\n    warn: warn,\n    extend: extend,\n    mergeOptions: mergeOptions,\n    defineReactive: defineReactive$$1\n  };\n\n  Vue.set = set;\n  Vue.delete = del;\n  Vue.nextTick = nextTick;\n\n  // 2.6 explicit observable API\n  Vue.observable = function (obj) {\n    observe(obj);\n    return obj\n  };\n\n  Vue.options = Object.create(null);\n  ASSET_TYPES.forEach(function (type) {\n    Vue.options[type + 's'] = Object.create(null);\n  });\n\n  // this is used to identify the \"base\" constructor to extend all plain-object\n  // components with in Weex's multi-instance scenarios.\n  Vue.options._base = Vue;\n\n  extend(Vue.options.components, builtInComponents);\n\n  initUse(Vue);\n  initMixin$1(Vue);\n  initExtend(Vue);\n  initAssetRegisters(Vue);\n}\n\ninitGlobalAPI(Vue);\n\nObject.defineProperty(Vue.prototype, '$isServer', {\n  get: isServerRendering\n});\n\nObject.defineProperty(Vue.prototype, '$ssrContext', {\n  get: function get () {\n    /* istanbul ignore next */\n    return this.$vnode && this.$vnode.ssrContext\n  }\n});\n\n// expose FunctionalRenderContext for ssr runtime helper installation\nObject.defineProperty(Vue, 'FunctionalRenderContext', {\n  value: FunctionalRenderContext\n});\n\nVue.version = '2.6.11';\n\n/**\n * https://raw.githubusercontent.com/Tencent/westore/master/packages/westore/utils/diff.js\n */\nvar ARRAYTYPE = '[object Array]';\nvar OBJECTTYPE = '[object Object]';\n// const FUNCTIONTYPE = '[object Function]'\n\nfunction diff(current, pre) {\n    var result = {};\n    syncKeys(current, pre);\n    _diff(current, pre, '', result);\n    return result\n}\n\nfunction syncKeys(current, pre) {\n    if (current === pre) { return }\n    var rootCurrentType = type(current);\n    var rootPreType = type(pre);\n    if (rootCurrentType == OBJECTTYPE && rootPreType == OBJECTTYPE) {\n        if(Object.keys(current).length >= Object.keys(pre).length){\n            for (var key in pre) {\n                var currentValue = current[key];\n                if (currentValue === undefined) {\n                    current[key] = null;\n                } else {\n                    syncKeys(currentValue, pre[key]);\n                }\n            }\n        }\n    } else if (rootCurrentType == ARRAYTYPE && rootPreType == ARRAYTYPE) {\n        if (current.length >= pre.length) {\n            pre.forEach(function (item, index) {\n                syncKeys(current[index], item);\n            });\n        }\n    }\n}\n\nfunction _diff(current, pre, path, result) {\n    if (current === pre) { return }\n    var rootCurrentType = type(current);\n    var rootPreType = type(pre);\n    if (rootCurrentType == OBJECTTYPE) {\n        if (rootPreType != OBJECTTYPE || Object.keys(current).length < Object.keys(pre).length) {\n            setResult(result, path, current);\n        } else {\n            var loop = function ( key ) {\n                var currentValue = current[key];\n                var preValue = pre[key];\n                var currentType = type(currentValue);\n                var preType = type(preValue);\n                if (currentType != ARRAYTYPE && currentType != OBJECTTYPE) {\n                    if (currentValue != pre[key]) {\n                        setResult(result, (path == '' ? '' : path + \".\") + key, currentValue);\n                    }\n                } else if (currentType == ARRAYTYPE) {\n                    if (preType != ARRAYTYPE) {\n                        setResult(result, (path == '' ? '' : path + \".\") + key, currentValue);\n                    } else {\n                        if (currentValue.length < preValue.length) {\n                            setResult(result, (path == '' ? '' : path + \".\") + key, currentValue);\n                        } else {\n                            currentValue.forEach(function (item, index) {\n                                _diff(item, preValue[index], (path == '' ? '' : path + \".\") + key + '[' + index + ']', result);\n                            });\n                        }\n                    }\n                } else if (currentType == OBJECTTYPE) {\n                    if (preType != OBJECTTYPE || Object.keys(currentValue).length < Object.keys(preValue).length) {\n                        setResult(result, (path == '' ? '' : path + \".\") + key, currentValue);\n                    } else {\n                        for (var subKey in currentValue) {\n                            _diff(currentValue[subKey], preValue[subKey], (path == '' ? '' : path + \".\") + key + '.' + subKey, result);\n                        }\n                    }\n                }\n            };\n\n            for (var key in current) loop( key );\n        }\n    } else if (rootCurrentType == ARRAYTYPE) {\n        if (rootPreType != ARRAYTYPE) {\n            setResult(result, path, current);\n        } else {\n            if (current.length < pre.length) {\n                setResult(result, path, current);\n            } else {\n                current.forEach(function (item, index) {\n                    _diff(item, pre[index], path + '[' + index + ']', result);\n                });\n            }\n        }\n    } else {\n        setResult(result, path, current);\n    }\n}\n\nfunction setResult(result, k, v) {\n    // if (type(v) != FUNCTIONTYPE) {\n        result[k] = v;\n    // }\n}\n\nfunction type(obj) {\n    return Object.prototype.toString.call(obj)\n}\n\n/*  */\r\n\r\nfunction flushCallbacks$1(vm) {\r\n    if (vm.__next_tick_callbacks && vm.__next_tick_callbacks.length) {\r\n        if (process.env.VUE_APP_DEBUG) {\r\n            var mpInstance = vm.$scope;\r\n            console.log('[' + (+new Date) + '][' + (mpInstance.is || mpInstance.route) + '][' + vm._uid +\r\n                ']:flushCallbacks[' + vm.__next_tick_callbacks.length + ']');\r\n        }\r\n        var copies = vm.__next_tick_callbacks.slice(0);\r\n        vm.__next_tick_callbacks.length = 0;\r\n        for (var i = 0; i < copies.length; i++) {\r\n            copies[i]();\r\n        }\r\n    }\r\n}\r\n\r\nfunction hasRenderWatcher(vm) {\r\n    return queue.find(function (watcher) { return vm._watcher === watcher; })\r\n}\r\n\r\nfunction nextTick$1(vm, cb) {\r\n    //1.nextTick 之前 已 setData 且 setData 还未回调完成\r\n    //2.nextTick 之前存在 render watcher\r\n    if (!vm.__next_tick_pending && !hasRenderWatcher(vm)) {\n        if(process.env.VUE_APP_DEBUG){\n            var mpInstance = vm.$scope;\n            console.log('[' + (+new Date) + '][' + (mpInstance.is || mpInstance.route) + '][' + vm._uid +\n                ']:nextVueTick');\n        }\r\n        return nextTick(cb, vm)\r\n    }else{\n        if(process.env.VUE_APP_DEBUG){\n            var mpInstance$1 = vm.$scope;\n            console.log('[' + (+new Date) + '][' + (mpInstance$1.is || mpInstance$1.route) + '][' + vm._uid +\n                ']:nextMPTick');\n        }\n    }\r\n    var _resolve;\r\n    if (!vm.__next_tick_callbacks) {\r\n        vm.__next_tick_callbacks = [];\r\n    }\r\n    vm.__next_tick_callbacks.push(function () {\r\n        if (cb) {\r\n            try {\r\n                cb.call(vm);\r\n            } catch (e) {\r\n                handleError(e, vm, 'nextTick');\r\n            }\r\n        } else if (_resolve) {\r\n            _resolve(vm);\r\n        }\r\n    });\r\n    // $flow-disable-line\r\n    if (!cb && typeof Promise !== 'undefined') {\r\n        return new Promise(function (resolve) {\r\n            _resolve = resolve;\r\n        })\r\n    }\r\n}\n\n/*  */\r\n\r\nfunction cloneWithData(vm) {\r\n  // 确保当前 vm 所有数据被同步\r\n  var ret = Object.create(null);\r\n  var dataKeys = [].concat(\r\n    Object.keys(vm._data || {}),\r\n    Object.keys(vm._computedWatchers || {}));\r\n\r\n  dataKeys.reduce(function(ret, key) {\r\n    ret[key] = vm[key];\r\n    return ret\r\n  }, ret);\r\n\r\n  // vue-composition-api\r\n  var compositionApiState = vm.__composition_api_state__ || vm.__secret_vfa_state__;\r\n  var rawBindings = compositionApiState && compositionApiState.rawBindings;\r\n  if (rawBindings) {\r\n    Object.keys(rawBindings).forEach(function (key) {\r\n      ret[key] = vm[key];\r\n    });\r\n  }\r\n\r\n  //TODO 需要把无用数据处理掉，比如 list=>l0 则 list 需要移除，否则多传输一份数据\r\n  Object.assign(ret, vm.$mp.data || {});\r\n  if (\r\n    Array.isArray(vm.$options.behaviors) &&\r\n    vm.$options.behaviors.indexOf('uni://form-field') !== -1\r\n  ) { //form-field\r\n    ret['name'] = vm.name;\r\n    ret['value'] = vm.value;\r\n  }\r\n\r\n  return JSON.parse(JSON.stringify(ret))\r\n}\r\n\r\nvar patch = function(oldVnode, vnode) {\n  var this$1 = this;\n\r\n  if (vnode === null) { //destroy\r\n    return\r\n  }\r\n  if (this.mpType === 'page' || this.mpType === 'component') {\r\n    var mpInstance = this.$scope;\r\n    var data = Object.create(null);\r\n    try {\r\n      data = cloneWithData(this);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n    data.__webviewId__ = mpInstance.data.__webviewId__;\r\n    var mpData = Object.create(null);\r\n    Object.keys(data).forEach(function (key) { //仅同步 data 中有的数据\r\n      mpData[key] = mpInstance.data[key];\r\n    });\r\n    var diffData = this.$shouldDiffData === false ? data : diff(data, mpData);\r\n    if (Object.keys(diffData).length) {\r\n      if (process.env.VUE_APP_DEBUG) {\r\n        console.log('[' + (+new Date) + '][' + (mpInstance.is || mpInstance.route) + '][' + this._uid +\r\n          ']差量更新',\r\n          JSON.stringify(diffData));\r\n      }\r\n      this.__next_tick_pending = true;\r\n      mpInstance.setData(diffData, function () {\r\n        this$1.__next_tick_pending = false;\r\n        flushCallbacks$1(this$1);\r\n      });\r\n    } else {\r\n      flushCallbacks$1(this);\r\n    }\r\n  }\r\n};\n\n/*  */\n\nfunction createEmptyRender() {\n\n}\n\nfunction mountComponent$1(\n  vm,\n  el,\n  hydrating\n) {\n  if (!vm.mpType) {//main.js 中的 new Vue\n    return vm\n  }\n  if (vm.mpType === 'app') {\n    vm.$options.render = createEmptyRender;\n  }\n  if (!vm.$options.render) {\n    vm.$options.render = createEmptyRender;\n    if (process.env.NODE_ENV !== 'production') {\n      /* istanbul ignore if */\n      if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||\n        vm.$options.el || el) {\n        warn(\n          'You are using the runtime-only build of Vue where the template ' +\n          'compiler is not available. Either pre-compile the templates into ' +\n          'render functions, or use the compiler-included build.',\n          vm\n        );\n      } else {\n        warn(\n          'Failed to mount component: template or render function not defined.',\n          vm\n        );\n      }\n    }\n  }\n  \n  !vm._$fallback && callHook(vm, 'beforeMount');\n\n  var updateComponent = function () {\n    vm._update(vm._render(), hydrating);\n  };\n\n  // we set this to vm._watcher inside the watcher's constructor\n  // since the watcher's initial patch may call $forceUpdate (e.g. inside child\n  // component's mounted hook), which relies on vm._watcher being already defined\n  new Watcher(vm, updateComponent, noop, {\n    before: function before() {\n      if (vm._isMounted && !vm._isDestroyed) {\n        callHook(vm, 'beforeUpdate');\n      }\n    }\n  }, true /* isRenderWatcher */);\n  hydrating = false;\n  return vm\n}\n\n/*  */\n\nfunction renderClass (\n  staticClass,\n  dynamicClass\n) {\n  if (isDef(staticClass) || isDef(dynamicClass)) {\n    return concat(staticClass, stringifyClass(dynamicClass))\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction concat (a, b) {\n  return a ? b ? (a + ' ' + b) : a : (b || '')\n}\n\nfunction stringifyClass (value) {\n  if (Array.isArray(value)) {\n    return stringifyArray(value)\n  }\n  if (isObject(value)) {\n    return stringifyObject(value)\n  }\n  if (typeof value === 'string') {\n    return value\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction stringifyArray (value) {\n  var res = '';\n  var stringified;\n  for (var i = 0, l = value.length; i < l; i++) {\n    if (isDef(stringified = stringifyClass(value[i])) && stringified !== '') {\n      if (res) { res += ' '; }\n      res += stringified;\n    }\n  }\n  return res\n}\n\nfunction stringifyObject (value) {\n  var res = '';\n  for (var key in value) {\n    if (value[key]) {\n      if (res) { res += ' '; }\n      res += key;\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar parseStyleText = cached(function (cssText) {\n  var res = {};\n  var listDelimiter = /;(?![^(]*\\))/g;\n  var propertyDelimiter = /:(.+)/;\n  cssText.split(listDelimiter).forEach(function (item) {\n    if (item) {\n      var tmp = item.split(propertyDelimiter);\n      tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return res\n});\n\n// normalize possible array / string values into Object\nfunction normalizeStyleBinding (bindingStyle) {\n  if (Array.isArray(bindingStyle)) {\n    return toObject(bindingStyle)\n  }\n  if (typeof bindingStyle === 'string') {\n    return parseStyleText(bindingStyle)\n  }\n  return bindingStyle\n}\n\n/*  */\r\n\r\nvar MP_METHODS = ['createSelectorQuery', 'createIntersectionObserver', 'selectAllComponents', 'selectComponent'];\r\n\r\nfunction getTarget(obj, path) {\r\n  var parts = path.split('.');\r\n  var key = parts[0];\r\n  if (key.indexOf('__$n') === 0) { //number index\r\n    key = parseInt(key.replace('__$n', ''));\r\n  }\r\n  if (parts.length === 1) {\r\n    return obj[key]\r\n  }\r\n  return getTarget(obj[key], parts.slice(1).join('.'))\r\n}\r\n\r\nfunction internalMixin(Vue) {\r\n\r\n  Vue.config.errorHandler = function(err, vm, info) {\r\n    Vue.util.warn((\"Error in \" + info + \": \\\"\" + (err.toString()) + \"\\\"\"), vm);\r\n    console.error(err);\r\n    /* eslint-disable no-undef */\r\n    var app = getApp();\r\n    if (app && app.onError) {\r\n      app.onError(err);\r\n    }\r\n  };\r\n\r\n  var oldEmit = Vue.prototype.$emit;\r\n\r\n  Vue.prototype.$emit = function(event) {\r\n    if (this.$scope && event) {\r\n      this.$scope['triggerEvent'](event, {\r\n        __args__: toArray(arguments, 1)\r\n      });\r\n    }\r\n    return oldEmit.apply(this, arguments)\r\n  };\r\n\r\n  Vue.prototype.$nextTick = function(fn) {\r\n    return nextTick$1(this, fn)\r\n  };\r\n\r\n  MP_METHODS.forEach(function (method) {\r\n    Vue.prototype[method] = function(args) {\r\n      if (this.$scope && this.$scope[method]) {\r\n        return this.$scope[method](args)\r\n      }\r\n      // mp-alipay\r\n      if (typeof my === 'undefined') {\r\n        return\r\n      }\r\n      if (method === 'createSelectorQuery') {\r\n        /* eslint-disable no-undef */\r\n        return my.createSelectorQuery(args)\r\n      } else if (method === 'createIntersectionObserver') {\r\n        /* eslint-disable no-undef */\r\n        return my.createIntersectionObserver(args)\r\n      }\r\n      // TODO mp-alipay 暂不支持 selectAllComponents,selectComponent\r\n    };\r\n  });\r\n\r\n  Vue.prototype.__init_provide = initProvide;\r\n\r\n  Vue.prototype.__init_injections = initInjections;\r\n\r\n  Vue.prototype.__call_hook = function(hook, args) {\r\n    var vm = this;\r\n    // #7573 disable dep collection when invoking lifecycle hooks\r\n    pushTarget();\r\n    var handlers = vm.$options[hook];\r\n    var info = hook + \" hook\";\r\n    var ret;\r\n    if (handlers) {\r\n      for (var i = 0, j = handlers.length; i < j; i++) {\r\n        ret = invokeWithErrorHandling(handlers[i], vm, args ? [args] : null, vm, info);\r\n      }\r\n    }\r\n    if (vm._hasHookEvent) {\r\n      vm.$emit('hook:' + hook, args);\r\n    }\r\n    popTarget();\r\n    return ret\r\n  };\r\n\r\n  Vue.prototype.__set_model = function(target, key, value, modifiers) {\r\n    if (Array.isArray(modifiers)) {\r\n      if (modifiers.indexOf('trim') !== -1) {\r\n        value = value.trim();\r\n      }\r\n      if (modifiers.indexOf('number') !== -1) {\r\n        value = this._n(value);\r\n      }\r\n    }\r\n    if (!target) {\r\n      target = this;\r\n    }\r\n    target[key] = value;\r\n  };\r\n\r\n  Vue.prototype.__set_sync = function(target, key, value) {\r\n    if (!target) {\r\n      target = this;\r\n    }\r\n    target[key] = value;\r\n  };\r\n\r\n  Vue.prototype.__get_orig = function(item) {\r\n    if (isPlainObject(item)) {\r\n      return item['$orig'] || item\r\n    }\r\n    return item\r\n  };\r\n\r\n  Vue.prototype.__get_value = function(dataPath, target) {\r\n    return getTarget(target || this, dataPath)\r\n  };\r\n\r\n\r\n  Vue.prototype.__get_class = function(dynamicClass, staticClass) {\r\n    return renderClass(staticClass, dynamicClass)\r\n  };\r\n\r\n  Vue.prototype.__get_style = function(dynamicStyle, staticStyle) {\r\n    if (!dynamicStyle && !staticStyle) {\r\n      return ''\r\n    }\r\n    var dynamicStyleObj = normalizeStyleBinding(dynamicStyle);\r\n    var styleObj = staticStyle ? extend(staticStyle, dynamicStyleObj) : dynamicStyleObj;\r\n    return Object.keys(styleObj).map(function (name) { return ((hyphenate(name)) + \":\" + (styleObj[name])); }).join(';')\r\n  };\r\n\r\n  Vue.prototype.__map = function(val, iteratee) {\r\n    //TODO 暂不考虑 string\r\n    var ret, i, l, keys, key;\r\n    if (Array.isArray(val)) {\r\n      ret = new Array(val.length);\r\n      for (i = 0, l = val.length; i < l; i++) {\r\n        ret[i] = iteratee(val[i], i);\r\n      }\r\n      return ret\r\n    } else if (isObject(val)) {\r\n      keys = Object.keys(val);\r\n      ret = Object.create(null);\r\n      for (i = 0, l = keys.length; i < l; i++) {\r\n        key = keys[i];\r\n        ret[key] = iteratee(val[key], key, i);\r\n      }\r\n      return ret\r\n    } else if (typeof val === 'number') {\r\n      ret = new Array(val);\r\n      for (i = 0, l = val; i < l; i++) {\r\n        // 第一个参数暂时仍和小程序一致\r\n        ret[i] = iteratee(i, i);\r\n      }\r\n      return ret\r\n    }\r\n    return []\r\n  };\r\n\r\n}\n\n/*  */\r\n\r\nvar LIFECYCLE_HOOKS$1 = [\r\n    //App\r\n    'onLaunch',\r\n    'onShow',\r\n    'onHide',\r\n    'onUniNViewMessage',\n    'onPageNotFound',\n    'onThemeChange',\n    'onError',\n    'onUnhandledRejection',\r\n    //Page\r\n    'onLoad',\r\n    // 'onShow',\r\n    'onReady',\r\n    // 'onHide',\r\n    'onUnload',\r\n    'onPullDownRefresh',\r\n    'onReachBottom',\r\n    'onTabItemTap',\n    'onAddToFavorites',\n    'onShareTimeline',\r\n    'onShareAppMessage',\n    'onResize',\r\n    'onPageScroll',\r\n    'onNavigationBarButtonTap',\r\n    'onBackPress',\r\n    'onNavigationBarSearchInputChanged',\r\n    'onNavigationBarSearchInputConfirmed',\r\n    'onNavigationBarSearchInputClicked',\r\n    //Component\r\n    // 'onReady', // 兼容旧版本，应该移除该事件\r\n    'onPageShow',\r\n    'onPageHide',\r\n    'onPageResize'\r\n];\r\nfunction lifecycleMixin$1(Vue) {\r\n\r\n    //fixed vue-class-component\r\n    var oldExtend = Vue.extend;\r\n    Vue.extend = function(extendOptions) {\r\n        extendOptions = extendOptions || {};\r\n\r\n        var methods = extendOptions.methods;\r\n        if (methods) {\r\n            Object.keys(methods).forEach(function (methodName) {\r\n                if (LIFECYCLE_HOOKS$1.indexOf(methodName)!==-1) {\r\n                    extendOptions[methodName] = methods[methodName];\r\n                    delete methods[methodName];\r\n                }\r\n            });\r\n        }\r\n\r\n        return oldExtend.call(this, extendOptions)\r\n    };\r\n\r\n    var strategies = Vue.config.optionMergeStrategies;\r\n    var mergeHook = strategies.created;\r\n    LIFECYCLE_HOOKS$1.forEach(function (hook) {\r\n        strategies[hook] = mergeHook;\r\n    });\r\n\r\n    Vue.prototype.__lifecycle_hooks__ = LIFECYCLE_HOOKS$1;\r\n}\n\n/*  */\r\n\n// install platform patch function\r\nVue.prototype.__patch__ = patch;\r\n\r\n// public mount method\r\nVue.prototype.$mount = function(\r\n    el ,\r\n    hydrating \r\n) {\r\n    return mountComponent$1(this, el, hydrating)\r\n};\r\n\r\nlifecycleMixin$1(Vue);\r\ninternalMixin(Vue);\n\n/*  */\n\nexport default Vue;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode, /* vue-cli only */\n  components, // fixed by xxxxxx auto components\n  renderjs // fixed by xxxxxx renderjs\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // fixed by xxxxxx auto components\n  if (components) {\n    if (!options.components) {\n      options.components = {}\n    }\n    var hasOwn = Object.prototype.hasOwnProperty\n    for (var name in components) {\n      if (hasOwn.call(components, name) && !hasOwn.call(options.components, name)) {\n        options.components[name] = components[name]\n      }\n    }\n  }\n  // fixed by xxxxxx renderjs\n  if (renderjs) {\n    (renderjs.beforeCreate || (renderjs.beforeCreate = [])).unshift(function() {\n      this[renderjs.__module] = this\n    });\n    (options.mixins || (options.mixins = [])).push(renderjs)\n  }\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","// router/index.js\n\nimport home from './modules/home'\nimport Vue from 'vue'\n//这里仅示范npm安装方式的引入，其它方式引入请看最上面【安装】部分\nimport Router from 'uni-simple-router'\n\nVue.use(Router)\n//初始化\nconst router = new Router({\n    routes: [...home]//路由表\n});\n\n//全局路由前置守卫\nrouter.beforeEach((to, from, next) => {\n  next()\n})\n// 全局路由后置守卫\nrouter.afterEach((to, from) => {\n})\nexport default router;","// router/modules/home.js\r\nconst home = [\r\n\t{\r\n        //注意：path必须跟pages.json中的地址对应，最前面别忘了加'/'哦\r\n      path: '/pages/home/Home',\r\n      aliasPath:'/',  //对于h5端你必须在首页加上aliasPath并设置为/\r\n      name: 'home',\r\n        meta: {\r\n\t        title: '首页',\r\n\t    },\r\n    },\r\n    {\r\n\t    path: '/pages/table/Table',\r\n        name: 'table',\r\n        meta: {\r\n\t        title: '搜索结果',\r\n\t    },\r\n\t},\r\n\t{\r\n\t    path: '/pages/detail/Detail',\r\n\t    name: 'detail',\r\n\t    meta: {\r\n\t        title: '详情',\r\n\t    },\r\n\t},\r\n]\r\nexport default home","import { isH5, formatConfig, appPlatform } from './helpers/util';\r\nimport navjump from './helpers/navJump';\r\nimport { H5GetPageRoute } from './vueRouter/util';\r\nimport { APPGetPageRoute } from './appRouter/util';\r\nimport { AppletsPageRoute } from './appletsRouter/util';\r\nimport { lifeCycle, Global } from './helpers/config';\r\nimport { warn, err } from './helpers/warn';\r\nimport { registerRouterHooks, registerHook } from './lifeCycle/hooks';\r\nimport { vueMount } from './vueRouter/base';\r\nimport appletsMount from './patch/applets-patch';\r\nimport appMount from './patch/app-patch';\r\nimport initMixins from './helpers/mixins';\r\nimport ParseQuery from './helpers/urlQuery';\r\n\r\n\r\n\r\n\r\nlet H5PATCH = null;\r\n\r\n\r\n\r\n\r\nconst parseQuery = new ParseQuery();\r\n\r\nGlobal.H5RouterReady = new Promise((resolve) => Global.RouterReadyPromise = resolve);\r\n\r\nclass Router {\r\n    constructor(arg) {\r\n        Router.$root = this;\r\n        Global.Router = this; // 全局缓存一个对象，不必使用时都传递\r\n        Global.$parseQuery = parseQuery;\r\n        this.CONFIG = formatConfig(arg);\r\n        this.lifeCycle = lifeCycle;\r\n        registerRouterHooks.call(this);\t// 注册全局Router生命钩子\r\n        if (appPlatform() === 'H5') {\r\n            H5PATCH.setLoadingStatus(this.CONFIG.h5);\r\n        }\r\n    }\r\n\r\n    get $Route() {\r\n        return this.getPageRoute();\r\n    }\r\n\r\n    /**\r\n     * 获取 url 参数帮助类实例\r\n     */\r\n    get $parseQuery() {\r\n        return Global.$parseQuery;\r\n    }\r\n\r\n    /**\r\n     * 获取当前是否处于正在跳转的状态\r\n     * H5 状态下始终为false\r\n     */\r\n    get $lockStatus() {\r\n        return Global.LockStatus;\r\n    }\r\n\r\n    /**\r\n     * 动态设置拦截状态\r\n     */\r\n    set $lockStatus(status) {\r\n        warn('你确定要这么做？你知道后果？', true);\r\n        Global.LockStatus = status;\r\n    }\r\n\r\n    /** 动态的导航到一个新 URL 保留浏览历史\r\n\t * navigateTo\r\n\t * @param {Object} rule\r\n\t */\r\n    push(rule) {\r\n        navjump.call(this, rule, 'push');\r\n    }\r\n\r\n    /** 动态的导航到一个新 URL 关闭当前页面，跳转到的某个页面。\r\n\t * redirectTo\r\n\t * @param {Object} rule\r\n\t */\r\n    replace(rule) {\r\n        navjump.call(this, rule, 'replace');\r\n    }\r\n\r\n    /** 动态的导航到一个新 URL 关闭所有页面，打开到应用内的某个页面\r\n\t * \treLaunch\r\n\t * @param {Object} rule\r\n\t */\r\n    replaceAll(rule) {\r\n        navjump.call(this, rule, 'replaceAll');\r\n    }\r\n\r\n    /** 动态的导航到一个新 url 关闭所有页面，打开到应用内的某个tab\r\n\t * @param {Object} rule\r\n\t */\r\n    pushTab(rule) {\r\n        navjump.call(this, rule, 'pushTab');\r\n    }\r\n\r\n    /**\r\n\t * 返回到指定层级页面上\r\n     * @param {Number} backLayer 需要返回的页面层级 默认 1\r\n     * @param {Object} delta 暂时无用\r\n     * @param {enforce} 是否强制越过跳转加锁检查 默认 false\r\n\t */\r\n    back(backLayer = 1, delta, enforce = false) {\r\n        if (backLayer.constructor != Number) {\r\n            return err(\r\n                `返回层级参数必须是一个Number类型且必须大于1：${backLayer}`,\r\n            );\r\n        }\r\n        navjump.call(this, {\r\n            backLayer, delta, H5PATCH,\r\n        }, 'back', true, enforce);\r\n    }\r\n\r\n    /**\r\n\t * 获取当前页面下的 Route 信息\r\n\t *\r\n\t * @param {Object} Vim 当前开发者可以传递一个 vue 组件对象 来获取当前下的 Route 信息\r\n\t */\r\n    getPageRoute(Vim) {\r\n        const pages = getCurrentPages();\r\n        switch (appPlatform(true)) {\r\n        case 'H5':\r\n            return H5GetPageRoute.call(this, pages, Vim);\r\n        case 'APP':\r\n            return APPGetPageRoute(pages, Vim);\r\n        case 'APPLETS':\r\n            return AppletsPageRoute(pages, Vim);\r\n        default:\r\n            break;\r\n        }\r\n    }\r\n\r\n    beforeEach(fn) {\r\n        return registerHook(this.lifeCycle.beforeHooks, fn);\r\n    }\r\n\r\n    afterEach(fn) {\r\n        return registerHook(this.lifeCycle.afterHooks, fn);\r\n    }\r\n}\r\n\r\nRouter.install = function (Vue) {\r\n    initMixins(Vue, Router);\r\n    Object.defineProperty(Vue.prototype, '$Router', {\r\n        get() {\r\n            return Router.$root;\r\n        },\r\n    });\r\n    Object.defineProperty(Vue.prototype, '$Route', {\r\n        get() {\r\n            return Router.$root.getPageRoute(this);\r\n        },\r\n    });\r\n};\r\nexport default Router;\r\n/**\r\n *\r\n * @param {VueComponent } Vim vue实例对象\r\n * @param {dom} el\tdom节点选择器\r\n */\r\nexport const RouterMount = function (Vim, el) {\r\n    switch (appPlatform(true)) {\r\n    case 'APP':\r\n        appMount(Vim, el);\r\n        break;\r\n    case 'APPLETS':\r\n        appletsMount(Vim, el);\r\n        break;\r\n    case 'H5':\r\n        vueMount.push({ Vim, el });\r\n        break;\r\n    default:\r\n        warn('糟糕！！！还有其他的执行环境？？？没听说过啊。一脸懵逼？？？加QQ群问问：769241495');\r\n        break;\r\n    }\r\n};\r\n","import { route, baseConfig, Global } from './config';\r\nimport { builtIn } from '../vueRouter/base';\r\nimport { err, log, warn } from './warn';\r\n\r\n/**\r\n * 当前是不是H5运行环境\r\n */\r\nexport const isH5 = function () {\r\n    return typeof window !== 'undefined' && typeof document !== 'undefined';\r\n};\r\n/**\r\n * 判断当前变量是否为Object\r\n * @param {Object} strObj\r\n */\r\nexport const isObject = function (strObj) {\r\n    return strObj.toString() === '[object Object]' && strObj.constructor === Object;\r\n};\r\n/**\r\n * 获取当前运行平台\r\n * @param {Boolean} applets 默认false  true时所有小程序平台统一返回 APPLETS\r\n */\r\nexport const appPlatform = function (applets = false) {\r\n    let platform = '';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    platform = 'WEIXIN';\r\n\r\n\r\n\r\n\r\n\r\n\r\n    if (applets) {\r\n\r\n        platform = 'APPLETS';\r\n\r\n    }\r\n\r\n    return platform;\r\n};\r\n/**\r\n * 定义一个空方法 如果最后一个参数为true则打印所有参数\r\n * @param  {...any} args\r\n */\r\nexport const noop = function (...args) {\r\n    if (args[args.length - 1] === true) {\r\n        log(args);\r\n    }\r\n};\r\n/**\r\n * 格式化基础配置信息 通过new Router传递过来的参数\r\n */\r\nexport const formatConfig = function (userConfig) {\r\n    if (!userConfig.routes || userConfig.routes.constructor !== Array) {\r\n        return err(`路由参数 'routes' 必须传递 \\r\\n\\r\\n${JSON.stringify(userConfig)}`);\r\n    }\r\n    if (userConfig.h5 != null && userConfig.h5.constructor !== Object) {\r\n        return err(`h5参数传递错误，应该是一个 'Object' 类型 示例：\\r\\n\\r\\n${JSON.stringify(baseConfig.h5)}`);\r\n    }\r\n    const config = Object.create(null);\r\n    const baseConfigKeys = Object.keys(baseConfig);\r\n    for (let i = 0; i < baseConfigKeys.length; i += 1) {\r\n        const key = baseConfigKeys[i];\r\n        if (userConfig[key] != null) {\r\n            if (userConfig[key].constructor === Object) {\r\n                config[key] = {\r\n                    ...baseConfig[key],\r\n                    ...userConfig[key],\r\n                };\r\n            } else if (key == 'routes') { // 需要加入已知的白名单\r\n                config[key] = [...baseConfig[key], ...userConfig[key], ...builtIn];\r\n            } else {\r\n                config[key] = userConfig[key];\r\n            }\r\n        } else {\r\n            config[key] = baseConfig[key];\r\n        }\r\n    }\r\n    return config;\r\n};\r\nexport const filter = function (str) {\r\n    str += '';\r\n    str = str.replace(/%/g, '%25');\r\n    str = str.replace(/\\+/g, '%2B');\r\n    str = str.replace(/ /g, '%20');\r\n    str = str.replace(/\\//g, '%2F');\r\n    str = str.replace(/\\?/g, '%3F');\r\n    str = str.replace(/&/g, '%26');\r\n    str = str.replace(/=/g, '%3D');\r\n    str = str.replace(/#/g, '%23');\r\n    return str;\r\n};\r\n/**\r\n * 使用encodeURI:true的情况\t需要进行编码后再传递，解码等等 可以传递深度对象并会在路径后面加入一个query=\r\n *\r\n * @param {String} routerName //路径名称\r\n * @param {JSON} query \t//需要格式化参数\r\n * @param {Boolean} Encode \t//是获取还是编码后传递\r\n */\r\nexport const parseQueryN = function (routerName, query, Encode) {\r\n    if (Encode) {\r\n        return {\r\n            url: routerName,\r\n            query: JSON.parse(decodeURIComponent(query.replace(/^query=/, ''))),\r\n        };\r\n    }\r\n    return {\r\n        url: routerName,\r\n        query: `query=${encodeURIComponent(JSON.stringify(query))}`,\r\n    };\r\n};\r\n/**\r\n * 使用encodeURI:false的情况 直接格式化为普通的queryURl参数形式传递即可 扁平深度对象\r\n *\r\n * @param {String} routerName //路径名称\r\n * @param {JSON} query \t//需要格式化参数\r\n * @param {Boolean} Encode \t//是获取还是编码后传递\r\n */\r\nexport const parseQueryD = function (routerName, query, Encode) {\r\n    if (Encode) {\r\n        const obj = {};\r\n        const reg = /([^=&\\s]+)[=\\s]*([^&\\s]*)/g;\r\n        while (reg.exec(query)) {\r\n            obj[RegExp.$1] = RegExp.$2;\r\n        }\r\n        return {\r\n            url: routerName,\r\n            query: obj,\r\n        };\r\n    }\r\n    const encodeArr = [];\r\n    const queryKeys = Object.keys(query);\r\n    for (let i = 0; i < queryKeys.length; i += 1) {\r\n        const attr = queryKeys[i];\r\n        let encodeStr = '';\r\n        if (query[attr].constructor == Object) {\r\n            encodeStr = parseQueryD(routerName, query[attr], Encode).query;\r\n            encodeArr.push(encodeStr);\r\n        } else {\r\n            encodeStr = filter(query[attr]);\r\n            encodeArr.push(`${attr}=${encodeStr}`);\r\n        }\r\n    }\r\n    return {\r\n        url: routerName,\r\n        query: encodeArr.join('&'),\r\n    };\r\n};\r\n/**\r\n * @param {String} routerName //路径名称\r\n * @param {JSON} query \t//需要格式化参数\r\n * @param {Boolean} Encode \t//是获取还是编码后传递\r\n */\r\nexport const parseQuery = function (routerName, query, Encode = false) {\r\n    if (Global.Router.CONFIG.encodeURI) {\r\n        return parseQueryN(routerName, query, Encode);\r\n    }\r\n    return parseQueryD(routerName, query, Encode);\r\n};\r\n\r\nexport const exactRule = function (cloneRule, routes, ruleKey, getRule = false) {\r\n    const params = {};\r\n    let i = 0;\r\n    // eslint-disable-next-line\r\n    while (true) {\r\n        const item = routes[i];\r\n        if (item == null) {\r\n            if (!getRule) {\r\n                err(`路由表中未查找到 '${ruleKey}' 为 '${cloneRule[ruleKey]}'`);\r\n            }\r\n            return {\r\n                path: '',\r\n                name: '',\r\n            };\r\n        }\r\n        if (item[ruleKey] != null && item[ruleKey] === cloneRule[ruleKey]) {\r\n            if (!getRule) {\r\n                params.url = item.path;\r\n                params.rule = item;\r\n                if (isH5()) { // 如果是h5 则使用优先使用自定义路径名称\r\n                    params.url = item.aliasPath || item.path;\r\n                }\r\n                return params;\r\n            }\r\n            return item;\r\n        }\r\n        i += 1;\r\n    }\r\n};\r\n\r\nexport const resolveRule = function (router, rule, query = {}, ruleKey = 'path') {\r\n    const ruleInfo = route(\r\n        exactRule({\r\n            ...rule,\r\n        },\r\n        router.CONFIG.routes,\r\n        ruleKey,\r\n        router),\r\n    );\r\n    return {\r\n        ...ruleInfo,\r\n        query,\r\n    };\r\n};\r\n/**\r\n * 把一些不必要的参数进行格式化掉，完成url的美观\r\n * @param {String} URLQuery URL中传递的参数\r\n */\r\nexport const formatURLQuery = function (URLQuery) {\r\n    switch (URLQuery.trim()) {\r\n    case 'query=%7B%7D':\r\n    case '%7B%7D':\r\n    case '?query=%7B%7D':\r\n    case '?':\r\n    case '?[object Object]':\r\n    case '?query={}':\r\n        URLQuery = '';\r\n        break;\r\n    default:\r\n        warn('url已经很完美啦，不需要格式化！');\r\n        break;\r\n    }\r\n    return URLQuery;\r\n};\r\n/**\r\n * 拷贝对象\r\n * @param {Object} object\r\n */\r\nexport const copyObject = function (object) {\r\n    return JSON.parse(JSON.stringify(object));\r\n};\r\n","\r\nexport const baseConfig = {\r\n    h5: {\r\n        rewriteFun: true,\t// 是否对uni-app reLaunch/navigateBack 两个方法重写 处理uni刷新直接返回到首页和触发路由守卫\r\n        paramsToQuery: false, // h5端上通过params传参时规则是vue-router 刷新会丢失 开启此开关将变成?连接的方式\r\n        loading: true, // 是否显示加载动画\r\n        hinderTab: false, // 是否拦截uni-app自带底部菜单   TODO\r\n        vueRouterDev: false, // 完全使用采用vue-router的开发模式\r\n        useUniConfig: true, // 是否采用在pages.json下的所有页面配置信息,false时需开发者自行设置页面\r\n        keepUniIntercept: false, // 保留uni-app使用vue-router的拦截器\r\n        vueNext: false, // 在next管道函数中是否获取vueRouter next的原本参数\r\n        replaceStyle: false, // 是否对resetStyle函数中返回的style节点进行全部替换，否则为追加\r\n        resetStyle: () => JSON.parse('{}'), // 自定义加载样式函数 可返回一个包涵 html、style、script 的对象来重置Router内置的加载动画\r\n        mode: 'hash',\r\n        base: '/',\r\n        linkActiveClass: 'router-link-active',\r\n        linkExactActiveClass: 'router-link-exact-active',\r\n        scrollBehavior: (to, from, savedPostion) => savedPostion,\r\n        fallback: true,\r\n    },\r\n    APP: {\r\n        holdTabbar: true,\t// 是否开启底部菜单拦截\r\n        loddingPageStyle: () => JSON.parse('{\"backgroundColor\":\"#FFF\"}'),\t// 当前等待页面的样式 必须返回一个json\r\n        loddingPageHook: (view) => { plus.navigator.closeSplashscreen(); view.show(); },\t\t// 刚刚打开页面处于等待状态,会触发此事件\r\n        animation: { animationType: 'pop-in', animationDuration: 300 },\t// 页面切换动画\r\n        switchPageOutTime: 1000,\t// 最高能忍耐的页面切换时间 达到此时间 不管切换有没有完成都会显示页面出来 这对启动页帮助很大\r\n    },\r\n    debugger: false, // 是否处于开发阶段 设置为true则打印日志\r\n    encodeURI: true, // 是否对url传递的参数进行编码\r\n    routerBeforeEach: () => {}, // router 前置路由函数 每次触发跳转前先会触发此函数\r\n    routerAfterEach: () => {}, // router 后置路由函数 每次触发跳转后会触发此函数\r\n    routes: [],\r\n};\r\n\r\nexport const methods = {\r\n    push: 'navigateTo',\r\n    replace: 'redirectTo',\r\n    replaceAll: 'reLaunch',\r\n    pushTab: 'switchTab',\r\n    back: 'navigateBack',\r\n};\r\n\r\nexport const H5FnTypeToggle = {\r\n    push: 'push',\r\n    replace: 'replace',\r\n    replaceAll: 'replace',\r\n    pushTab: 'replace',\r\n};\r\n\r\nexport const lifeCycle = {\r\n    beforeHooks: [],\r\n    afterHooks: [],\r\n    routerHooks: [],\r\n    routerbeforeHooks: [], // 内部跳转前生命周期\r\n    routerAfterHooks: [], // 内部跳转后生命周期\r\n};\r\n\r\nexport const Global = { // 缓存一些必要的对象，作为全局可以访问的参数\r\n    $parseQuery: null, // url query 帮助类实例\r\n    Router: {},\r\n    vueRouter: {},\r\n    addedRoutes: [], // 用于缓存用户动态添加的路由\r\n    RouterReadyPromise: () => {},\r\n    H5RouterReady: null, // 当前router是否就绪\r\n    backLayerC: 1,\t// 返回api调用时开发者传递的 delta\r\n    LockStatus: false, // 当前是否正在进行跳转 正在跳转调用api是不给跳转的\r\n};\r\n\r\nexport const uniAppHook = {\r\n    indexVue: {},\t// 首页 组件对象\r\n    toutiaoIndexThis: {}, // 头条小程序Index this对象\r\n    appVue: {},\t// 同getApp()获取到的对象一毛一样的  其实就是app.vue组件\r\n    onLaunch: {\tfun: [], args: {}, isHijack: false }, // 这两个是app.vue\r\n    onShow: { fun: [], args: {}, isHijack: false },\r\n    variationFuns: ['onReady', 'onUnload'],\t// 一些uni-app的变异方法 需要处理下\r\n    waitHooks: {},\t// 首页等待中的生命钩子 一些需要等待的Hooks,就是在页面没有进来之前一些提前触发的生命钩子 主要是用户已经声明好的\r\n    indexCallHooks: ['onLoad', 'onReady', 'created', 'onShow'],\t// 在首页首次启动时需要触发的生命周期\r\n    needHooks: ['onLoad', 'onReady', 'onShow', 'created', 'onHide', 'onUnload', 'onResize'],\t// 首页需要拦截的生命钩子\r\n    pageReady: false,\r\n    onLaunched: false,\t// 否触发onLaunch事件\r\n};\r\n\r\nexport const appletsConfig = {\t// 小程序端的一些路由所需配置\r\n    onLaunchEd: false,\t// 当前小程序端是否触发onLaunch事件\r\n};\r\n\r\nexport const route = function (object = {}) {\r\n    return {\r\n        ...object,\r\n        params: {},\r\n        query: {},\r\n    };\r\n};\r\n","export const builtIn = [{\n    path: '/preview-image',\n    name: 'previewImage',\n    component: {\n        render: () => {},\n    },\n}, {\n    path: '/choose-location',\n    name: 'chooseLocation',\n    component: {\n        render: () => {},\n    },\n}, {\n    path: '/open-location',\n    name: 'openLocation',\n    component: {\n        render: () => {},\n    },\n}]; // uni-app内置路由\nexport const vuelifeHooks = { // vueRouter的原始生命周期\n    beforeHooks: [],\n    afterHooks: [],\n};\nexport const vueMount = [];// 使用内部对象保留实例化下的appVue,并使用Router进行挂载触发第一次路由钩子\n","import { Global } from './config';\n\n\nconst isLog = function (type, errText, enforce) {\n    if (!enforce) {\n        const dev = Global.Router.CONFIG.debugger;\n        const isObject = dev.toString() === '[object Object]';\n        if (dev === false) {\n            return false;\n        } if (dev === false) {\n            return false;\n        } if (isObject) {\n            if (dev[type] === false) {\n                return false;\n            }\n        }\n    }\n    /* eslint no-console:\"off\" */\n    console[type](errText);\n};\nexport const err = function (errInfo, enforce = false) {\n    isLog('error', errInfo, enforce);\n};\n\nexport const warn = function (errInfo, enforce = false) {\n    isLog('warn', errInfo, enforce);\n};\n\nexport const log = function (errInfo, enforce = false) {\n    isLog('log', errInfo, enforce);\n};\nexport const warnLock = function (errInfo) {\n    console.warn(errInfo);\n};\n","import { appPlatform } from './util';\r\nimport { methods, H5FnTypeToggle, Global } from './config';\r\nimport { transitionTo } from '../appRouter/hooks';\r\nimport { appletsTransitionTo, backCallHook } from '../appletsRouter/hooks';\r\nimport uniPushTo from '../appRouter/uniNav';\r\nimport appletsUniPushTo from '../appletsRouter/appletsNav';\r\nimport { err, warn } from './warn';\r\nimport H5PushTo from '../vueRouter/routerNav';\r\nimport * as compile from './compile';\r\n\r\n\r\n/**\r\n * 返回api 触发的公共函数\r\n * @param {Object/String} rule  当前跳转规则\r\n * @param {String} fnType    跳转页面的类型方法\r\n *\r\n * this 为当前 Router 实例\r\n */\r\nconst isBcakNav = function ({\r\n    backLayer,\r\n    delta,\r\n    H5PATCH,\r\n}) {\r\n    compile.H5(() => {\r\n        H5PATCH.on('historyBack', {\r\n            backLayer,\r\n            delta,\r\n        });\r\n    });\r\n    compile.APP(() => {\r\n        Global.backLayerC = backLayer;\t// 告诉路由需要返回几层\r\n        uni.navigateBack({\r\n            delta: backLayer,\r\n            complete: () => {\r\n                Global.LockStatus = false; // 跳转完成解锁状态\r\n            },\r\n        });\r\n    });\r\n    compile.mp(() => {\r\n        backCallHook.call(this, backLayer, () => {\r\n            uni.navigateBack({\r\n                delta: backLayer,\r\n            });\r\n        });\r\n    });\r\n};\r\n\r\n/**\r\n * 非 返回api 触发的公共函数\r\n * @param {Object/String} rule  当前跳转规则\r\n * @param {String} fnType    跳转页面的类型方法\r\n *\r\n * this 为当前 Router 实例\r\n */\r\n\r\nconst notBackNav = function (rule, fnType) {\r\n    if (rule == null) {\r\n        return err('跳转规则为空，不允许这样操作');\r\n    }\r\n    if (rule.constructor === String) { // 单独 path 的情况   允许？拼接参数\r\n        const ruleArray = rule.split('?');\r\n        if (ruleArray.length > 1) {\r\n            rule = {\r\n                path: ruleArray[0],\r\n                query: Global.$parseQuery.parse(ruleArray[1]),\r\n            };\r\n        }\r\n    }\r\n    switch (appPlatform(true)) {\r\n    case 'H5':\r\n        return H5PushTo.call(this, H5FnTypeToggle[fnType], rule, methods[fnType]);\r\n    case 'APP':\r\n        Global.LockStatus = true; // 设置为锁住状态\r\n        return transitionTo.call(this, rule, fnType, uniPushTo);\r\n    case 'APPLETS':\r\n        Global.LockStatus = true; // 设置为锁住状态\r\n        return appletsTransitionTo.call(this, rule, fnType, appletsUniPushTo);\r\n    default:\r\n        err('糟糕！！！还有其他的执行环境？？？没听说过啊。一脸懵逼？？？加QQ群问问：769241495');\r\n        break;\r\n    }\r\n};\r\n\r\n/**\r\n * 处理正在跳转的公共api\r\n * @param {Object/String} rule  当前跳转规则\r\n * @param {String} fnType    跳转页面的类型方法\r\n * @param {Boolean} isBack  是否通过 back() api 调用的 默认为false\r\n * @param {Boolean} enforce 是否强制越过跳转加锁检查 默认false  目前只有back() api 传递了\r\n *\r\n * this 为当前 Router 实例\r\n */\r\nconst navjump = function (rule, fnType, isBack = false, enforce = false) {\r\n    if (Global.LockStatus && !enforce) { // 正在跳转的状态下 给出提示正在跳转\r\n        return warn('当前页面正在处于跳转状态，请稍后再进行跳转....');\r\n    }\r\n    if (isBack) { // 是返回api触发的\r\n        return isBcakNav.call(this, rule, fnType);\r\n    }\r\n    return notBackNav.call(this, rule, fnType);\r\n};\r\n\r\nexport default navjump;\r\n","import { uniAppHook, Global } from '../helpers/config';\r\nimport {\r\n    callAppHook, getPages, getPageVmOrMp, ruleToUniNavInfo, formatTo, formatFrom, APPGetPageRoute, getPageOnBeforeBack,\r\n} from './util';\r\nimport { noop } from '../helpers/util';\r\nimport { warn } from '../helpers/warn';\r\nimport uniPushTo from './uniNav';\r\n\r\nlet startBack = false;\t// 主要是兼容低端手机返回卡 然后多次返回直接提示退出的问题\r\n\r\n/**\r\n * 还原并执行所有 拦截下来的生命周期 app.vue 及 index 下的生命周期\r\n * @param {Boolean} callHome // 是否触发首页的生命周期\r\n *\r\n * this 为当前 page 对象\r\n */\r\nconst callwaitHooks = function (callHome) {\r\n    return new Promise(async (resolve) => {\r\n        const variation = [];\t// 存储一下在uni-app上的变异生命钩子  奇葩的要死\r\n        const {\r\n            appVue, indexVue, onLaunch, onShow, waitHooks, variationFuns, indexCallHooks,\r\n        } = uniAppHook;\r\n        const app = appVue.$options;\r\n        await onLaunch.fun[onLaunch.fun.length - 1].call(appVue, onLaunch.args);\t// 确保只执行最后一个 并且强化异步操作\r\n        onShow.fun[onShow.fun.length - 1].call(appVue, onShow.args);\t// onshow 不保证异步 直接确保执行最后一个\r\n        if (callHome) {\t// 触发首页生命周期\r\n            // eslint-disable-next-line\r\n            for (const key in waitHooks) {\r\n                if (indexCallHooks.includes(key)) {\t// 只有在被包含的情况下才执行\r\n                    callAppHook.call(this, waitHooks[key].fun);\r\n                }\r\n            }\r\n        }\r\n        if (onLaunch.isHijack) {\t// 还原 onLaunch生命钩子\r\n            app.onLaunch.splice(app.onLaunch.length - 1, 1, onLaunch.fun[0]);\r\n        }\r\n        if (onShow.isHijack) {\t// 继续还原 onShow\r\n            app.onShow.splice(app.onShow.length - 1, 1, onShow.fun[0]);\r\n        }\r\n        // eslint-disable-next-line\r\n        for (const key in waitHooks) {\t// 还原 首页下的生命钩子\r\n            const item = waitHooks[key];\r\n            if (item.isHijack) {\r\n                if (variationFuns.includes(key)) {\t// 变异方法\r\n                    variation.push({ key, fun: item.fun[0] });\r\n                } else {\r\n                    const indeHooks = indexVue[key];\r\n                    // 修复 https://github.com/SilurianYang/uni-simple-router/issues/76\r\n                    setTimeout(() => {\t// 异步延迟还原 不然 uni-app 给给触发了\r\n                        indeHooks.splice(indeHooks.length - 1, 1, item.fun[0]);\r\n                    }, 50);\r\n                }\r\n            }\r\n        }\r\n        resolve(variation);\r\n    });\r\n};\r\n/**\r\n * 还原剩下的奇葩生命钩子\r\n * @param {Object} variation 当前uni-app中的一些变异方法  奇葩生命钩子\r\n */\r\nconst callVariationHooks = function (variation) {\r\n    for (let i = 0; i < variation.length; i += 1) {\r\n        const { key, fun } = variation[i];\r\n        const indeHooks = uniAppHook.indexVue[key];\r\n        indeHooks.splice(indeHooks.length - 1, 1, fun);\r\n    }\r\n};\r\n\r\n/**\r\n * 主要是对app.vue下onLaunch和onShow生命周期进行劫持\r\n *\r\n * this 为当前 page 对象\r\n */\r\nexport const proxyLaunchHook = function () {\r\n    const {\r\n        onLaunch,\r\n        onShow,\r\n    } = this.$options;\r\n    uniAppHook.appVue = this;\t\t// 缓存 当前app.vue组件对象\r\n    if (onLaunch.length > 1) {\t// 确保有写 onLaunch 可能有其他混入 那也办法\r\n        uniAppHook.onLaunch.isHijack = true;\r\n        uniAppHook.onLaunch.fun = onLaunch.splice(onLaunch.length - 1, 1, (arg) => {\r\n            uniAppHook.onLaunch.args = arg;\r\n        });\t\t// 替换uni-app自带的生命周期\r\n    }\r\n    if (onShow.length > 0) {\r\n        uniAppHook.onShow.isHijack = true;\r\n        uniAppHook.onShow.fun = onShow.splice(onShow.length - 1, 1, (arg) => {\r\n            uniAppHook.onShow.args = arg;\r\n            if (uniAppHook.pageReady) {\t\t// 因为还有app切前台后台的操作\r\n                callAppHook.call(this, uniAppHook.onShow.fun, arg);\r\n            }\r\n        });\t// 替换替换 都替换\r\n    }\r\n};\r\n\r\n/**\r\n * 把指定页面的生命钩子函数保存并替换\r\n * this 为当前 page 对象\r\n */\r\nexport const proxyIndexHook = function (Router) {\r\n    const { needHooks, waitHooks } = uniAppHook;\r\n    const options = this.$options;\r\n    uniAppHook.indexVue = options;\r\n    for (let i = 0; i < needHooks.length; i += 1) {\r\n        const key = needHooks[i];\r\n        if (options[key] != null) {\t// 只劫持开发者声明的生命周期\r\n            const { length } = options[key];\r\n            // eslint-disable-next-line\r\n            const whObject= waitHooks[key]={};\r\n            whObject.fun = options[key].splice(length - 1, 1, noop);\t// 把实际的页面生命钩子函数缓存起来,替换原有的生命钩子\r\n            whObject.isHijack = true;\r\n        }\r\n    }\r\n    // eslint-disable-next-line\r\n    triggerLifeCycle.call(this, Router);\t// 接着 主动我们触发导航守卫\r\n};\r\n/**\r\n * 触发全局beforeHooks 生命钩子\r\n * @param {Object} _from // from  参数\r\n * @param {Object} _to  // to 参数\r\n *\r\n * this 为当前 Router 对象\r\n */\r\nconst beforeHooks = function (_from, _to) {\r\n    return new Promise(async (resolve) => {\r\n        const beforeHooksFun = this.lifeCycle.beforeHooks[0];\r\n        if (beforeHooksFun == null) {\r\n            return resolve();\r\n        }\r\n        await beforeHooksFun.call(this, _to, _from, resolve);\r\n    });\r\n};\r\n/**\r\n * 触发全局afterEachHooks 生命钩子\r\n * @param {Object} _from // from  参数\r\n * @param {Object} _to  // to 参数\r\n *\r\n * this 为当前 Router 对象\r\n */\r\nconst afterEachHooks = function (_from, _to) {\r\n    const afterHooks = this.lifeCycle.afterHooks[0];\r\n    if (afterHooks != null && afterHooks.constructor === Function) {\r\n        afterHooks.call(this, _to, _from);\r\n    }\r\n};\r\n/**\r\n * 触发全局 beforeEnter 生命钩子\r\n * @param {Object} finalRoute \t// 当前格式化后的路由参数\r\n * @param {Object} _from // from  参数\r\n * @param {Object} _to  // to 参数\r\n *\r\n * this 为当前 Router 对象\r\n */\r\nconst beforeEnterHooks = function (finalRoute, _from, _to) {\r\n    return new Promise(async (resolve) => {\r\n        const { beforeEnter } = finalRoute.route;\r\n        if (beforeEnter == null || beforeEnter.constructor !== Function) {\t// 当前这个beforeEnter不存在 或者类型错误\r\n            return resolve();\r\n        }\r\n        await beforeEnter.call(this, _to, _from, resolve);\r\n    });\r\n};\r\n/**\r\n * 触发返回事件公共方法\r\n * @param {Object} page\t用getPages获取到的页面栈对象\r\n * @param {Object} options \t当前vue页面对象\r\n * @param {Object} backLayerC\t需要返回页面的层级\r\n   *\r\n * this 为当前 Router 对象\r\n */\r\nconst backCallHook = function (page, options, backLayerC = 1) {\r\n    const route = APPGetPageRoute([page]);\r\n    const NAVTYPE = 'RouterBack';\r\n    // eslint-disable-next-line\r\n    transitionTo.call(this, { path: route.path, query: route.query }, NAVTYPE, (finalRoute, fnType) => {\r\n        if (fnType != NAVTYPE) { // 返回时的api如果有next到其他页面 那么必须带上NAVTYPE  不相同则表示需要跳转到其他页面\r\n            return uniPushTo(finalRoute, fnType);\r\n        }\r\n        if (startBack) { // 如果当前处于正在返回的状态\r\n            return warn('当前处于正在返回的状态，请稍后再试！');\r\n        }\r\n        startBack = true;\t// 标记开始返回\r\n        options.onBackPress = [noop];\t// 改回uni-app可执行的状态\r\n        setTimeout(() => {\r\n            this.back(backLayerC, undefined, true); // 越过加锁验证\r\n            startBack = false;\t// 返回结束\r\n        });\r\n    });\r\n};\r\n/**\r\n * 处理返回按钮的生命钩子\r\n * @param {Object} options 当前 vue 组件对象下的$options对象\r\n * @param {Array} args  当前页面是点击头部返回还是底部返回\r\n *\r\n * this 为当前 Router 对象\r\n */\r\nexport const beforeBackHooks = async function (options, args) {\r\n    const isNext = await getPageOnBeforeBack(args); // 执行onBeforeBack\r\n    if (isNext === false) { // onBeforeBack  返回了true 阻止了跳转\r\n        Global.LockStatus = false; // 也需要解锁\r\n        return false;\r\n    }\r\n    const page = getPages(-3);\t// 上一个页面对象\r\n    backCallHook.call(this, page, options);\r\n};\r\n/**\r\n * 处理back api的生命钩子\r\n * @param {Object} options 当前 vue 组件对象下的$options对象\r\n * @param {Array} args  当前页面是点击头部返回还是底部返回\r\n *\r\n * this 为当前 Router 对象\r\n */\r\nexport const backApiCallHook = async function (options, args) {\r\n    await getPageOnBeforeBack(args);\r\n    const { backLayerC } = Global;\r\n    const pages = getPages();\r\n    let page = null;\r\n    if (backLayerC > pages.length - 1 || backLayerC == pages.length - 1) {\t// 返回的首页 我们需要显示tabbar拦截\r\n        // eslint-disable-next-line\r\n        page = pages[0];\r\n    } else {\r\n        page = pages[pages.length - 2];\r\n    }\r\n    backCallHook.call(this, page, options, backLayerC);\r\n};\r\n/**\r\n *  v1.5.4+\r\n * beforeRouteLeave 生命周期\r\n * @param {Object} to       将要去的那个页面 to对象\r\n * @param {Object} from     从那个页面触发的 from对象\r\n *  @param {Boolean} leaveHook:? 是否为 beforeRouteLeave 触发的next 到别处 如果是则不再触发 beforeRouteLeave 生命钩子\r\n * this 为当前 Router 对象\r\n */\r\nconst beforeRouteLeaveHooks = function (from, to, leaveHook) {\r\n    return new Promise((resolve) => {\r\n        if (leaveHook) { // 我们知道这个是来自页面beforeRouteLeave next到其他地方，所有不必再执行啦\r\n            warn('beforeRouteLeave next到其他地方，无须再执行！');\r\n            return resolve();\r\n        }\r\n        if (from.path == to.path) { // 进入首页的时候不触发\r\n            return resolve();\r\n        }\r\n        const currentPage = getPages(-2); // 获取到全部的页面对象\r\n        const callThis = getPageVmOrMp(currentPage); // 获取到页面的 $vm 对象 及 page页面的this对象\r\n        const { beforeRouteLeave } = callThis.$options; // 查看当前是否有开发者声明\r\n        if (beforeRouteLeave == null) {\r\n            warn('当前页面下无 beforeRouteLeave 钩子声明，无须执行！');\r\n            return resolve();\r\n        }\r\n        if (beforeRouteLeave != null && beforeRouteLeave.constructor !== Function) {\r\n            warn('beforeRouteLeave 生命钩子声明错误，必须是一个函数！');\r\n            return resolve();\r\n        }\r\n        beforeRouteLeave.call(callThis, to, from, resolve); // 执行生命钩子\r\n    });\r\n};\r\n\r\n/**\r\n * 验证当前 next() 管道函数是否支持下一步\r\n *\r\n * @param {Object} Intercept 拦截到的新路由规则\r\n * @param {Object} fnType 跳转页面的类型方法 原始的\r\n * @param {Object} navCB 回调函数 原始的\r\n * @param {Boolean} leaveHookCall:? 是否为 beforeRouteLeave 触发的next 做拦截判断\r\n * this 为当前 Router 对象\r\n *\r\n */\r\nconst isNext = function (Intercept, fnType, navCB, leaveHookCall = false) {\r\n    return new Promise((resolve, reject) => {\r\n        if (Intercept == null) {\t\t// 什么也不做 直接执行下一个钩子\r\n            return resolve();\r\n        }\r\n        if (Intercept === false) {\t\t// 路由中断\r\n            Global.LockStatus = false; // 解锁跳转状态\r\n            return reject('路由终止');\r\n        }\r\n        if (Intercept.constructor === String) {\t\t// 说明 开发者直接传的path 并且没有指定 NAVTYPE 那么采用原来的navType\r\n            reject('next到其他页面');\r\n            // eslint-disable-next-line\r\n            return transitionTo.call(this, Intercept, fnType, navCB,leaveHookCall);\r\n        }\r\n        if (Intercept.constructor === Object) {\t// 有一系列的配置 包括页面切换动画什么的\r\n            reject('next到其他页面');\r\n            // eslint-disable-next-line\r\n            return transitionTo.call(this, Intercept, Intercept.NAVTYPE || fnType, navCB,leaveHookCall);\r\n        }\r\n    });\r\n};\r\n/**\r\n * 核心方法 处理一系列的跳转配置\r\n * @param {Object} rule 当前跳转规则\r\n * @param {Object} fnType 跳转页面的类型方法\r\n * @param {Object} navCB:? 回调函数\r\n * @param {Boolean} leaveHook:? 是否为 beforeRouteLeave 触发的next 到别处 如果是则不再触发 beforeRouteLeave 生命钩子\r\n *\r\n * this 为当前 Router 对象\r\n */\r\nexport const transitionTo = async function (rule, fnType, navCB, leaveHook = false) {\r\n    await this.lifeCycle.routerbeforeHooks[0].call(this); // 触发内部跳转前的生命周期\r\n    const finalRoute = ruleToUniNavInfo(rule, this.CONFIG.routes);\t\t// 获得到最终的 route 对象\r\n    const _from = formatFrom(this.CONFIG.routes);\t// 先根据跳转类型获取 from 数据\r\n    const _to = formatTo(finalRoute);\t// 再根据跳转类型获取 to 数据\r\n    try {\r\n        const leaveResult = await beforeRouteLeaveHooks.call(this, _from, _to, leaveHook); // 执行页面中的 beforeRouteLeave 生命周期 v1.5.4+\r\n        await isNext.call(this, leaveResult, fnType, navCB, true);\t// 验证当前是否继续  可能需要递归  那么 我们把参数传递过去\r\n\r\n        const beforeResult = await beforeHooks.call(this, _from, _to);\t\t// 执行 beforeEach 生命周期\r\n        await isNext.call(this, beforeResult, fnType, navCB);\t// 验证当前是否继续  可能需要递归  那么 我们把参数传递过去\r\n\r\n        const enterResult = await beforeEnterHooks.call(this, finalRoute, _from, _to);\t// 接着执行 beforeEnter 生命周期\r\n        await isNext.call(this, enterResult, fnType, navCB);\t// 再次验证  如果生命钩子多的话应该写成递归或者循环\r\n    } catch (e) {\r\n        warn(e); // 打印开发者操作的日志\r\n        return false;\r\n    }\r\n    if (navCB) {\r\n        navCB.call(this, finalRoute, fnType);\t// 执行当前回调生命周期\r\n    }\r\n    afterEachHooks.call(this, _from, _to);\r\n    await this.lifeCycle.routerAfterHooks[0].call(this); // 触发内部跳转前的生命周期\r\n};\r\n/**\r\n * 主动触发导航守卫\r\n * @param {Object} Router 当前路由对象\r\n *\r\n * this  当前vue页面组件对象\r\n */\r\nexport const triggerLifeCycle = function (Router) {\r\n    const topPage = getCurrentPages()[0];\r\n    if (topPage == null) {\r\n        return warn('打扰了,当前一个页面也没有 这不是官方的bug是什么??');\r\n    }\r\n    const { query, page } = getPageVmOrMp(topPage, false);\r\n    transitionTo.call(Router, { path: page.route, query }, 'push', async (finalRoute, fnType) => {\r\n        let variation = [];\r\n        if (`/${page.route}` == finalRoute.route.path) {\t\t// 在首页不动的情况下\r\n            uniAppHook.pageReady = true;\t\t// 标致着路由已经就绪 可能准备起飞\r\n            await callwaitHooks.call(this, true);\r\n        } else {\t// 需要跳转\r\n            variation = await callwaitHooks.call(this, false);\t// 只触发app.vue中的生命周期\r\n            await uniPushTo(finalRoute, fnType);\r\n        }\r\n        plus.nativeObj.View.getViewById('router-loadding').close();\r\n        callVariationHooks(variation);\r\n        uniAppHook.pageReady = true;\t\t// 标致着路由已经就绪 可能准备起飞\r\n    });\r\n};\r\n\r\n/**\r\n * 处理tabbar点击拦截事件\r\n * @param {Object} path 当前需要跳转的tab页面路径\r\n *\r\n * this 为当前 Router 对象\r\n */\r\nexport const beforeTabHooks = function (path) {\r\n    transitionTo.call(this, { path: `/${path}`, query: {} }, 'pushTab', (finalRoute, fnType) => {\r\n        uniPushTo(finalRoute, fnType);\r\n    });\r\n};\r\n","module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() {\n  return this || (typeof self === \"object\" && self);\n})() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() {\n    return this || (typeof self === \"object\" && self);\n  })() || Function(\"return this\")()\n);\n","import { err } from '../helpers/warn';\r\nimport { copyObject, parseQuery } from '../helpers/util';\r\nimport { Global, route as mergeRoute } from '../helpers/config';\r\n\r\n/**\r\n * 触发指定生命钩子\r\n * @param {Array} funList\t//需要执行的方法列表\r\n * @param {Object} args //触发生命钩子传递的参数\r\n */\r\nexport const callAppHook = function (funList = [], args) {\r\n    for (let i = 0; i < funList.length; i += 1) {\r\n        funList[i].call(this, args);\r\n    }\r\n};\r\n/**\r\n * @param {Number} index //需要获取的页面下标 -2:表示获取最后一个即当前页面 -1:表示全部 -3:当前页面的前一个页面\r\n * @param {Boolean} all //是否获取全部的页面\r\n */\r\nexport const getPages = function (index = -1, all) {\r\n    const pages = getCurrentPages(all);\r\n    if (index === -1) {\r\n        return pages;\r\n    }\r\n    if (index === -2) {\r\n        return pages[pages.length - 1];\r\n    }\r\n    if (index === -3) {\r\n        return pages[pages.length - 2];\r\n    }\r\n    return pages[index];\r\n};\r\n/**\r\n * 验证当前页面是否为nvue页面\r\n * @param {Object} page 当前页面对象\r\n */\r\nexport const isNvuePage = function (page) {\r\n    const cstr = page.constructor.name;\r\n    const pageType = {\r\n        s: true,\r\n        z: false,\r\n    };\r\n    return pageType[cstr];\r\n};\r\n\r\n/**\r\n * @param {Object} page //当前顶级页面对象\r\n * @param {Object} vim:? //是否获取 $vm 对象还是 $mp 对象\r\n */\r\nexport const getPageVmOrMp = function (page, vim = true) {\r\n    if (vim) {\r\n        return page.$vm;\r\n    }\r\n    if (page.$vm.$mp) {\r\n        return page.$vm.$mp;\r\n    }\r\n    if (isNvuePage(page)) {\t// nvue 页面\r\n        return {\r\n            page,\r\n            query: page.__displayReporter.query,\r\n        };\r\n    }\r\n};\r\n\r\n/**\r\n * 获取 to 的配置参数\r\n * @param {Object} rule 当前跳转的规则\r\n */\r\nexport const formatTo = function (finalRoute) {\r\n    const route = copyObject(finalRoute.route);\r\n    const { rule } = finalRoute;\r\n    route.query = rule.query || rule.params || {};\r\n    return route;\r\n};\r\n/**\r\n * 通过一个未知的路径或者名称 在路由表中查找指定路由表 并返回\r\n * @param {string} type   //path 或者 name\r\n * @param {Object} routes //当前对象的所有路由表\r\n */\r\nexport const pathOrNameToRoute = function (type, routes = Global.Router.CONFIG.routes) {\r\n    const routesKeys = Object.keys(routes);\r\n    for (let i = 0; i < routesKeys.length; i += 1) {\r\n        const key = routesKeys[i];\r\n        const item = routes[key];\r\n        if (item.path === `/${type}`) {\r\n            return mergeRoute(item); // 合并一下对象,主要是合并 query:{} 及 params:{}\r\n        }\r\n        if (item.path === type) {\r\n            return mergeRoute(item); // 合并一下对象,主要是合并 query:{} 及 params:{}\r\n        }\r\n        if (item.name == type) {\r\n            return mergeRoute(item); // 合并一下对象,主要是合并 query:{} 及 params:{}\r\n        }\r\n    }\r\n    err(`当前 '${type}' 在路由表中没有找到匹配的 name 或者 path`);\r\n};\r\n/**\r\n * 统一格式话 路由传递的参数 看看是编码还是非编码 做相应的对策\r\n *\r\n * @param {Object} query 当前的路由参数\r\n * @param {Boolean} getter 是从页面获取 route 对象下的参数 还是编码后传输\r\n */\r\nexport const getFormatQuery = function (query = {}) {\r\n    if (Global.Router.CONFIG.encodeURI) {\r\n        try {\r\n            query = JSON.parse(decodeURIComponent(query.query || encodeURIComponent('{}')));\r\n        } catch (e) {\r\n            query = JSON.parse(query.query);\r\n        }\r\n    }\r\n    return query;\r\n};\r\n/**\r\n * 获取 from 的配置参数 from 页面永远都是站在当前页面忘其它地方走 所以都是最后一个页面\r\n *\r\n * @param {Object} routes //当前对象的所有路由表\r\n */\r\nexport const formatFrom = function (routes) {\r\n    const topPage = getPages(-2);\r\n    const { page, query } = getPageVmOrMp(topPage, false);\r\n    const route = pathOrNameToRoute(page.route, routes);\t// 获取到当前路由表下的 route\r\n    route.query = getFormatQuery(query);\t// 不管是编码传输还是非编码 最后都得在 to/from 中换成json对象\r\n    return route;\r\n};\r\n/**\r\n *\r\n * 把用户的跳转路由规则格式化成uni-app可用的路由跳转规则\r\n *\r\n * @param {Object} rule  //当前用户跳转的路由规则\r\n * @param {Object} routes //当前simple-router 下的路由表\r\n */\r\nexport const ruleToUniNavInfo = function (rule, routes) {\r\n    if (rule == null) {\r\n        return err('当前跳转规则为空,请检查跳转代码');\r\n    }\r\n    // eslint-disable-next-line\r\n    let [navType, route, query, animation] = ['path', null, {}, {}];\r\n    if (rule.constructor === String) {\t\t// 是字符串类型 那当前就是路径啦\r\n        route = pathOrNameToRoute(rule, routes);\t// 直接把 rule 当 path 传递 完事\r\n    } else if (rule.constructor === Object) {\t\t// 对象类型 可以是 path 或者 name\r\n        route = pathOrNameToRoute(rule.path || (navType = 'name', rule.name), routes);\t// 两则必有其一 报错自己处理\r\n        query = rule.query || rule.params || {};\r\n        animation = rule.animation || {};\r\n    } else {\r\n        return err('传的什么乱七八糟的类型?路由跳转规则只认字符串 \\'path\\' , 对象 \\'path\\' , 对象 \\'name\\' ');\r\n    }\r\n    animation = { ...Global.Router.CONFIG.APP.animation, ...route.animation || {}, ...animation };\t// 合并多种方式声明的动画效果\r\n    route.animation = animation;\t// 这才是最终的页面切换效果\r\n    // 路径处理完后   开始格式化参数\r\n    const uniRoute = parseQuery(route.path, query);\t// uni-app 需要的跳转规则\r\n    return {\r\n        rule,\r\n        route,\r\n        uniRoute,\r\n    };\r\n};\r\n/**\r\n * 获取当前页面下的 Route 信息\r\n *\r\n * @param {Object} pages 获取页面对象集合\r\n * @param {Object} Vim 用户传递的当前页面对象\r\n */\r\nexport const APPGetPageRoute = function (pages, Vim) {\r\n    let [query, path] = [{}, ''];\r\n    const page = pages[pages.length - 1];\t// 获取到当前页面\r\n    if (pages.length > 0) {\r\n        query = getFormatQuery(page.options, true);\r\n        path = page.route;\r\n    } else if (Vim != null) {\r\n        query = getFormatQuery(Vim.$mp.page.options, true);\r\n        path = page.route;\r\n    }\r\n    const route = pathOrNameToRoute(path);\r\n    route.query = query;\r\n    return route;\r\n};\r\n/**\r\n * 获取当前页面下的 onBeforeBack 生命周期并执行\r\n *\r\n * @param {Object} args 当前返回页面时uni-app传递的参数\r\n */\r\nexport const getPageOnBeforeBack = function (args) {\r\n    return new Promise(async (resolve) => {\r\n        const currPage = getPages(-2);\t// 获取到当前页面\r\n        const { onBeforeBack } = currPage.$vm.$options;\r\n        if (onBeforeBack != null && onBeforeBack.constructor === Function) {\r\n            const isNext = await onBeforeBack.call(currPage.$vm, args);\r\n            if (isNext === true) {\r\n                return resolve(false);\r\n            }\r\n        }\r\n        return resolve(true);\r\n    });\r\n};\r\n/**\r\n * 断言当前页面是否可返回上一级\r\n * @param {Object} page 当前页面webview对象\r\n */\r\nexport const assertCanBack = function (page) {\r\n    const pageStyle = page.$getAppWebview().getStyle();\r\n    if (pageStyle.titleNView != null && pageStyle.titleNView.autoBackButton) {\t// 只有处理有带返回按钮的页面\r\n        return true;\r\n    }\r\n    // 两种情况 1.真的是顶级页面时  2.自定义头部\r\n    const { $page } = page;\r\n    if ($page && $page.meta.isQuit === false) {\t\t// 自定义头部 不是顶级页面\r\n        return true;\r\n    }\r\n    return false;\t// 不可返回 真的是顶级页面时 返回就直接退出app了\r\n};\r\n","import { methods, baseConfig, Global } from '../helpers/config';\r\nimport { noop, formatURLQuery } from '../helpers/util';\r\n\r\nlet stop = null;\r\n\r\n/**\r\n * @param {Object} finalRoute 格式化后的路由跳转规则\r\n * @param {Object} NAVTYPE 需要调用的跳转方法\r\n */\r\nconst uniPushTo = function (finalRoute, NAVTYPE) {\r\n    return new Promise((resolve) => {\r\n        const query = formatURLQuery(`?${finalRoute.uniRoute.query}`);\r\n        const { APP } = baseConfig;\r\n        const { url } = finalRoute.uniRoute;\r\n        stop = setTimeout(() => {\r\n            resolve(url);\r\n            resolve = noop;\t// 执行完了就没了 确保不会被下一次执行\r\n            Global.LockStatus = false; // 跳转完成解锁状态\r\n        }, APP.switchPageOutTime);\r\n\r\n        uni[methods[NAVTYPE]]({\r\n            url: url + query,\r\n            ...finalRoute.route.animation,\r\n            complete: () => {\r\n                clearTimeout(stop);\r\n                resolve(url);\r\n                resolve = noop;\t// 执行完了就没了 确保不会被下一次执行\r\n                Global.LockStatus = false; // 跳转完成解锁状态\r\n            },\r\n        }, true); // 这里传递true 主要是兼容重写 uni.switchTab\r\n    });\r\n};\r\n\r\nexport default uniPushTo;\r\n","import { uniAppHook, Global } from '../helpers/config';\r\nimport {\r\n    callAppHook, getPageVmOrMp, ruleToUniNavInfo, formatTo, formatFrom, getPages,\r\n} from './util';\r\nimport appletsUniPushTo from './appletsNav';\r\nimport { noop } from '../helpers/util';\r\nimport { warn } from '../helpers/warn';\r\n\r\n/**\r\n *\r\n * @param {String} key\r\n * @param {Function} hook 需要执行及还原的生命周期函数\r\n */\r\nconst toutiaoIndexHookCall = function (key, hook) {\r\n    const { indexVue } = uniAppHook;\r\n    const indeHooks = indexVue[key];\r\n    indeHooks.splice(indeHooks.length - 1, 1, hook);\r\n};\r\n\r\n/**\r\n * 还原并执行所有 拦截下来的生命周期 app.vue 及 index 下的生命周期\r\n * @param {Boolean} callHome // 是否触发首页的生命周期\r\n *\r\n * this 为当前 page 对象\r\n */\r\nconst callwaitHooks = function (callHome) {\r\n    return new Promise(async (resolve) => {\r\n        const variation = [];\t// 存储一下在uni-app上的变异生命钩子  奇葩的要死\r\n        const {\r\n            appVue, onLaunch, onShow, waitHooks, variationFuns, indexCallHooks,\r\n        } = uniAppHook;\r\n        const app = appVue.$options;\r\n        await onLaunch.fun[onLaunch.fun.length - 1].call(appVue, onLaunch.args);\t// 确保只执行最后一个 并且强化异步操作\r\n        onShow.fun[onShow.fun.length - 1].call(appVue, onShow.args);\t// onshow 不保证异步 直接确保执行最后一个\r\n        if (callHome) {\t// 触发首页生命周期\r\n            // eslint-disable-next-line\r\n            for (const key in waitHooks) {\r\n                if (indexCallHooks.includes(key)) {\t// 只有在被包含的情况下才执行\r\n                    callAppHook.call(this, waitHooks[key].fun);\r\n                }\r\n            }\r\n        }\r\n        if (onLaunch.isHijack) {\t// 还原 onLaunch生命钩子\r\n            app.onLaunch.splice(app.onLaunch.length - 1, 1, onLaunch.fun[0]);\r\n        }\r\n        if (onShow.isHijack) {\t// 继续还原 onShow\r\n            app.onShow.splice(app.onShow.length - 1, 1, onShow.fun[0]);\r\n        }\r\n        // eslint-disable-next-line\r\n        for (const key in waitHooks) {\t// 还原 首页下的生命钩子\r\n            const item = waitHooks[key];\r\n            if (item.isHijack) {\r\n                if (variationFuns.includes(key)) {\t// 变异方法\r\n                    variation.push({ key, fun: item.fun[0] });\r\n                } else {\r\n                    toutiaoIndexHookCall(key, item.fun[0]);\r\n                }\r\n            }\r\n        }\r\n        resolve(variation);\r\n    });\r\n};\r\n/**\r\n * 还原剩下的奇葩生命钩子\r\n * @param {Object} variation 当前uni-app中的一些变异方法  奇葩生命钩子\r\n */\r\nconst callVariationHooks = function (variation) {\r\n    for (let i = 0; i < variation.length; i += 1) {\r\n        const { key, fun } = variation[i];\r\n        toutiaoIndexHookCall(key, fun);\r\n    }\r\n};\r\n\r\n/**\r\n * 主要是对app.vue下onLaunch和onShow生命周期进行劫持\r\n *\r\n * this 为当前 page 对象\r\n */\r\nexport const proxyLaunchHook = function () {\r\n    const {\r\n        onLaunch,\r\n        onShow,\r\n    } = this.$options;\r\n    uniAppHook.appVue = this;\t\t// 缓存 当前app.vue组件对象\r\n    if (onLaunch.length > 1) {\t// 确保有写 onLaunch 可能有其他混入 那也办法\r\n        uniAppHook.onLaunch.isHijack = true;\r\n        uniAppHook.onLaunch.fun = onLaunch.splice(onLaunch.length - 1, 1, (arg) => {\r\n            uniAppHook.onLaunch.args = arg;\r\n        });\t\t// 替换uni-app自带的生命周期\r\n    }\r\n    if (onShow.length > 0) {\r\n        uniAppHook.onShow.isHijack = true;\r\n        uniAppHook.onShow.fun = onShow.splice(onShow.length - 1, 1, (arg) => {\r\n            uniAppHook.onShow.args = arg;\r\n            if (uniAppHook.pageReady) {\t\t// 因为还有app切前台后台的操作\r\n                callAppHook.call(this, uniAppHook.onShow.fun, arg);\r\n            }\r\n        });\t// 替换替换 都替换\r\n    }\r\n};\r\n/**\r\n * 触发全局beforeHooks 生命钩子\r\n * @param {Object} _from // from  参数\r\n * @param {Object} _to  // to 参数\r\n *\r\n * this 为当前 Router 对象\r\n */\r\nconst beforeHooks = function (_from, _to) {\r\n    return new Promise(async (resolve) => {\r\n        const beforeHooksFun = this.lifeCycle.beforeHooks[0];\r\n        if (beforeHooksFun == null) {\r\n            return resolve();\r\n        }\r\n        await beforeHooksFun.call(this, _to, _from, resolve);\r\n    });\r\n};\r\n/**\r\n * 触发全局afterEachHooks 生命钩子\r\n * @param {Object} _from // from  参数\r\n * @param {Object} _to  // to 参数\r\n *\r\n * this 为当前 Router 对象\r\n */\r\nconst afterEachHooks = function (_from, _to) {\r\n    const afterHooks = this.lifeCycle.afterHooks[0];\r\n    if (afterHooks != null && afterHooks.constructor === Function) {\r\n        afterHooks.call(this, _to, _from);\r\n    }\r\n};\r\n/**\r\n * 触发全局 beforeEnter 生命钩子\r\n * @param {Object} finalRoute \t// 当前格式化后的路由参数\r\n * @param {Object} _from // from  参数\r\n * @param {Object} _to  // to 参数\r\n *\r\n * this 为当前 Router 对象\r\n */\r\nconst beforeEnterHooks = function (finalRoute, _from, _to) {\r\n    return new Promise(async (resolve) => {\r\n        const { beforeEnter } = finalRoute.route;\r\n        if (beforeEnter == null || beforeEnter.constructor !== Function) {\t// 当前这个beforeEnter不存在 或者类型错误\r\n            return resolve();\r\n        }\r\n        await beforeEnter.call(this, _to, _from, resolve);\r\n    });\r\n};\r\n/**\r\n *  v1.5.4+\r\n * beforeRouteLeave 生命周期\r\n * @param {Object} to       将要去的那个页面 to对象\r\n * @param {Object} from     从那个页面触发的 from对象\r\n *  @param {Boolean} leaveHook:? 是否为 beforeRouteLeave 触发的next 到别处 如果是则不再触发 beforeRouteLeave 生命钩子\r\n * this 为当前 Router 对象\r\n */\r\nconst beforeRouteLeaveHooks = function (from, to, leaveHook) {\r\n    return new Promise(async (resolve) => {\r\n        if (leaveHook) { // 我们知道这个是来自页面beforeRouteLeave next到其他地方，所有不必再执行啦\r\n            warn('beforeRouteLeave next到其他地方，无须再执行！');\r\n            return resolve();\r\n        }\r\n        if (from.path == to.path) { // 进入首页的时候不触发\r\n            return resolve();\r\n        }\r\n        const currentPage = getPages(-2); // 获取到全部的页面对象\r\n        const callThis = getPageVmOrMp(currentPage); // 获取到页面的 $vm 对象 及 page页面的this对象\r\n        const { beforeRouteLeave } = callThis.$options; // 查看当前是否有开发者声明\r\n        if (beforeRouteLeave == null) {\r\n            warn('当前页面下无 beforeRouteLeave 钩子声明，无须执行！');\r\n            return resolve();\r\n        }\r\n        if (beforeRouteLeave != null && beforeRouteLeave.constructor !== Function) {\r\n            warn('beforeRouteLeave 生命钩子声明错误，必须是一个函数！');\r\n            return resolve();\r\n        }\r\n        await beforeRouteLeave.call(callThis, to, from, resolve); // 执行生命钩子\r\n    });\r\n};\r\n\r\n/**\r\n * 核心方法 处理一系列的跳转配置\r\n * @param {Object} rule 当前跳转规则\r\n * @param {Object} fnType 跳转页面的类型方法\r\n * @param {Object} navCB:? 回调函数\r\n * @param {Boolean} leaveHook:? 是否为 beforeRouteLeave 触发的next 到别处 如果是则不再触发 beforeRouteLeave 生命钩子\r\n * this 为当前 Router 对象\r\n *\r\n */\r\nexport const appletsTransitionTo = async function (rule, fnType, navCB, leaveHook = false) {\r\n    await this.lifeCycle.routerbeforeHooks[0].call(this); // 触发内部跳转前的生命周期\r\n    const finalRoute = ruleToUniNavInfo(rule, this.CONFIG.routes);\t\t// 获得到最终的 route 对象\r\n    const _from = formatFrom(this.CONFIG.routes);\t// 先根据跳转类型获取 from 数据\r\n    const _to = formatTo(finalRoute);\t// 再根据跳转类型获取 to 数据\r\n    try {\r\n        const leaveResult = await beforeRouteLeaveHooks.call(this, _from, _to, leaveHook); // 执行页面中的 beforeRouteLeave 生命周期 v1.5.4+\r\n        // eslint-disable-next-line\r\n        await isNext.call(this, leaveResult, fnType, navCB,true);\t// 验证当前是否继续  可能需要递归  那么 我们把参数传递过去\r\n\r\n        const beforeResult = await beforeHooks.call(this, _from, _to);\t\t// 执行 beforeEach 生命周期\r\n        // eslint-disable-next-line\r\n        await isNext.call(this, beforeResult, fnType, navCB);\t// 验证当前是否继续  可能需要递归  那么 我们把参数传递过去\r\n\r\n        const enterResult = await beforeEnterHooks.call(this, finalRoute, _from, _to);\t// 接着执行 beforeEnter 生命周期\r\n        // eslint-disable-next-line\r\n        await isNext.call(this, enterResult, fnType, navCB);\t// 再次验证  如果生命钩子多的话应该写成递归或者循环\r\n    } catch (e) {\r\n        warn(e); // 打印开发者操作的日志\r\n        return false;\r\n    }\r\n    if (navCB) {\r\n        navCB.call(this, finalRoute, fnType);\t// 执行当前回调生命周期\r\n    }\r\n    afterEachHooks.call(this, _from, _to);\r\n    await this.lifeCycle.routerAfterHooks[0].call(this); // 触发内部跳转前的生命周期\r\n};\r\n\r\n/**\r\n * 触发全局 返回事件\r\n * @param {Number} backLayer 需要返回的页面层级\r\n * @param {Function} next 正真的回调函数\r\n *\r\n * this 为当前 Router 对象\r\n */\r\nexport const backCallHook = function (backLayer, next) {\r\n    const pages = getPages(); // 获取到全部的页面对象\r\n    const toPage = pages.reverse()[backLayer];\r\n    if (toPage == null) { // 没有匹配到的时候\r\n        return warn('亲爱的开发者，你确定页面栈中有这么多历史记录给你返回？');\r\n    }\r\n    const { query, page } = getPageVmOrMp(toPage, false);\r\n    const beforeFntype = 'RouterBack';\r\n    appletsTransitionTo.call(this, { path: page.route, query }, beforeFntype, (finalRoute, fnType) => {\r\n        const toPath = finalRoute.uniRoute.url;\r\n        if (`/${page.route}` == toPath || page.route == toPath) { // 直接调用返回api\r\n            next();\r\n        } else { // 有拦截到其他页面时\r\n            if (fnType == beforeFntype) {\r\n                return warn('调用返回api被拦截到其他页面需要指定合理的 ‘NAVTYPE’ ');\r\n            }\r\n            appletsUniPushTo(finalRoute, fnType);\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * 主动触发导航守卫\r\n * @param {Object} Router 当前路由对象\r\n *\r\n */\r\nexport const triggerLifeCycle = function (Router) {\r\n    const topPage = getCurrentPages()[0];\r\n    if (topPage == null) {\r\n        return warn('打扰了,当前一个页面也没有 这不是官方的bug是什么??');\r\n    }\r\n    const { query, page } = getPageVmOrMp(topPage, false);\r\n    appletsTransitionTo.call(Router, { path: page.route, query }, 'push', async (finalRoute, fnType) => {\r\n        let variation = [];\r\n        if (`/${page.route}` == finalRoute.route.path || page.route == finalRoute.route.path) {\t\t// 在首页不动的情况下\r\n            uniAppHook.pageReady = true;\t\t// 标致着路由已经就绪 可能准备起飞\r\n            await callwaitHooks.call(this, true);\r\n        } else {\t// 需要跳转\r\n            variation = await callwaitHooks.call(this, false);\t// 只触发app.vue中的生命周期\r\n            await appletsUniPushTo(finalRoute, fnType);\r\n        }\r\n        uniAppHook.pageReady = true;\t\t// 标致着路由已经就绪 可能准备起飞\r\n        callVariationHooks(variation);\r\n    });\r\n};\r\n/**\r\n * 把指定页面的生命钩子函数保存并替换\r\n * this 为当前 page 对象\r\n */\r\nexport const appletsProxyIndexHook = function (Router) {\r\n    if (process.env.VUE_APP_PLATFORM == 'mp-toutiao') { // 头条小程序首页生命周期由我们手动触发，缓存this\r\n        uniAppHook.toutiaoIndexThis = this;\r\n    }\r\n    const { needHooks, waitHooks } = uniAppHook;\r\n    const options = this.$options;\r\n    uniAppHook.indexVue = options;\r\n    for (let i = 0; i < needHooks.length; i += 1) {\r\n        const key = needHooks[i];\r\n        if (options[key] != null) {\t// 只劫持开发者声明的生命周期\r\n            const { length } = options[key];\r\n            // eslint-disable-next-line\r\n            const whObject= waitHooks[key]={};\r\n            whObject.fun = options[key].splice(length - 1, 1, noop);\t// 把实际的页面生命钩子函数缓存起来,替换原有的生命钩子\r\n            whObject.isHijack = true;\r\n        }\r\n    }\r\n    triggerLifeCycle.call(this, Router);\t// 接着 主动我们触发导航守卫\r\n};\r\n/**\r\n * 验证当前 next() 管道函数是否支持下一步\r\n *\r\n * @param {Object} Intercept 拦截到的新路由规则\r\n * @param {Object} fnType 跳转页面的类型方法 原始的\r\n * @param {Object} navCB 回调函数 原始的\r\n * @param {Boolean} leaveHookCall:? 是否为 beforeRouteLeave 触发的next 做拦截判断\r\n * this 为当前 Router 对象\r\n *\r\n */\r\nconst isNext = function (Intercept, fnType, navCB, leaveHookCall = false) {\r\n    return new Promise((resolve, reject) => {\r\n        if (Intercept == null) {\t\t// 什么也不做 直接执行下一个钩子\r\n            return resolve();\r\n        }\r\n        if (Intercept === false) {\t\t// 路由中断 我们需要把防抖设置为false\r\n            Global.LockStatus = false; // 解锁跳转状态\r\n            return reject('路由终止');\r\n        }\r\n        if (Intercept.constructor === String) {\t\t// 说明 开发者直接传的path 并且没有指定 NAVTYPE 那么采用原来的navType\r\n            reject('next到其他页面');\r\n            return appletsTransitionTo.call(this, Intercept, fnType, navCB, leaveHookCall);\r\n        }\r\n        if (Intercept.constructor === Object) {\t// 有一系列的配置 包括页面切换动画什么的\r\n            reject('next到其他页面');\r\n            return appletsTransitionTo.call(this, Intercept, Intercept.NAVTYPE || fnType, navCB, leaveHookCall);\r\n        }\r\n    });\r\n};\r\n","import { Global, route as mergeRoute } from '../helpers/config';\nimport { copyObject, parseQuery } from '../helpers/util';\nimport { err } from '../helpers/warn';\nimport { baiduApple, touTiao } from '../helpers/compile';\n/**\n * 触发指定生命钩子\n * @param {Array} funList\t//需要执行的方法列表\n * @param {Object} args //触发生命钩子传递的参数\n */\nexport const callAppHook = function (funList, args) {\n    for (let i = 0; i < funList.length; i += 1) {\n        funList[i].call(this, args);\n    }\n};\n/**\n * @param {Object} page //当前顶级页面对象\n * @param {Object} vim:? //是否获取 $vm 对象还是 $mp 对象\n */\nexport const getPageVmOrMp = function (page, vim = true) {\n    if (vim) {\n        return page.$vm;\n    }\n    const { $mp } = page.$vm;\n    baiduApple(() => {\t// 百度小程序新增一个route属性\n        $mp.page.route = $mp.page.is;\n    });\n    touTiao(() => {\t// 头条小程序新增一个route属性\n        $mp.page.route = $mp.page.is;\n    });\n    return $mp;\n};\n/**\n * 统一格式话 路由传递的参数 看看是编码还是非编码 做相应的对策\n *\n * @param {Object} query 当前的路由参数\n * @param {Boolean} getter 是从页面获取 route 对象下的参数 还是编码后传输\n */\nexport const getFormatQuery = function (query = {}, getter = false) {\n    if (Global.Router.CONFIG.encodeURI) {\n        if (getter) {\n            try {\t\t// 除去微信小程序都不需要 decodeURIComponent\n                query = JSON.parse(decodeURIComponent(query.query) || '{}');\n            } catch (e) {\t// 其他小程序\n                query = JSON.parse(query.query || '{}');\n            }\n        } else {\n            try {\n                query = JSON.parse(decodeURIComponent(query.query || encodeURIComponent('{}')));\n            } catch (e) {\n                query = JSON.parse(query.query);\n            }\n        }\n    }\n    return query;\n};\n/**\n * @param {Number} index //需要获取的页面下标 -2:表示获取最后一个即当前页面 -1:表示全部 -3:当前页面的前一个页面\n * @param {Boolean} all //是否获取全部的页面\n */\nexport const getPages = function (index = -1, all) {\n    const pages = getCurrentPages(all);\n    if (index === -1) {\n        return pages;\n    }\n    if (index === -2) {\n        return pages[pages.length - 1];\n    }\n    if (index === -3) {\n        return pages[pages.length - 2];\n    }\n    return pages[index];\n};\n/**\n * 通过一个未知的路径或者名称 在路由表中查找指定路由表 并返回\n * @param {string} type   //path 或者 name\n * @param {Object} routes //当前对象的所有路由表\n */\nexport const pathOrNameToRoute = function (type, routes = Global.Router.CONFIG.routes) {\n    const routesKeys = Object.keys(routes);\n    for (let i = 0; i < routesKeys.length; i += 1) {\n        const key = routesKeys[i];\n        const item = routes[key];\n        if (item.path === `/${type}`) {\n            return mergeRoute(item); // 合并一下对象,主要是合并 query:{} 及 params:{}\n        }\n        if (item.path === type) {\n            return mergeRoute(item); // 合并一下对象,主要是合并 query:{} 及 params:{}\n        }\n        if (item.name == type) {\n            return mergeRoute(item); // 合并一下对象,主要是合并 query:{} 及 params:{}\n        }\n    }\n    err(`当前 '${type}' 在路由表中没有找到匹配的 name 或者 path`);\n};\n\n/**\n * 获取 to 的配置参数\n * @param {Object} rule 当前跳转的规则\n */\nexport const formatTo = function (finalRoute) {\n    const route = copyObject(finalRoute.route);\n    const { rule } = finalRoute;\n    route.query = rule.query || rule.params || {};\n    return route;\n};\n\n/**\n * 获取 from 的配置参数 from 页面永远都是站在当前页面忘其它地方走 所以都是最后一个页面\n *\n * @param {Object} routes //当前对象的所有路由表\n */\nexport const formatFrom = function (routes) {\n    const topPage = getPages(-2);\n    const { page, query } = getPageVmOrMp(topPage, false);\n    const route = pathOrNameToRoute(page.route, routes);\t// 获取到当前路由表下的 route\n    route.query = getFormatQuery(query);\t// 不管是编码传输还是非编码 最后都得在 to/from 中换成json对象\n    return route;\n};\n\n/**\n *\n * 把用户的跳转路由规则格式化成uni-app可用的路由跳转规则\n *\n * @param {Object} rule  //当前用户跳转的路由规则\n * @param {Object} routes //当前simple-router 下的路由表\n */\nexport const ruleToUniNavInfo = function (rule, routes) {\n    if (rule == null) {\n        return err('当前跳转规则为空,请检查跳转代码');\n    }\n    // eslint-disable-next-line\n    let [navType, route, query] = ['path', null, {}];\n    if (rule.constructor === String) {\t\t// 是字符串类型 那当前就是路径啦\n        route = pathOrNameToRoute(rule, routes);\t// 直接把 rule 当 path 传递 完事\n    } else if (rule.constructor === Object) {\t\t// 对象类型 可以是 path 或者 name\n        route = pathOrNameToRoute(rule.path || (navType = 'name', rule.name), routes);\t// 两则必有其一 报错自己处理\n        query = rule.query || rule.params || {};\n    } else {\n        return err('传的什么乱七八糟的类型?路由跳转规则只认字符串 \\'path\\' , 对象 \\'path\\' , 对象 \\'name\\' ');\n    }\n    // 路径处理完后   开始格式化参数\n    const uniRoute = parseQuery(route.path, query);\t// uni-app 需要的跳转规则\n    return {\n        rule,\n        route,\n        uniRoute,\n    };\n};\n/**\n * 获取当前页面下的 Route 信息\n *\n * @param {Object} pages 获取页面对象集合\n * @param {Object} Vim 用户传递的当前页面对象\n */\nexport const AppletsPageRoute = function (pages, Vim) {\n    let [query, path] = [{}, ''];\n    const page = pages[pages.length - 1];\t// 获取到当前页面\n    if (pages.length > 0) {\n        const uniQuery = getPageVmOrMp(page, false).query;\n        query = getFormatQuery(uniQuery, true);\n        path = page.route;\n    } else if (Vim != null) {\n        query = getFormatQuery(Vim.$mp.page.options, true);\n        path = page.route;\n    }\n    const route = pathOrNameToRoute(path);\n    route.query = query;\n    return route;\n};\n","export const H5 = function (fn) {\n\n\n\n};\nexport const APP = function (fn) {\n\n\n\n};\nexport const applets = function (fn) {\n\n    fn();\n\n};\nexport const notH5 = function (fn) {\n\n    fn();\n\n};\nexport const baiduApple = function (fn) {\n\n\n\n};\nexport const touTiao = function (fn) {\n\n\n\n};\nexport const mp = function (fn) {\n\n    fn();\n\n};\n","\nimport { methods, Global } from '../helpers/config';\nimport { formatURLQuery } from '../helpers/util';\n\n\n/**\n * @param {Object} finalRoute 格式化后的路由跳转规则\n * @param {Object} NAVTYPE 需要调用的跳转方法\n */\nconst appletsUniPushTo = function (finalRoute, NAVTYPE) {\n    return new Promise((resolve) => {\n        const query = formatURLQuery(`?${finalRoute.uniRoute.query}`);\n        const { url } = finalRoute.uniRoute;\n        uni[methods[NAVTYPE]]({\n            url: url + query,\n            complete: () => {\n                resolve(url);\n                Global.LockStatus = false; // 跳转完成解锁状态\n            },\n        });\n    });\n};\nexport default appletsUniPushTo;\n","import { err } from '../helpers/warn';\nimport { formatUserRule, strPathToObjPath } from './util';\n\n/**\n * @param {Object} replace vue-router的跳转方式\n * @param {Object} rule 需要跳转到的路由匹配规则\n * @param {Object} type 对应的官方跳转模式\n *\n * this 为当前 Router 实例\n */\nconst H5PushTo = function (replace, rule, type) {\n    if (this.$route == null) {\n        return err('h5端路由为就绪，请检查调用代码');\n    }\n    rule = formatUserRule(rule, this.selfRoutes, this.CONFIG);\n    const objPath = strPathToObjPath(rule);\n    objPath.type = type;\n    this.$route[replace](objPath);\n};\n\nexport default H5PushTo;\n","import { warn, err } from '../helpers/warn';\r\nimport { isObject, resolveRule, copyObject } from '../helpers/util';\r\nimport { proxyBeforeEnter } from './proxy/proxy';\r\nimport { Global } from '../helpers/config';\r\n\r\nconst pagesConfigReg = /props:\\s*\\(.*\\)\\s*(\\([\\s\\S]*\\))\\s*},/;\r\nconst pagesConfigRegCli = /props:\\s*Object\\.assign\\s*(\\([\\s\\S]*\\))\\s*},/; // 脚手架项目\r\nconst defRoutersReg = /props:\\s*{([\\s\\S]+)}\\s*},/;\r\n\r\n/**\r\n * 解析验证当前的 component 选项是否配置正确 只有vueRouterDev:false 才会调用此方法\r\n * @param {Function|Object} component\r\n * @param {Object} item\r\n * @param {Boolean} useUniConfig\r\n */\r\nexport const resolveRender = function ({\r\n    component,\r\n    components,\r\n}, item, useUniConfig) {\r\n    if (components != null) {\r\n        warn(`vueRouterDev:false时 路由表配置中 ‘components’ 无效，\\r\\n\\r\\n ${JSON.stringify(item)}`);\r\n    }\r\n    if (useUniConfig == true) { // 采用uni-pages.json中的配置时component可以为空\r\n        return false;\r\n    }\r\n    if (item.path == '*') { // 唯独这个情况在vue-router中可以不用component\r\n        return true;\r\n    }\r\n    if (component == null) {\r\n        return err(`vueRouterDev:false时 路由表中 ‘component’ 选项不能为空：\\r\\n\\r\\n ${JSON.stringify(item)}`);\r\n    }\r\n    if (component.constructor === Function) {\r\n        item.component = {\r\n            render: component,\r\n        };\r\n    } else if (component.constructor === Object) {\r\n        if (component.render == null || component.render.constructor !== Function) {\r\n            err(`vueRouterDev:false时 路由表配置中 ‘render’ 函数缺失或类型不正确：\\r\\n\\r\\n ${JSON.stringify(item)}`);\r\n        }\r\n    } else {\r\n        err(\r\n            `vueRouterDev:false时 路由表配置中 ‘component’ 选项仅支持 Function、Object 类型。并确保 Object 类型时传递了 ‘render’ 函数  ：\\r\\n\\r\\n ${JSON.stringify(item)}`,\r\n        );\r\n    }\r\n};\r\n/**\r\n * 递归解析 H5配置中有存在嵌套对象的情况,优先以path为key存储。没有则找aliasPath作为key\r\n * @param {Object} objRoutes\r\n * @param {Array} children\r\n * @param {Boolean} useUniConfig 是否使用pages.json下的页面配置\r\n */\r\nexport const resloveChildrenPath = function (objRoutes, children, useUniConfig) {\r\n    for (let i = 0; i < children.length; i += 1) {\r\n        const item = children[i];\r\n        resolveRender(item, item, useUniConfig);\r\n        if (item.path != null) {\r\n            objRoutes[item.path] = {\r\n                ...item,\r\n                ...{\r\n                    _ROUTERPATH: true, // 使用page.json中的path为路径\r\n                },\r\n            };\r\n        } else {\r\n            objRoutes[item.aliasPath] = {\r\n                ...item,\r\n                ...{\r\n                    _ROUTERPATH: false,\r\n                },\r\n            };\r\n        }\r\n        if (item.children && item.children.constructor === Array) {\r\n            resloveChildrenPath(objRoutes, item.children, useUniConfig);\r\n        }\r\n    }\r\n};\r\n/**\r\n * 格式化原始路由表\r\n * @param {Object} routes  路由表\r\n * @param {Boolean} userRoute  是否为用户自己配置的路由表\r\n * @param {Boolean} H5CONFIG\r\n */\r\nexport const fromatRoutes = function (routes, userRoute, {\r\n    vueRouterDev,\r\n    useUniConfig,\r\n}) {\r\n    if (userRoute && vueRouterDev) { // 如果是用户的路由表并且 完全采用vueRouter开发 则不作处理直接返回\r\n        return routes;\r\n    }\r\n    const objRoutes = {};\r\n    for (let i = 0; i < routes.length; i += 1) {\r\n        const item = routes[i];\r\n        const path = item.path === '/' ? item.alias : item.path;\r\n        if (userRoute) {\r\n            if (item.children && item.children.constructor === Array) {\r\n                resloveChildrenPath(objRoutes, item.children, useUniConfig);\r\n            }\r\n            resolveRender(item, item, useUniConfig); // 是否使用pages.json下的页面配置\r\n        }\r\n        objRoutes[path] = {\r\n            ...item,\r\n            ...{\r\n                _PAGEPATH: path.substring(1),\r\n            },\r\n        };\r\n    }\r\n    return objRoutes;\r\n};\r\n\r\n/**\r\n * 解析vueRouter中 component 下 render函数中的配置信息\r\n * @param {String} FunStr\r\n */\r\nexport const getFuntionConfig = function (FunStr) {\r\n    let matchText = FunStr.match(pagesConfigReg);\r\n    let prefix = '';\r\n    if (matchText == null) { // 是uni-app自带的默认路由及配置 也可能是脚手架项目\r\n        matchText = FunStr.match(pagesConfigRegCli);\r\n        if (matchText == null) { // 确认不是脚手架项目\r\n            try {\r\n                // eslint-disable-next-line\r\n                matchText = FunStr.match(defRoutersReg)[1];\r\n                // eslint-disable-next-line\r\n                matchText = eval(`Object.assign({${matchText}})`);\r\n                prefix = 'system-';\r\n            } catch (error) {\r\n                err(`读取uni-app页面构建方法配置错误 \\r\\n\\r\\n ${error}`);\r\n            }\r\n        } else {\r\n            // eslint-disable-next-line\r\n            matchText = eval(`Object.assign${matchText[1]}`);\r\n        }\r\n    } else {\r\n        // eslint-disable-next-line\r\n        matchText = eval(`Object.assign${matchText[1]}`);\r\n    }\r\n    return {\r\n        config: matchText,\r\n        prefix,\r\n        FunStr,\r\n    };\r\n};\r\n/**\r\n * 通过一个未知的路径名称 在路由表中查找指定路由表 并返回\r\n * @param {String} path //不管是aliasPath名的路径还是path名的路径\r\n * @param {Object} routes//当前对象的所有路由表\r\n */\r\nexport const pathToRute = function (path, routes) {\r\n    let PATHKEY = '';\r\n    let rute = {};\r\n    const routeKeys = Object.keys(routes);\r\n    for (let i = 0; i < routeKeys.length; i += 1) {\r\n        const key = routeKeys[i];\r\n        const item = routes[key];\r\n        rute = item;\r\n        if (item.aliasPath == path) { // path参数是优先采用aliasPath为值得 所以可以先判断是否与aliasPath相同\r\n            PATHKEY = 'aliasPath';\r\n            break;\r\n        }\r\n        // eslint-disable-next-line\r\n        if (`/${item._PAGEPATH}` == path) { // 路径相同\r\n            PATHKEY = 'path';\r\n            break;\r\n        }\r\n    }\r\n    return {\r\n        PATHKEY: {\r\n            [PATHKEY]: path,\r\n        },\r\n        rute,\r\n    };\r\n};\r\n/**\r\n * 通过一个路径name 在路由表中查找指定路由表 并返回\r\n * @param {String} name//实例化路由时传递的路径表中所匹配的对应路由name\r\n * @param {Object} routes//当前对象的所有路由表\r\n */\r\nexport const nameToRute = function (name, routes) {\r\n    const routesKeys = Object.keys(routes);\r\n    for (let i = 0; i < routesKeys.length; i += 1) {\r\n        const key = routesKeys[i];\r\n        const item = routes[key];\r\n        if (item.name == name) {\r\n            return item;\r\n        }\r\n    }\r\n\r\n    err(`路由表中没有找到 name为:'${name}' 的路由`);\r\n};\r\n/**\r\n * 根据用户传入的路由规则 格式化成正确的路由规则\r\n * @param {Object} rule 用户需要跳转的路由规则\r\n * @param {Object} selfRoutes simple-router下的所有routes对象\r\n * @param {Object} CONFIG 当前路由下的所有配置信息\r\n */\r\nexport const formatUserRule = function (rule, selfRoutes, CONFIG) {\r\n    let type = '';\r\n    const ruleQuery = (type = 'query', rule.query || (type = 'params', rule.params)) || (type = '', {});\r\n    let rute = {}; // 默认在router中的配置\r\n    if (type == '' && rule.name != null) { // 那就是可能没有穿任何值咯\r\n        type = 'params';\r\n    }\r\n    if (type != 'params') {\r\n        const route = pathToRute(rule.path || rule, selfRoutes);\r\n        if (Object.keys(route.PATHKEY)[0] == '') {\r\n            err(`'${route.PATHKEY['']}' 路径在路由表中未找到`);\r\n            return null;\r\n        }\r\n        rute = route.rute;\r\n        if (rule.path) {\r\n            rule.path = rute.path;\r\n        }\r\n    }\r\n    if (type != '') { // 当然是对象啦 这个主要是首页H5PushTo调用时的\r\n        if (type == 'params' && CONFIG.h5.paramsToQuery) { // 如果是name规则并且设置了转query,那么就转path跳转了\r\n            const {\r\n                aliasPath,\r\n                path,\r\n            } = nameToRute(rule.name, selfRoutes);\r\n            delete rule.name;\r\n            delete rule.params;\r\n            rule.path = aliasPath || path;\r\n            type = 'query';\r\n        }\r\n        const query = Global.$parseQuery.transfer(ruleQuery);\r\n        if (CONFIG.encodeURI) {\r\n            if (query != '') {\r\n                rule[type] = {\r\n                    query: query.replace(/^query=/, ''),\r\n                };\r\n            }\r\n        } else {\r\n            rule[type] = ruleQuery;\r\n        }\r\n    } else { // 纯字符串,那就只有是path啦\r\n        rule = rute.path;\r\n    }\r\n    return rule;\r\n};\r\n\r\n/**\r\n * 根据是否获取非vue-Router next管道参数，来进行格式化\r\n *\r\n * @param {Object} to\r\n * @param {Object} from\r\n * @param {Router} Router  //router当前实例对象\r\n */\r\nexport const getRouterNextInfo = function (to, from, Router) {\r\n    let [toRoute, fromRoute] = [to, from];\r\n    const H5 = Router.CONFIG.h5;\r\n    if (H5.vueNext === false && H5.vueRouterDev === false) { // 不采用vue-router中的to和from,需要格式化成Router中$Route获取的一样一样的\r\n        let [toPath, fromPath] = [{}, {}];\r\n        toPath[to.meta.PATHKEY] = to.meta.PATHKEY === 'path' ? `/${to.meta.pagePath}` : `${to.path}`;\r\n        fromPath[from.meta.PATHKEY] = from.meta.PATHKEY === 'path' ? `/${from.meta.pagePath}` : `${from.path}`;\r\n\r\n        if (to.meta.PATHKEY == null) { // 未使用uni-pages.json中的配置、通过addRoutes时 meta.PATHKEY 可能未undefined\r\n            toPath = pathToRute(to.path, Router.selfRoutes).PATHKEY;\r\n        }\r\n        if (from.meta.PATHKEY == null) {\r\n            fromPath = pathToRute(from.path, Router.selfRoutes).PATHKEY;\r\n        }\r\n\r\n        const isEmptyTo = Object.keys(to.query).length != 0 ? copyObject(to.query) : copyObject(to.params);\r\n        const isEmptyFrom = Object.keys(from.query).length != 0 ? copyObject(from.query) : copyObject(from.params);\r\n        /* eslint-disable */\r\n        delete isEmptyTo.__id__; // 删除uni-app下的内置属性\r\n        delete isEmptyFrom.__id__;\r\n        /* eslint-enable */\r\n        const toQuery = Global.$parseQuery.queryGet(isEmptyTo).decode;\r\n        const fromQuery = Global.$parseQuery.queryGet(isEmptyFrom).decode;\r\n        toRoute = resolveRule(Router, toPath, toQuery, Object.keys(toPath)[0]);\r\n        fromRoute = resolveRule(Router, fromPath, fromQuery, Object.keys(fromPath)[0]);\r\n    } else {\r\n        if (fromRoute.name == null && toRoute.name != null) { // 这种情况是因为uni-app在使用vue-router时搞了骚操作。\r\n            fromRoute = {\r\n                ...fromRoute,\r\n                ...{\r\n                    name: toRoute.name,\r\n                },\r\n            }; // 这个情况一般出现在首次加载页面\r\n        }\r\n    }\r\n    return {\r\n        toRoute,\r\n        fromRoute,\r\n    };\r\n};\r\nexport const vueDevRouteProxy = function (routes, Router) {\r\n    const proxyRoutes = [];\r\n    for (let i = 0; i < routes.length; i += 1) {\r\n        const item = routes[i];\r\n        const childrenRoutes = Reflect.get(item, 'children');\r\n        if (childrenRoutes != null) {\r\n            const childrenProxy = vueDevRouteProxy(childrenRoutes, Router);\r\n            item.children = childrenProxy;\r\n        }\r\n        const ProxyRoute = proxyBeforeEnter(Router, item);\r\n        proxyRoutes.push(ProxyRoute);\r\n    }\r\n    return proxyRoutes;\r\n};\r\n/**\r\n * 组装成编码后的路由query传递信息\r\n * @param {Object} CONFIG simple-router 对象配置\r\n * @param {Object} query 传递的参数\r\n * @param {Object} mode 路由模式\r\n */\r\n\r\nexport const encodeURLQuery = function (CONFIG, query, mode) {\r\n    if (Object.keys(query).length == 0) { // 没有传值的时候 我们啥都不管\r\n        return '';\r\n    }\r\n    if (CONFIG.h5.vueRouterDev === false) { // 没有采取完全模式开发时 才转换\r\n        const { strQuery, historyObj } = Global.$parseQuery.queryGet(query);\r\n        if (mode === 'history') {\r\n            return historyObj;\r\n        }\r\n        return strQuery;\r\n    } // 完全彩种 vue-router 开发的时候 我们不用管\r\n    if (mode === 'history') { // 此模式下 需要的就是对象\r\n        return query;\r\n    }\r\n    return Global.$parseQuery.stringify(query); // hash转成字符串拼接\r\n};\r\n/**\r\n * 把一个未知的路由跳转规则进行格式化为 hash、history 可用的,主要表现在 history模式下直接传入path会报错__id__错误的问题\r\n * @param {*} path 需要判断修改的路径规则\r\n */\r\nexport const strPathToObjPath = function (path) {\r\n    if (path == null) { // 我们也不用管啦,这个情况是路由守卫中传递的\r\n        return path;\r\n    }\r\n    if (isObject(path)) { // 是对象我们不用管\r\n        return path;\r\n    }\r\n    return { // 这种情况就是只有path时,直接返回path对象了\r\n        path,\r\n    };\r\n};\r\n/**\r\n * 通过 getCurrentPages() api 获取指定页面的 page 对象 默认是获取当前页面page对象\r\n * @param {Number} index //需要获取的页面索引\r\n * @param {Boolean} all //是否获取全部的页面\r\n */\r\nexport const getPages = function (index = 0, all) {\r\n    const pages = getCurrentPages(all);\r\n    return pages.reverse()[index];\r\n};\r\n/**\r\n * 获取当前页面下的 Route 信息\r\n *\r\n * @param {Object} pages 获取页面对象集合\r\n * @param {Object} Vim 用户传递的当前页面对象\r\n */\r\nexport const H5GetPageRoute = function (pages, Vim) {\r\n    if (pages.length > 0) { // 直接取当前页面的对象\r\n        const currentRoute = pages[pages.length - 1].$route;\r\n        return getRouterNextInfo(currentRoute, currentRoute, this).toRoute;\r\n    } if (Vim && Vim.$route) {\r\n        return getRouterNextInfo(Vim.$route, Vim.$route, this).toRoute;\r\n    }\r\n    return {};\r\n};\r\n\r\n/**\r\n * 在useUniConfig:true 的情况下重新拼装路由表 useUniConfig:false 不需要读取page.json中的数据 直接使用component作为页面组件\r\n * @param {Router} Router//unis-simple-router 路由对象\r\n * @param {vueRouter} vueRouter//vue-router对象\r\n * @param {Boolean} useUniConfig//是否采用uni-page.json中的配置选项\r\n * @param {Array} routes//需要循环的routes表\r\n */\r\nexport const diffRouter = function (Router, vueRouter, useUniConfig, routes) {\r\n    const newRouterMap = [];\r\n    if (useUniConfig) { // 使用pages.json的样式配置 只是单纯的把url路径改成用户自定义的 保留uni的所以的配置及生命周期、缓存\r\n        const Routes = routes || vueRouter.options.routes;\r\n        const cloneSelfRoutes = copyObject(Router.selfRoutes); // copy一个对象随便搞xxoo\r\n        Routes.forEach(((item) => {\r\n            const path = item.path === '/' ? item.alias : item.path;\r\n            const vueRoute = (Router.vueRoutes[path] || Router.vueRoutes[item.path]) || Router.selfRoutes[path];\r\n            const CselfRoute = Router.selfRoutes[path];\r\n            delete cloneSelfRoutes[path]; // 移除已经添加到容器中的路由，用于最后做对比 是否page.json中没有，而实例化时传递了\r\n            if (CselfRoute == null) {\r\n                return err(\r\n                    `读取 ‘pages.json’ 中页面配置错误。实例化时传递的路由表中未找到路径为：${path} \\r\\n\\r\\n 可以尝试把 ‘useUniConfig’ 设置为 ‘false’。或者配置正确的路径。如果你是动态添加的则不用理会`,\r\n                );\r\n            }\r\n            let pageConfigJson = {\r\n                config: {},\r\n            };\r\n            if (vueRoute.component) {\r\n                pageConfigJson = getFuntionConfig(vueRoute.component.render.toString());\r\n                CselfRoute.component = {\r\n                    render: (h) => vueRoute.component.render(h),\r\n                };\r\n            }\r\n            delete CselfRoute.components; // useUniConfig:true 时不允许携带components\r\n            delete CselfRoute.children; // useUniConfig:true 时不允许携带children\r\n            CselfRoute.meta = {\r\n                ...pageConfigJson.config,\r\n                ...item.meta || {},\r\n                PATHKEY: CselfRoute.aliasPath ? 'aliasPath' : 'path',\r\n                pagePath: CselfRoute.path.substring(1),\r\n            };\r\n            CselfRoute.path = CselfRoute.aliasPath || (item.path === '/' ? item.path : CselfRoute.path);\r\n            item.alias = item.path === '/' ? item.alias : CselfRoute.path; // 重新给vueRouter赋值一个新的路径，欺骗uni-app源码判断\r\n            const ProxyRoute = proxyBeforeEnter(Router, CselfRoute);\r\n            newRouterMap.push(ProxyRoute);\r\n        }));\r\n        if (Object.keys(cloneSelfRoutes).length > 0) { // 确实page.json中没有，而实例化时传递了\r\n            const testG = cloneSelfRoutes['*']; // 全局通配符,他是个例外'通配符'可以被添加\r\n            if (testG && routes == null) {\r\n                const ProxyRoute = proxyBeforeEnter(Router, Router.selfRoutes['*']);\r\n                newRouterMap.push(ProxyRoute);\r\n            }\r\n            if (routes == null) { // 非动态添加时才打印警告\r\n                const cloneSelfRoutesKeys = Object.keys(cloneSelfRoutes);\r\n                for (let i = 0; i < cloneSelfRoutesKeys.length; i += 1) {\r\n                    const key = cloneSelfRoutesKeys[i];\r\n                    if (key !== '*') { // 通配符不警告\r\n                        warn(`实例化时传递的routes参数：\\r\\n\\r\\n ${JSON.stringify(cloneSelfRoutes[key])} \\r\\n\\r\\n 在pages.json中未找到。自定排除掉，不会添加到路由中`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    } else { // 不使用任何的uni配置完全使用 完全使用component作为页面使用\r\n        const Routes = routes || Router.selfRoutes;\r\n        const RoutesKeys = Object.keys(Routes);\r\n        for (let i = 0; i < RoutesKeys.length; i += 1) {\r\n            const key = RoutesKeys[i];\r\n            const item = Routes[key];\r\n            // eslint-disable-next-line\r\n            if (item._ROUTERPATH != null) { // 不寻找children下的路径，只取第一层\r\n                continue;\r\n            }\r\n            delete item.components;\r\n            delete item.children;\r\n            item.path = item.aliasPath || item.path; // 优先获取别名为路径\r\n            if (item.path !== '*') {\r\n                item.component = item.component.render || item.component; // render可能是用户使用addRoutes api进行动态添加的\r\n            }\r\n            item.meta = {\r\n                ...item.meta || {},\r\n                PATHKEY: item.aliasPath ? 'aliasPath' : 'path',\r\n                pagePath: item.path.substring(1),\r\n            };\r\n            const ProxyRoute = proxyBeforeEnter(Router, item);\r\n            newRouterMap.push(ProxyRoute);\r\n        }\r\n    }\r\n    return newRouterMap;\r\n};\r\n","import { beforeEnterHooks } from '../concat';\nimport { vuelifeHooks } from '../base';\nimport MyArray from '../extends/myArray';\n\n/**\n * 通过 Object.defineProperty 代理一个对象主要是拦截beforeEnter 生命钩子\n * @param {Router} Router  路由实例对象\n * @param {Object} BeProxy 需要代理的路由表\n */\nexport const proxyBeforeEnter = function (Router, BeProxy) {\n    const proxyDc = Object.create(null);// 创建没有继承的属性\n    const BeProxyKeys = Object.keys(BeProxy);\n    for (let i = 0; i < BeProxyKeys.length; i += 1) {\n        const key = BeProxyKeys[i];\n        Object.defineProperty(proxyDc, key, {\n            enumerable: true,\n            configurable: true,\n            get() {\n                const value = BeProxy[key];\n                if (key == 'beforeEnter' && value !== undefined) {\n                    return (to, from, next) => {\n                        beforeEnterHooks(to, from, next, value, Router);\n                    };\n                }\n                return value;\n            },\n            set(v) {\n                BeProxy[key] = v;\n            },\n        });\n    }\n    return proxyDc;\n};\n\n/**\n * 在uni-app没有注入生命周期时先直接代理相关生命周期数组\n * @param {Object} Router\n * @param {Object} key\n * @param {Funtion} hookFun\n */\nexport const proxyEachHooks = function (Router, key, hookFun) {\n    const vueOldHooks = vuelifeHooks[key];\n    return new MyArray(Router, vueOldHooks, hookFun);\n};\n","import { warn, err } from '../helpers/warn';\r\nimport {\r\n    diffRouter, vueDevRouteProxy, getRouterNextInfo, formatUserRule, nameToRute, encodeURLQuery, strPathToObjPath, getPages,\r\n} from './util';\r\nimport { formatURLQuery } from '../helpers/util';\r\nimport { vuelifeHooks, vueMount } from './base';\r\nimport { lifeCycle, Global } from '../helpers/config';\r\n\r\nlet beforeEachCount = 0;\r\nlet afterEachCount = 0;\r\nlet resolveLaunch = null;\r\nlet beforeEnterDep = [];// 记录当前是否有重复的页面进入 避免重复触发\r\nconst beforeEachLaunch = new Promise((resolve) => resolveLaunch = resolve);\r\n\r\n/**\r\n * 把vue实例进行挂载到dom下\r\n * @param {Router} Router uni-simple-router实例对象\r\n */\r\nexport const appMount = function () {\r\n    if (vueMount.length == 0) {\r\n        return err('检测到您未进行dom模型挂载操作，请调用api\\r\\n\\r\\n RouterMount(Vim: any, el: any): void');\r\n    }\r\n    const {\r\n        Vim,\r\n        el,\r\n    } = vueMount[0];\r\n    let formatEl = el;\r\n    if (el == null) {\r\n        formatEl = '#app'; // 这是uni-app在h5中的官方节点\r\n    }\r\n    try {\r\n        Vim.$mount(formatEl);\r\n    } catch (error) {\r\n        warn(`挂载vue节点时错误啦${error}`);\r\n    }\r\n};\r\n\r\n/**\r\n * 格式化 next传递过来的参数 作为vue-router可用的\r\n * @param {Object} to//即将跳转到的路由页面\r\n * @param {*} Intercept\r\n * @param {Funtion} next//路由连接管道\r\n * @param {Router} Router//路由对象\r\n */\r\nexport const forMatNext = function (to, Intercept, next, Router) {\r\n    const { CONFIG, selfRoutes } = Router;\r\n    if (CONFIG.h5.vueRouterDev) { // 完全使用vue-router开发的时候 vueRouterDev:true 不用做啥直接略过\r\n        next(Intercept);\r\n        return Intercept;\r\n    }\r\n    if (typeof Intercept === 'object') { // 只有是对象类型的时候 我们才进行格式化\r\n        const navType = Reflect.get(Intercept, 'NAVTYPE');\r\n        delete Intercept.NAVTYPE;\r\n        if (navType == 'push') {\r\n            Intercept.replace = false;\r\n            Intercept.type = 'navigateTo';\r\n        } else {\r\n            Intercept.replace = true; // uni-app导航api所谓的NAVTYPE取值在h5都是replace:true\r\n            Intercept.type = 'reLaunch';\r\n        }\r\n        const name = Reflect.get(Intercept, 'name'); // 统一格式化path\r\n        Intercept.query = Intercept.params || Intercept.query;\r\n        delete Intercept.name;\r\n        delete Intercept.params;\r\n        if (Intercept.query == null) {\r\n            Intercept.query = {};\r\n        }\r\n        if (name != null) {\r\n            const { aliasPath, path } = nameToRute(name, selfRoutes);\r\n            Intercept.path = aliasPath || path;\r\n        } else { // 当设置别名时可以是别名跳转也可以path跳转\r\n            Intercept.path = Reflect.get(Intercept, 'path');\r\n            const rute = formatUserRule(Intercept.path, selfRoutes, CONFIG);\r\n            if (rute == null) {\r\n                return false;\r\n            }\r\n            Intercept.path = rute;\r\n        }\r\n        if (CONFIG.encodeURI) { // 如果设置的编码传递则进行编码后传递\r\n            const query = encodeURIComponent(JSON.stringify(Intercept.query));\r\n            const formatQuery = formatURLQuery(query);\r\n            Intercept.query = {};\r\n            if (formatQuery != '') {\r\n                Intercept.query.query = formatQuery;\r\n            }\r\n        }\r\n    } else if (Intercept != null && Intercept.constructor === String) {\r\n        Intercept = formatUserRule(Intercept, selfRoutes, CONFIG);\r\n    }\r\n    let objPath = Intercept;\r\n    if (Intercept != null && Intercept.constructor !== Boolean) {\r\n        objPath = strPathToObjPath(Intercept);\r\n        if (objPath != null) {\r\n            const type = Reflect.get(objPath, 'type');\r\n            if (type == null) { // 当next()是一个路径时\r\n                objPath.type = 'navigateTo';\r\n            }\r\n        }\r\n    } else if (Intercept === false) {\r\n        Router.lifeCycle.routerAfterHooks[0].call(Router, { H5Intercept: true });\r\n    }\r\n    next(objPath);// 统一格式化为对象的方式传递\r\n    return Intercept;\r\n};\r\n/**\r\n *  v1.5.4+\r\n * beforeRouteLeave 生命周期\r\n * @param {Object} to       将要去的那个页面 vue-router to对象\r\n * @param {Object} from     从那个页面触发的 vue-router from对象\r\n * @param {Object} next      vue-router beforeEach next管道函数\r\n * @param {Object} Router   Router路由对象\r\n */\r\nconst beforeRouteLeaveHooks = function (to, from, next, Router) {\r\n    return new Promise((resolve) => {\r\n        const { currentRoute } = Router.$route;\r\n        if (currentRoute.path == to.path) { // 如果是同一个页面直接返回  不执行页面中的Leave事件\r\n            return resolve();\r\n        }\r\n        const page = getPages(); // 获取到当前的页面对象\r\n        if (page == null || page._HHYANGbeforeRouteLeaveCalled) {\r\n            warn('当前环境下无须执行 beforeRouteLeave。 原因：1.page等于null  2.真的的无须执行');\r\n            return resolve();\r\n        }\r\n        const beforeRouteLeaveArray = page.$options.beforeRouteLeave; // 获取到页面下的 beforeRouteLeave 路由守卫\r\n        if (beforeRouteLeaveArray == null) { // 当前页面没有预设 beforeRouteLeave 啥都不做\r\n            return resolve();\r\n        }\r\n        const { toRoute, fromRoute } = getRouterNextInfo(to, from, Router);\r\n        const beforeRouteLeave = beforeRouteLeaveArray[0]; // 不管怎么样 只执行第一个钩子  其他都不管\r\n        beforeRouteLeave.call(page, toRoute, fromRoute, (Intercept) => { // 开始执行生命周期\r\n            if (Intercept == null) { // 放行状态  直接返回\r\n                return resolve();\r\n            }\r\n            page._HHYANGbeforeRouteLeaveCalled = true; // 标记一下当前已经做过 beforeRouteLeave 啦\r\n            forMatNext(to, Intercept, next, Router); // 直接交给vue-router 处理\r\n        });\r\n    });\r\n};\r\n\r\n/**\r\n * 修复首页beforeEnter执行两次的问题 https://github.com/SilurianYang/uni-simple-router/issues/67\r\n *\r\n * beforeEnter 生命周期\r\n * @param {Object} to\r\n * @param {Object} from\r\n * @param {Object} next\r\n * @param {Object} userHooks\r\n * @param {Object} Router\r\n */\r\nexport const beforeEnterHooks = function (to, from, next, userHooks, Router) {\r\n    return new Promise(async (resolve) => {\r\n        // 修复 (#67)\r\n        if (beforeEnterDep.includes(to.path)) {\r\n            next();\r\n            return resolve();\r\n        }\r\n        beforeEnterDep = [to.path];\r\n\r\n        if (Reflect.get(Router, 'H5RouterReady')) {\r\n            const res = await new Promise(async (resolveNext) => {\r\n                const {\r\n                    toRoute,\r\n                    fromRoute,\r\n                } = getRouterNextInfo(to, from, Router);\r\n                await userHooks(toRoute, fromRoute, resolveNext);\r\n            });\r\n            forMatNext(to, res, next, Router);\r\n        } else {\r\n            next();\r\n        }\r\n        resolve();\r\n    });\r\n};\r\n/**\r\n * vueAfter 生命周期\r\n * @param {Object} to\r\n * @param {Object} from\r\n * @param {Object} next\r\n * @param {Object} Router\r\n */\r\nexport const afterHooks = async function (to, from, next, Router) {\r\n    vuelifeHooks.afterHooks[0](to, from);\r\n    if (lifeCycle.afterHooks[0]) {\r\n        if (afterEachCount === 0) {\r\n            await beforeEachLaunch;\r\n            appMount(Router);\r\n        }\r\n        const {\r\n            toRoute,\r\n            fromRoute,\r\n        } = getRouterNextInfo(to, from, Router);\r\n        lifeCycle.afterHooks[0](toRoute, fromRoute);\r\n    } else if (afterEachCount === 0) {\r\n        appMount(Router);\r\n    }\r\n    afterEachCount += 1;\r\n    Router.lifeCycle.routerAfterHooks[0].call(Router);\r\n};\r\n/**\r\n * vueBefore 生命周期\r\n * @param {Object} to       将要去的那个页面 vue-router to对象\r\n * @param {Object} from     从那个页面触发的 vue-router from对象\r\n * @param {Object} next      vue-router beforeEach next管道函数\r\n * @param {Object} H5Config\r\n */\r\nexport const beforeHooks = function (to, from, next, Router) {\r\n    return new Promise(async (resolve) => {\r\n        await Router.lifeCycle.routerbeforeHooks[0].call(Router); // 触发Router内置前置生命周期\r\n        await beforeRouteLeaveHooks(to, from, next, Router); // 执行1.5.4+ beforeRouteLeave生命钩子\r\n        const H5 = Router.CONFIG.h5;\r\n        vuelifeHooks.beforeHooks[0](to, from, async (Intercept) => {\r\n            if (Intercept != null && H5.keepUniIntercept === true && H5.vueRouterDev === false) {\r\n                next(Intercept);\r\n                warn('uni-app 内部强制触发跳转拦截');\r\n                beforeEachCount += 1;\r\n                return resolve();\r\n            }\r\n            // 顺序问题 没有触发uni-app里面的方法 修复[#44](https://github.com/SilurianYang/uni-simple-router/issues/44)\r\n            if (!lifeCycle.beforeHooks[0]) {\r\n                next();\r\n                beforeEachCount += 1;\r\n                resolveLaunch();\r\n                return resolve();\r\n            }\r\n            const res = await new Promise(async (resolveNext) => {\r\n                const {\r\n                    toRoute,\r\n                    fromRoute,\r\n                } = getRouterNextInfo(to, from, Router);\r\n                await lifeCycle.beforeHooks[0](toRoute, fromRoute, resolveNext);\r\n            });\r\n            const beforeIntercept = forMatNext(to, res, next, Router);\r\n            if (beforeEachCount == 0 && beforeIntercept == null && to.meta.isTabBar) { // 首次触发beforeEach，并且首页没有进行跳转的情况下才触发beforeEnter 主要是keep-alive\r\n                const {\r\n                    selfRoutes,\r\n                } = Router;\r\n                const beforeEnter = Reflect.get(selfRoutes[`/${to.meta.pagePath}`], 'beforeEnter');\r\n                if (beforeEnter) {\r\n                    await beforeEnterHooks(to, from, next, beforeEnter, Router);\r\n                }\r\n            }\r\n            beforeEachCount += 1;\r\n            resolveLaunch();\r\n            resolve();\r\n        });\r\n    });\r\n};\r\n/**\r\n * 通过自动调用router api来完成触发生命周期\r\n * 修复 history 模式下报错的问题  https://github.com/SilurianYang/uni-simple-router/issues/38\r\n * 修复 history 模式下刷新页面参数丢失的问题 https://github.com/SilurianYang/uni-simple-router/issues/45\r\n * 修复 history 模式下首次打开页面url错误时不走 path:* 的匹配项  https://github.com/SilurianYang/uni-simple-router/issues/58\r\n *\r\n * @param {Object} Router //当前simple-router 对象\r\n * @param {Object} vueRouter vue-router对象\r\n */\r\nexport const triggerLifeCycle = function (Router, vueRouter) {\r\n    const { CONFIG } = Router;\r\n    const currRoute = vueRouter.currentRoute;\r\n    if (vueRouter.mode === 'hash') {\r\n        const {\r\n            query,\r\n            path,\r\n        } = currRoute;\r\n\r\n        const URLQuery = encodeURLQuery(CONFIG, query, 'hash');\r\n\r\n        vueRouter.replace(`${path}${URLQuery}`);\r\n    } else {\r\n        const {\r\n            toRoute,\r\n        } = getRouterNextInfo(currRoute, currRoute, Router);\r\n        const URLQuery = encodeURLQuery(CONFIG, currRoute.query, 'history');\r\n        vueRouter.replace({\r\n            path: toRoute.aliasPath || toRoute.path || currRoute.path,\r\n            query: URLQuery,\r\n            type: 'redirectTo',\r\n        });\r\n    }\r\n};\r\n\r\n/** 注册自定义的路由到vue-router中 前提是必须使用vueRouter开发模式\r\n * @param {Object} Router\r\n * @param {Object} vueRouter\r\n * @param {Boolean} vueRouterDev\r\n */\r\nexport const registerRouter = function (Router, vueRouter, vueRouterDev) {\r\n    let routeMap = [];\r\n    if (!vueRouterDev) { // 则进行对比两个路由表  主要工作是做路径的优化\r\n        routeMap = diffRouter(Router, vueRouter, Router.CONFIG.h5.useUniConfig);\r\n    } else { // 完全使用vue-router开发时直接采用开发者的路由表\r\n        routeMap = vueDevRouteProxy(Router.CONFIG.routes, Router);\r\n    }\r\n    const createRouter = () => new vueRouter.constructor({\r\n        base: vueRouter.options.base,\r\n        mode: vueRouter.options.mode,\r\n        routes: routeMap,\r\n    });\r\n    const router = createRouter();\r\n    vueRouter.matcher = router.matcher;\r\n    Global.vueRouter = vueRouter; // 把当前vueRouter缓存到全局对象中\r\n    Global.RouterReadyPromise(); // router已经准备就绪 调用promise.resolve();\r\n    Router.H5RouterReady = true; // 并挂载到Router对象下\r\n    // 注册完成所有的钩子及相关参数，手动触发Router的生命周期\r\n    setTimeout(() => {\r\n        triggerLifeCycle(Router, vueRouter);\r\n    });\r\n};\r\n","/**\n * 实现一个继承的 数组类  代理掉 vue-router 生命钩子的数据\n */\nclass MyArray extends Array {\n    constructor(Router, vueOldHooks, hookFun) {\n        super();\n        this.Router = Router;\n        this.vueOldHooks = vueOldHooks;\n        this.hookFun = hookFun;\n    }\n\n    push(v) {\n        this.vueOldHooks.splice(0, 1, v);// 把vue-router路由生命钩子保存起来\n        this[this.length] = (to, from, next) => {\n            this.hookFun(to, from, next, this.Router);\n        };\n    }\n}\n\nexport default MyArray;\n","import { appPlatform, isH5 } from '../helpers/util';\n\n\n\n\n\n\n\nexport const registerHook = function (list, fn) {\n    list.push(fn);\n    return () => {\n        const i = list.indexOf(fn);\n        if (i > -1) list.splice(i, 1);\n    };\n};\n/**\n * 注册全局Router生命钩子\n */\nexport const registerRouterHooks = function () {\n    registerHook(this.lifeCycle.routerbeforeHooks, function () {\n        return new Promise(async (resolve) => {\n            this.CONFIG.routerBeforeEach(); // 触发暴露给开发者的生命钩子\n            if (appPlatform(true) === 'H5') {\n                H5PATCH.on('toogle', 'startLodding');\n            }\n            return resolve(true);\n        });\n    });\n    registerHook(this.lifeCycle.routerAfterHooks, function (res = {}) {\n        if (res.H5Intercept !== true) {\n            this.CONFIG.routerAfterEach(); // 触发暴露给开发者的生命钩子\n        }\n        if (appPlatform(true) === 'H5') {\n            H5PATCH.on('toogle', 'stopLodding');\n        }\n        return true;\n    });\n};\n","\r\n/**\r\n * 截止 1.3.5 版本 不做任何操作\r\n * @param {element} el dom节点\r\n */\r\nconst appletsMount = function (Vim) {\r\n    Vim.$mount();\r\n};\r\n\r\nexport default appletsMount;\r\n","/**\n * 截止 1.3.5 版本 不做任何操作\n * @param {element} el dom节点\n */\nconst appMount = function (Vim) {\n    Vim.$mount();\n};\nexport default appMount;\n","import { uniAppHook } from './config';\nimport H5init from '../vueRouter/init';\nimport { appInit, removeBackPressEvent, pageIsHeadBack } from '../appRouter/init';\nimport appletsInit from '../appletsRouter/init';\nimport { appPlatform } from './util';\nimport { proxyIndexHook } from '../appRouter/hooks';\nimport { appletsProxyIndexHook } from '../appletsRouter/hooks';\n\n/**\n * 获取一些需要在各个平台混入的事件\n * @param {Object} Router 当前原始路由对象\n */\nconst getMixins = function (Router) {\n    return {\n        H5: {\n            beforeCreate() {\n                if (this.$options.router) {\n                    H5init(Router.$root, this.$options.router, this);\n                }\n            },\n        },\n        APP: {\n            onLaunch() {\n                uniAppHook.onLaunched = true;\t// 标志已经触发了 onLaunch 事件\n                appInit.call(this, Router.$root);\n            },\n            onLoad() {\n                // 第一个页面 拦截所有生命周期\n                if (uniAppHook.onLaunched && !uniAppHook.pageReady) {\n                    uniAppHook.onLaunched = false;\n                    proxyIndexHook.call(this, Router.$root);\n                }\n                removeBackPressEvent(this.$mp.page, this.$options); // 移除页面的onBackPress事件\n            },\n            onBackPress(...args) {\n                return pageIsHeadBack.call(Router.$root, this.$mp.page, this.$options, args);\n            },\n        },\n        APPLETS: {\n            onLaunch() {\n                uniAppHook.onLaunched = true;\t// 标志已经触发了 onLaunch 事件\n                appletsInit.call(this, Router.$root);\n            },\n            onLoad() {\n                if (uniAppHook.onLaunched && !uniAppHook.pageReady) {\t// 必须是第一个页面\n                    uniAppHook.onLaunched = false;\n                    appletsProxyIndexHook.call(this, Router.$root);\n                }\n            },\n        },\n    };\n};\n\nconst initMixins = function (Vue, Router) {\n    Vue.mixin({\n        ...getMixins(Router)[appPlatform(true)],\n    });\n};\n\nexport default initMixins;\n","import { afterHooks, beforeHooks, registerRouter } from './concat';\r\nimport { fromatRoutes } from './util';\r\nimport { err, warn } from '../helpers/warn';\r\nimport { proxyEachHooks } from './proxy/proxy';\r\n/**\r\n * 重写掉H5端 uni-app原始存在的bug\r\n *\r\n * @param {Object} Router\r\n */\r\nconst rewriteUniFun = function (Router) {\r\n    if (Router.CONFIG.h5.rewriteFun === false) { // 不需要重写\r\n        return false;\r\n    }\r\n    uni.reLaunch = function ({\r\n        url,\r\n    }) {\r\n        if (url === '/') {\r\n            warn('H5端 uni.reLaunch(\\'/\\')时 默认被重写了! 你可以使用 this.$Router.replaceAll() 或者 uni.reLaunch(\\'/\\'?xxx)');\r\n            // eslint-disable-next-line\r\n            if (history.length > 1) { // 只有在有历史记录的时候才返回  不然直接返回首页\r\n                return Router.back();\r\n            }\r\n            return Router.replaceAll('/');\r\n        }\r\n        const path = url.match(/^[^?]+|(\\/)/)[0];\r\n        try {\r\n            const query = {};\r\n            url.replace(/([^?&]+)=([^?&]+)/g, (s, v, k) => {\r\n                query[v] = decodeURIComponent(k);\r\n                return `${k}=${v}`;\r\n            });\r\n            Router.replaceAll({\r\n                path,\r\n                query,\r\n            });\r\n        } catch (e) {\r\n            err(`${url}解析失败了....  试试 this.$Router.replaceAll() 吧`);\r\n        }\r\n    };\r\n    uni.navigateBack = function (delta) {\r\n        let backLayer = delta;\r\n        if (delta.constructor === Object) { // 这种可能就只是uni-app自带的返回按钮,还有种可能就是开发者另类传递的\r\n            backLayer = 1;\r\n        }\r\n        Router.back(backLayer, delta);\r\n    };\r\n};\r\n/**\r\n * 拦截并注册vueRouter中的生命钩子，路由表解析\r\n * @param {Object} Router\r\n * @param {vueRouter} vueRouter\r\n */\r\nconst init = function (Router, vueRouter) {\r\n    const CONFIG = Router.CONFIG.h5;\r\n    vueRouter.afterHooks = proxyEachHooks(Router, 'afterHooks', afterHooks);\r\n    vueRouter.beforeHooks = proxyEachHooks(Router, 'beforeHooks', beforeHooks);\r\n    const objVueRoutes = fromatRoutes(vueRouter.options.routes, false, {}); // 返回一个格式化好的routes 键值对的形式\r\n    const objSelfRoutes = fromatRoutes(Router.CONFIG.routes, true, CONFIG);\r\n    Router.vueRoutes = objVueRoutes; // 挂载vue-routes到当前的路由下\r\n    Router.selfRoutes = {\r\n        ...Router.selfRoutes || {},\r\n        ...objSelfRoutes,\r\n    }; // 挂载self-routes到当前路由下\r\n    Router.$route = vueRouter; // 挂载vue-router到$route\r\n    rewriteUniFun(Router); // 重新掉uniapp上的一些有异常的方法\r\n    registerRouter(Router, vueRouter, CONFIG.vueRouterDev);\r\n};\r\nexport default init;\r\n","import {\r\n    proxyLaunchHook, beforeBackHooks, beforeTabHooks, backApiCallHook,\r\n} from './hooks';\r\nimport { Global, uniAppHook } from '../helpers/config';\r\nimport { assertCanBack } from './util';\r\nimport { warn } from '../helpers/warn';\r\n\r\n/**\r\n * 重写掉uni-app的 uni.getLocation 和 uni.chooseLocation APi\r\n * @param {Object} Router  当前路由对象\r\n */\r\nexport const rewriteUniFun = function (Router) {\r\n    const oldSwitchTab = uni.switchTab; // 缓存 跳转到 tabBar 页面\r\n    uni.switchTab = function ({ url, ...args }, normal = false) {\r\n        if (normal === true || uniAppHook.pageReady === false) { // 调用原始的uni-app  api\r\n            oldSwitchTab({\r\n                url,\r\n                ...args,\r\n            });\r\n        } else {\r\n            if (uniAppHook.pageReady) { // 只有在路由守卫等  处理完所有操作后才能触发\r\n                const { path } = Router.$Route; // 获取当前路径\r\n                if (path == url) { // 路径相同不执行\r\n                    return warn(`当前跳转路径：${url}  已在本页面无须跳转`);\r\n                }\r\n                beforeTabHooks.call(Router, url.substring(1)); // 不要 /\r\n            } else {\r\n                warn('路由守卫正在忙碌中 不允许执行 ‘uni.switchTab’');\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\n/**\r\n * 对当前app做一个动画页面 用来过渡首次next 等待时间过长的尴尬\r\n * @param {Object} Router 当前路由对象\r\n */\r\nexport const registerLoddingPage = function (Router) {\r\n    const { loddingPageHook, loddingPageStyle } = Router.CONFIG.APP;\t// 获取app所有配置\r\n    const view = new plus.nativeObj.View('router-loadding', {\r\n        top: '0px',\r\n        left: '0px',\r\n        height: '100%',\r\n        width: '100%',\r\n        ...loddingPageStyle.call(Router),\r\n    });\r\n    loddingPageHook.call(Router, view);\t// 触发等待页面生命周期\r\n};\r\n/**\r\n * 移除当前 页面上 非router 声明的 onBackPress 事件\r\n * @param {Object} page 当前 vue 组件对象\r\n * @param {Object} options\t当前page对象的 $options\r\n * 修复 https://github.com/SilurianYang/uni-simple-router/issues/106\r\n */\r\nexport const removeBackPressEvent = function (page, options) {\r\n    const isBack = assertCanBack(page);\r\n    if (isBack) {\t// 可返回\r\n        options.onBackPress = [options.onBackPress[0]];\t\t// 路由混入的都干掉\r\n    }\r\n};\r\n/**\r\n * 判断当前页面是否需要拦截返回\r\n *\r\n * @param {Object} page 当前 vue 组件对象\r\n * @param {Object} options 当前 vue 组件对象下的$options对象\r\n * @param {Array} args  当前页面是点击头部返回还是底部返回\r\n * 修复 https://github.com/SilurianYang/uni-simple-router/issues/66\r\n *\r\n * this 为当前 Router 对象\r\n */\r\nexport const pageIsHeadBack = function (page, options, args) {\r\n    if (args[0].from == 'navigateBack') {\t\t// 调用api返回\r\n        if (Global.LockStatus) { // 正在跳转的时候 返回按键按的太快啦\r\n            warn('当前页面正在处于跳转状态，请稍后再进行跳转....');\r\n            return true;\r\n        }\r\n        Global.LockStatus = true; // 设置为锁住状态\r\n        backApiCallHook.call(this, options, args);\r\n        return true;\r\n    }\r\n    const isBack = assertCanBack(page);\r\n    if (isBack) {\t// 可返回\r\n        if (Global.LockStatus) { // 正在跳转的时候 返回按键按的太快啦\r\n            warn('当前页面正在处于跳转状态，请稍后再进行跳转....');\r\n            return true;\r\n        }\r\n        Global.LockStatus = true; // 设置为锁住状态\r\n        beforeBackHooks.call(this, options, args);\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * 开始初始化app端路由配置\r\n *\r\n * @param {Object} Router\r\n *\r\n * this 为当前 page 对象\r\n */\r\nexport const appInit = function (Router) {\r\n    proxyLaunchHook.call(this);\r\n    const { holdTabbar } = Router.CONFIG.APP;\r\n    if (holdTabbar) { // 开启tab拦截时\r\n        rewriteUniFun(Router);\r\n    }\r\n    registerLoddingPage(Router);\r\n};\r\n","import { proxyLaunchHook } from './hooks';\n\n/**\n * 开始初始化app端路由配置\n *\n * @param {Object} Router \t当前Router对象\n *\n * this 为当前 page 对象\n */\nconst appletsInit = function () {\n    proxyLaunchHook.call(this);\n};\nexport default appletsInit;\n","import { Global } from './config';\r\nimport { warn, err } from './warn';\r\n\r\nconst nodeURL = require('query-string');\r\n\r\nclass ParseQuery {\r\n    get queryName() {\r\n        return nodeURL;\r\n    }\r\n\r\n    /**\r\n     * 判断当前这个对象是否为深度对象\r\n     * @param {Object} obj\r\n     */\r\n    isDepthObject(obj) {\r\n        const str = JSON.stringify(obj);\r\n        return str.match(/}/g).length > 1;\r\n    }\r\n\r\n    /**\r\n     * 从URL中提取查询字符串\r\n     * @param {String} url\r\n     */\r\n    extract(url) {\r\n        return nodeURL.extract(url);\r\n    }\r\n\r\n    /**\r\n     * 把一个 key=value&key1=value 的字符串转成对象\r\n     * @param {string} strQuery key=value&key1=value 类型的字符串\r\n     */\r\n    parse(strQuery) {\r\n        return nodeURL.parse(strQuery);\r\n    }\r\n\r\n    /**\r\n     * 把一个对象转成 key=value&key1=value 类型的字符串\r\n     * @param {Object} ObjQuery 符合js标注的对象\r\n     * @param {Boolean} intact 是否在转成的字符串前添加？号\r\n     */\r\n    stringify(ObjQuery, intact = true) {\r\n        const strQuery = nodeURL.stringify(ObjQuery);\r\n        if (intact) {\r\n            return `?${strQuery}`;\r\n        }\r\n        return strQuery;\r\n    }\r\n\r\n    /**\r\n     * 把一个对象或者 key=value&key1=value 类型的数据加密成 query=encodeURIComponent(value)\r\n     * @param {Object|String} query 符合js标注的对象 或者 key=value&key1=value 字符串\r\n     * @param {Boolean} intact 是否在转成的字符串前添加？号\r\n     */\r\n    encode(query, intact = true) {\r\n        let [strQuery, formatQuery] = ['', ''];\r\n        if (query == null) {\r\n            warn('加密参数没有传递，你知道？', true);\r\n            return '';\r\n        }\r\n        if (query.constructor === String) { // 字符串 尝试 转成 对象\r\n            strQuery = JSON.stringify(this.parse(query));\r\n        } else if (query.constructor === Object) { // 直接转成字符串对象即可\r\n            if (Object.keys(query).length === 0) {\r\n                warn('当前参数不满足加密规范！');\r\n                return '';\r\n            }\r\n            strQuery = JSON.stringify(query);\r\n        }\r\n        if (intact) {\r\n            formatQuery = '?';\r\n        }\r\n        formatQuery += `query=${encodeURIComponent(strQuery)}`;\r\n        return formatQuery;\r\n    }\r\n\r\n    /**\r\n     * 把一个已经加密好的字符串 query=encodeURIComponent(value) 解密成 对象\r\n     * @param {string} strQuery  已经加密好的字符串 query=encodeURIComponent(value)\r\n     */\r\n    decode(strQuery) {\r\n        if (strQuery == null) {\r\n            warn('解密参数没有传递，你知道？', true);\r\n            return {};\r\n        }\r\n        let jsonQuery = strQuery;\r\n        if (strQuery.constructor === Object) { // 如果是对象 看能不能满足要求\r\n            jsonQuery = strQuery.query;\r\n            if (jsonQuery == null) {\r\n                warn('当前解密参数不满足编码规则');\r\n                return {};\r\n            }\r\n            jsonQuery = `query=${jsonQuery}`;\r\n        }\r\n        let decode = {};\r\n        // query 长这个样  query=encodeURIComponent(value)\r\n        const decodeStr = decodeURIComponent(jsonQuery);\r\n        const { query } = this.parse(decodeStr); // 转成 json 获取到正真的json字符串\r\n        if (query == null) {\r\n            warn('当前解密参数不满足编码规则');\r\n        } else {\r\n            try {\r\n                decode = JSON.parse(query);\r\n            } catch (error) {\r\n                warn('当前解密参数不满足编码规则');\r\n            }\r\n        }\r\n        return decode;\r\n    }\r\n\r\n    queryGet(query) {\r\n        const { encodeURI } = Global.Router.CONFIG; // 获取到路由配置\r\n        let [decode, historyObj, strQuery] = [query, query, ''];\r\n        switch (encodeURI) {\r\n        case true: { // 加密模式\r\n            decode = this.decode(query);\r\n            strQuery = this.encode(decode);\r\n            historyObj = {\r\n                query: encodeURIComponent(JSON.stringify(decode)),\r\n            };\r\n            break;\r\n        }\r\n        case false: { // 不加密模式\r\n            strQuery = this.stringify(query);\r\n            break;\r\n        }\r\n        default: {\r\n            err('未知参数模式，请检查 \\'encodeURI\\'', true);\r\n        }\r\n        }\r\n        return { strQuery, historyObj, decode };\r\n    }\r\n\r\n\r\n    /**\r\n     * 对需要传递的参数进行加密解密\r\n     * @param {Object|String} query get为false 必须为 Object 类型\r\n     * @param {String} get 是取值 还是通过api传值\r\n     */\r\n    transfer(query = {}) {\r\n        const { encodeURI } = Global.Router.CONFIG; // 获取到路由配置\r\n        switch (encodeURI) {\r\n        case true: {\r\n            // 加密模式\r\n            return this.encode(query, false);\r\n        }\r\n        case false: {\r\n            // 不加密模式\r\n            return this.stringify(query);\r\n        }\r\n        default: {\r\n            err('未知参数模式，请检查 \\'encodeURI\\' ', true);\r\n        }\r\n        }\r\n    }\r\n}\r\n\r\nexport default ParseQuery;\r\n","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// 引入全局mixin\r\nimport mixin from './libs/mixin/mixin.js'\r\n// 引入关于是否mixin集成小程序分享的配置\r\n// import wxshare from './libs/mixin/mpShare.js'\r\n// 全局挂载引入http相关请求拦截插件\r\nimport http from './libs/request'\r\n\r\nfunction wranning(str) {\r\n\t// 开发环境进行信息输出,主要是一些报错信息\r\n\t// 这个环境的来由是在程序编写时候,点击hx编辑器运行调试代码的时候,详见:\r\n\t// \thttps://uniapp.dcloud.io/frame?id=%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e5%92%8c%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83\r\n\tif (process.env.NODE_ENV === 'development') {\r\n\t\tconsole.warn(str)\r\n\t}\r\n}\r\n\r\n// 尝试判断在根目录的/store中是否有$u.mixin.js，此文件uView默认为需要挂在到全局的vuex的state变量\r\n// HX2.6.11版本,放到try中,控制台依然会警告,暂时不用此方式，\r\n// let vuexStore = {};\r\n// try {\r\n// \tvuexStore = require(\"@/store/$u.mixin.js\");\r\n// } catch (e) {\r\n// \t//TODO handle the exception\r\n// }\r\n\r\n// post类型对象参数转为get类型url参数\r\nimport queryParams from './libs/function/queryParams.js'\r\n// 路由封装\r\nimport route from './libs/function/route.js'\r\n// 时间格式化\r\nimport timeFormat from './libs/function/timeFormat.js'\r\n// 时间戳格式化,返回多久之前\r\nimport timeFrom from './libs/function/timeFrom.js'\r\n// 颜色渐变相关,colorGradient-颜色渐变,hexToRgb-十六进制颜色转rgb颜色,rgbToHex-rgb转十六进制\r\nimport colorGradient from './libs/function/colorGradient.js'\r\n// 生成全局唯一guid字符串\r\nimport guid from './libs/function/guid.js'\r\n// 主题相关颜色,info|success|warning|primary|default|error,此颜色已在uview.scss中定义,但是为js中也能使用,故也定义一份\r\nimport color from './libs/function/color.js'\r\n// 根据type获取图标名称\r\nimport type2icon from './libs/function/type2icon.js'\r\n// 打乱数组的顺序\r\nimport randomArray from './libs/function/randomArray.js'\r\n// 对象和数组的深度克隆\r\nimport deepClone from './libs/function/deepClone.js'\r\n// 对象深度拷贝\r\nimport deepMerge from './libs/function/deepMerge.js'\r\n// 添加单位\r\nimport addUnit from './libs/function/addUnit.js'\r\n\r\n// 规则检验\r\nimport test from './libs/function/test.js'\r\n// 随机数\r\nimport random from './libs/function/random.js'\r\n// 去除空格\r\nimport trim from './libs/function/trim.js'\r\n// toast提示，对uni.showToast的封装\r\nimport toast from './libs/function/toast.js'\r\n// 获取父组件参数\r\nimport getParent from './libs/function/getParent.js'\r\n// 获取整个父组件\r\nimport $parent from './libs/function/$parent.js'\r\n// 获取sys()和os()工具方法\r\n// 获取设备信息，挂载到$u的sys()(system的缩写)属性中，\r\n// 同时把安卓和ios平台的名称\"ios\"和\"android\"挂到$u.os()中，方便取用\r\nimport {sys, os} from './libs/function/sys.js'\r\n// 防抖方法\r\nimport debounce from './libs/function/debounce.js'\r\n// 节流方法\r\nimport throttle from './libs/function/throttle.js'\r\n\r\n\r\n// 配置信息\r\nimport config from './libs/config/config.js'\r\n// 各个需要fixed的地方的z-index配置文件\r\nimport zIndex from './libs/config/zIndex.js'\r\n\r\nconst $u = {\r\n\tqueryParams: queryParams,\r\n\troute: route,\r\n\ttimeFormat: timeFormat,\r\n\tdate: timeFormat, // 另名date\r\n\ttimeFrom,\r\n\tcolorGradient: colorGradient.colorGradient,\r\n\tguid,\r\n\tcolor,\r\n\tsys,\r\n\tos,\r\n\ttype2icon,\r\n\trandomArray,\r\n\twranning,\r\n\tget: http.get,\r\n\tpost: http.post,\r\n\tput: http.put,\r\n\t'delete': http.delete,\r\n\thexToRgb: colorGradient.hexToRgb,\r\n\trgbToHex: colorGradient.rgbToHex,\r\n\ttest,\r\n\trandom,\r\n\tdeepClone,\r\n\tdeepMerge,\r\n\tgetParent,\r\n\t$parent,\r\n\taddUnit,\r\n\ttrim,\r\n\ttype: ['primary', 'success', 'error', 'warning', 'info'],\r\n\thttp,\r\n\ttoast,\r\n\tconfig, // uView配置信息相关，比如版本号\r\n\tzIndex,\r\n\tdebounce,\r\n\tthrottle,\r\n}\r\n\r\nconst install = Vue => {\r\n\tVue.mixin(mixin) \r\n\tif (Vue.prototype.openShare) {\r\n\t\tVue.mixin(mpShare);\r\n\t}\r\n\t// Vue.mixin(vuexStore);\r\n\t// 时间格式化，同时两个名称，date和timeFormat\r\n\tVue.filter('timeFormat', (timestamp, format) => {\r\n\t\treturn timeFormat(timestamp, format)\r\n\t})\r\n\tVue.filter('date', (timestamp, format) => {\r\n\t\treturn timeFormat(timestamp, format)\r\n\t})\r\n\t// 将多久以前的方法，注入到全局过滤器\r\n\tVue.filter('timeFrom', (timestamp, format) => {\r\n\t\treturn timeFrom(timestamp, format)\r\n\t})\r\n\tVue.prototype.$u = $u\r\n}\r\n\r\nexport default {\r\n\tinstall\r\n}","module.exports = {\r\n\tdata() {\r\n\t\treturn {}\r\n\t},\r\n\tonLoad() {\r\n\t\t// getRect挂载到$u上，因为这方法需要使用in(this)，所以无法把它独立成一个单独的文件导出\r\n\t\tthis.$u.getRect = this.$uGetRect\r\n\t},\r\n\tmethods: {\r\n\t\t// 查询节点信息\r\n\t\t// 目前此方法在支付宝小程序中无法获取组件跟接点的尺寸，为支付宝的bug(2020-07-21)\r\n\t\t// 解决办法为在组件根部再套一个没有任何作用的view元素\r\n\t\t$uGetRect(selector, all) {\r\n\t\t\treturn new Promise(resolve => {\r\n\t\t\t\tuni.createSelectorQuery().\r\n\t\t\t\tin(this)[all ? 'selectAll' : 'select'](selector)\r\n\t\t\t\t\t.boundingClientRect(rect => {\r\n\t\t\t\t\t\tif (all && Array.isArray(rect) && rect.length) {\r\n\t\t\t\t\t\t\tresolve(rect)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!all && rect) {\r\n\t\t\t\t\t\t\tresolve(rect)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.exec()\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetParentData(parentName = '') {\r\n\t\t\t// 避免在created中去定义parent变量\r\n\t\t\tif(!this.parent) this.parent = false;\r\n\t\t\t// 这里的本质原理是，通过获取父组件实例(也即u-radio-group的this)\r\n\t\t\t// 将父组件this中对应的参数，赋值给本组件(u-radio的this)的parentData对象中对应的属性\r\n\t\t\t// 之所以需要这么做，是因为所有端中，头条小程序不支持通过this.parent.xxx去监听父组件参数的变化\r\n\t\t\tthis.parent = this.$u.$parent.call(this, parentName);\r\n\t\t\tif(this.parent) {\r\n\t\t\t\t// 历遍parentData中的属性，将parent中的同名属性赋值给parentData\r\n\t\t\t\tObject.keys(this.parentData).map(key => {\r\n\t\t\t\t\tthis.parentData[key] = this.parent[key];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tonReachBottom() {\r\n\t\tuni.$emit('uOnReachBottom')\r\n\t}\r\n}\r\n","import deepMerge from \"../function/deepMerge\";\r\nimport validate from \"../function/test\";\r\nclass Request {\r\n\t// 设置全局默认配置\r\n\tsetConfig(customConfig) {\r\n\t\t// 深度合并对象，否则会造成对象深层属性丢失\r\n\t\tthis.config = deepMerge(this.config, customConfig);\r\n\t}\r\n\r\n\t// 主要请求部分\r\n\trequest(options = {}) {\r\n\t\t// 检查请求拦截\r\n\t\tif (this.interceptor.request && typeof this.interceptor.request === 'function') {\r\n\t\t\tlet tmpConfig = {};\r\n\t\t\tlet interceptorRequest = this.interceptor.request(options);\r\n\t\t\tif (interceptorRequest === false) {\r\n\t\t\t\t// 返回一个处于pending状态中的Promise，来取消原promise，避免进入then()回调\r\n\t\t\t\treturn new Promise(()=>{});\r\n\t\t\t}\r\n\t\t\tthis.options = interceptorRequest;\r\n\t\t}\r\n\t\toptions.dataType = options.dataType || this.config.dataType;\r\n\t\toptions.responseType = options.responseType || this.config.responseType;\r\n\t\toptions.url = options.url || '';\r\n\t\toptions.params = options.params || {};\r\n\t\toptions.header = Object.assign(this.config.header, options.header);\r\n\t\toptions.method = options.method || this.config.method;\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\toptions.complete = (response) => {\r\n\t\t\t\t// 请求返回后，隐藏loading(如果请求返回快的话，可能会没有loading)\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\t// 清除定时器，如果请求回来了，就无需loading\r\n\t\t\t\tclearTimeout(this.config.timer);\r\n\t\t\t\tthis.config.timer = null;\r\n\t\t\t\t// 判断用户对拦截返回数据的要求，如果originalData为true，返回所有的数据(response)到拦截器，否则只返回response.data\r\n\t\t\t\tif(this.config.originalData) {\r\n\t\t\t\t\t// 判断是否存在拦截器\r\n\t\t\t\t\tif (this.interceptor.response && typeof this.interceptor.response === 'function') {\r\n\t\t\t\t\t\tlet resInterceptors = this.interceptor.response(response);\r\n\t\t\t\t\t\t// 如果拦截器不返回false，就将拦截器返回的内容给this.$u.post的then回调\r\n\t\t\t\t\t\tif (resInterceptors !== false) {\r\n\t\t\t\t\t\t\tresolve(resInterceptors);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 如果拦截器返回false，意味着拦截器定义者认为返回有问题，直接接入catch回调\r\n\t\t\t\t\t\t\treject(response);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 如果要求返回原始数据，就算没有拦截器，也返回最原始的数据\r\n\t\t\t\t\t\tresolve(response);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (response.statusCode == 200) {\r\n\t\t\t\t\t\tif (this.interceptor.response && typeof this.interceptor.response === 'function') {\r\n\t\t\t\t\t\t\tlet resInterceptors = this.interceptor.response(response.data);\r\n\t\t\t\t\t\t\tif (resInterceptors !== false) {\r\n\t\t\t\t\t\t\t\tresolve(resInterceptors);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treject(response.data);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 如果不是返回原始数据(originalData=false)，且没有拦截器的情况下，返回纯数据给then回调\r\n\t\t\t\t\t\t\tresolve(response.data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 不返回原始数据的情况下，服务器状态码不为200，modal弹框提示\r\n\t\t\t\t\t\t// if(response.errMsg) {\r\n\t\t\t\t\t\t// \tuni.showModal({\r\n\t\t\t\t\t\t// \t\ttitle: response.errMsg\r\n\t\t\t\t\t\t// \t});\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\treject(response)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 判断用户传递的URL是否/开头,如果不是,加上/，这里使用了uView的test.js验证库的url()方法\r\n\t\t\toptions.url = validate.url(options.url) ? options.url : (this.config.baseUrl + (options.url.indexOf('/') == 0 ?\r\n\t\t\t\toptions.url : '/' + options.url));\r\n\t\t\t\r\n\t\t\t// 是否显示loading\r\n\t\t\t// 加一个是否已有timer定时器的判断，否则有两个同时请求的时候，后者会清除前者的定时器id\r\n\t\t\t// 而没有清除前者的定时器，导致前者超时，一直显示loading\r\n\t\t\tif(this.config.showLoading && !this.config.timer) {\r\n\t\t\t\tthis.config.timer = setTimeout(() => {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: this.config.loadingText,\r\n\t\t\t\t\t\tmask: this.config.loadingMask\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.config.timer = null;\r\n\t\t\t\t}, this.config.loadingTime);\r\n\t\t\t}\r\n\t\t\tuni.request(options);\r\n\t\t})\r\n\t\t// .catch(res => {\r\n\t\t// \t// 如果返回reject()，不让其进入this.$u.post().then().catch()后面的catct()\r\n\t\t// \t// 因为很多人都会忘了写后面的catch()，导致报错捕获不到catch\r\n\t\t// \treturn new Promise(()=>{});\r\n\t\t// })\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tthis.config = {\r\n\t\t\tbaseUrl: '', // 请求的根域名\r\n\t\t\t// 默认的请求头\r\n\t\t\theader: {},\r\n\t\t\tmethod: 'POST',\r\n\t\t\t// 设置为json，返回后uni.request会对数据进行一次JSON.parse\r\n\t\t\tdataType: 'json',\r\n\t\t\t// 此参数无需处理，因为5+和支付宝小程序不支持，默认为text即可\r\n\t\t\tresponseType: 'text',\r\n\t\t\tshowLoading: true, // 是否显示请求中的loading\r\n\t\t\tloadingText: '请求中...',\r\n\t\t\tloadingTime: 800, // 在此时间内，请求还没回来的话，就显示加载中动画，单位ms\r\n\t\t\ttimer: null, // 定时器\r\n\t\t\toriginalData: false, // 是否在拦截器中返回服务端的原始数据，见文档说明\r\n\t\t\tloadingMask: true, // 展示loading的时候，是否给一个透明的蒙层，防止触摸穿透\r\n\t\t}\r\n\t\r\n\t\t// 拦截器\r\n\t\tthis.interceptor = {\r\n\t\t\t// 请求前的拦截\r\n\t\t\trequest: null,\r\n\t\t\t// 请求后的拦截\r\n\t\t\tresponse: null\r\n\t\t}\r\n\r\n\t\t// get请求\r\n\t\tthis.get = (url, data = {}, header = {}) => {\r\n\t\t\treturn this.request({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl,\r\n\t\t\t\theader,\r\n\t\t\t\tdata\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// post请求\r\n\t\tthis.post = (url, data = {}, header = {}) => {\r\n\t\t\treturn this.request({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader,\r\n\t\t\t\tdata\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\t// put请求，不支持支付宝小程序(HX2.6.15)\r\n\t\tthis.put = (url, data = {}, header = {}) => {\r\n\t\t\treturn this.request({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\theader,\r\n\t\t\t\tdata\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t\t// delete请求，不支持支付宝和头条小程序(HX2.6.15)\r\n\t\tthis.delete = (url, data = {}, header = {}) => {\r\n\t\t\treturn this.request({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theader,\r\n\t\t\t\tdata\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\nexport default new Request\r\n","import deepClone from \"./deepClone\";\r\n\r\n// JS对象深度合并\r\nfunction deepMerge(target = {}, source = {}) {\r\n\ttarget = deepClone(target);\r\n\tif (typeof target !== 'object' || typeof source !== 'object') return false;\r\n\tfor (var prop in source) {\r\n\t\tif (!source.hasOwnProperty(prop)) continue;\r\n\t\tif (prop in target) {\r\n\t\t\tif (typeof target[prop] !== 'object') {\r\n\t\t\t\ttarget[prop] = source[prop];\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof source[prop] !== 'object') {\r\n\t\t\t\t\ttarget[prop] = source[prop];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (target[prop].concat && source[prop].concat) {\r\n\t\t\t\t\t\ttarget[prop] = target[prop].concat(source[prop]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget[prop] = deepMerge(target[prop], source[prop]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttarget[prop] = source[prop];\r\n\t\t}\r\n\t}\r\n\treturn target;\r\n}\r\n\r\nexport default deepMerge;","// 判断arr是否为一个数组，返回一个bool值\r\nfunction isArray (arr) {\r\n    return Object.prototype.toString.call(arr) === '[object Array]';\r\n}\r\n\r\n// 深度克隆\r\nfunction deepClone (obj) {\r\n\t// 对常见的“非”值，直接返回原来值\r\n\tif([null, undefined, NaN, false].includes(obj)) return obj;\r\n    if(typeof obj !== \"object\" && typeof obj !== 'function') {\r\n\t\t//原始类型直接返回\r\n        return obj;\r\n    }\r\n    var o = isArray(obj) ? [] : {};\r\n    for(let i in obj) {\r\n        if(obj.hasOwnProperty(i)){\r\n            o[i] = typeof obj[i] === \"object\" ? deepClone(obj[i]) : obj[i];\r\n        }\r\n    }\r\n    return o;\r\n}\r\n\r\nexport default deepClone;\r\n","/**\r\n * 验证电子邮箱格式\r\n */\r\nfunction email(value) {\r\n\treturn /^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+$/.test(value);\r\n}\r\n\r\n/**\r\n * 验证手机格式\r\n */\r\nfunction mobile(value) {\r\n\treturn /^1[23456789]\\d{9}$/.test(value)\r\n}\r\n\r\n/**\r\n * 验证URL格式\r\n */\r\nfunction url(value) {\r\n\treturn /^((https|http|ftp|rtsp|mms):\\/\\/)(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z].[a-zA-Z]{2,6})(:[0-9]{1,4})?((\\/?)|(\\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\\/?)$/\r\n\t\t.test(value)\r\n}\r\n\r\n/**\r\n * 验证日期格式\r\n */\r\nfunction date(value) {\r\n\treturn !/Invalid|NaN/.test(new Date(value).toString())\r\n}\r\n\r\n/**\r\n * 验证ISO类型的日期格式\r\n */\r\nfunction dateISO(value) {\r\n\treturn /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test(value)\r\n}\r\n\r\n/**\r\n * 验证十进制数字\r\n */\r\nfunction number(value) {\r\n\treturn /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(value)\r\n}\r\n\r\n/**\r\n * 验证整数\r\n */\r\nfunction digits(value) {\r\n\treturn /^\\d+$/.test(value)\r\n}\r\n\r\n/**\r\n * 验证身份证号码\r\n */\r\nfunction idCard(value) {\r\n\treturn /^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$/.test(\r\n\t\tvalue)\r\n}\r\n\r\n/**\r\n * 是否车牌号\r\n */\r\nfunction carNo(value) {\r\n\t// 新能源车牌\r\n\tconst xreg = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/;\r\n\t// 旧车牌\r\n\tconst creg = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/;\r\n\tif (value.length === 7) {\r\n\t\treturn creg.test(value);\r\n\t} else if (value.length === 8) {\r\n\t\treturn xreg.test(value);\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n/**\r\n * 金额,只允许2位小数\r\n */\r\nfunction amount(value) {\r\n\t//金额，只允许保留两位小数\r\n\treturn /^[1-9]\\d*(,\\d{3})*(\\.\\d{1,2})?$|^0\\.\\d{1,2}$/.test(value);\r\n}\r\n\r\n/**\r\n * 中文\r\n */\r\nfunction chinese(value) {\r\n\tlet reg = /^[\\u4e00-\\u9fa5]+$/gi;\r\n\treturn reg.test(value);\r\n}\r\n\r\n/**\r\n * 只能输入字母\r\n */\r\nfunction letter(value) {\r\n\treturn /^[a-zA-Z]*$/.test(value);\r\n}\r\n\r\n/**\r\n * 只能是字母或者数字\r\n */\r\nfunction enOrNum(value) {\r\n\t//英文或者数字\r\n\tlet reg = /^[0-9a-zA-Z]*$/g;\r\n\treturn reg.test(value);\r\n}\r\n\r\n/**\r\n * 验证是否包含某个值\r\n */\r\nfunction contains(value, param) {\r\n\treturn value.indexOf(param) >= 0\r\n}\r\n\r\n/**\r\n * 验证一个值范围[min, max]\r\n */\r\nfunction range(value, param) {\r\n\treturn value >= param[0] && value <= param[1]\r\n}\r\n\r\n/**\r\n * 验证一个长度范围[min, max]\r\n */\r\nfunction rangeLength(value, param) {\r\n\treturn value.length >= param[0] && value.length <= param[1]\r\n}\r\n\r\n/**\r\n * 是否固定电话\r\n */\r\nfunction landline(value) {\r\n\tlet reg = /^\\d{3,4}-\\d{7,8}(-\\d{3,4})?$/;\r\n\treturn reg.test(value);\r\n}\r\n\r\n/**\r\n * 判断是否为空\r\n */\r\nfunction empty(value) {\r\n\tswitch (typeof value) {\r\n\t\tcase 'undefined':\r\n\t\t\treturn true;\r\n\t\tcase 'string':\r\n\t\t\tif (value.replace(/(^[ \\t\\n\\r]*)|([ \\t\\n\\r]*$)/g, '').length == 0) return true;\r\n\t\t\tbreak;\r\n\t\tcase 'boolean':\r\n\t\t\tif (!value) return true;\r\n\t\t\tbreak;\r\n\t\tcase 'number':\r\n\t\t\tif (0 === value || isNaN(value)) return true;\r\n\t\t\tbreak;\r\n\t\tcase 'object':\r\n\t\t\tif (null === value || value.length === 0) return true;\r\n\t\t\tfor (var i in value) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n/**\r\n * 是否json字符串\r\n */\r\nfunction jsonString(value) {\r\n\tif (typeof value == 'string') {\r\n\t\ttry {\r\n\t\t\tvar obj = JSON.parse(value);\r\n\t\t\tif (typeof obj == 'object' && obj) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n\r\n/**\r\n * 是否数组\r\n */\r\nfunction array(value) {\r\n\tif (typeof Array.isArray === \"function\") {\r\n\t\treturn Array.isArray(value);\r\n\t} else {\r\n\t\treturn Object.prototype.toString.call(value) === \"[object Array]\";\r\n\t}\r\n}\r\n\r\n/**\r\n * 是否对象\r\n */\r\nfunction object(value) {\r\n\treturn Object.prototype.toString.call(value) === '[object Object]';\r\n}\r\n\r\n/**\r\n * 是否短信验证码\r\n */\r\nfunction code(value, len = 6) {\r\n\treturn new RegExp(`^\\\\d{${len}}$`).test(value);\r\n}\r\n\r\n\r\nexport default {\r\n\temail,\r\n\tmobile,\r\n\turl,\r\n\tdate,\r\n\tdateISO,\r\n\tnumber,\r\n\tdigits,\r\n\tidCard,\r\n\tcarNo,\r\n\tamount,\r\n\tchinese,\r\n\tletter,\r\n\tenOrNum,\r\n\tcontains,\r\n\trange,\r\n\trangeLength,\r\n\tempty,\r\n\tisEmpty: empty,\r\n\tjsonString,\r\n\tlandline,\r\n\tobject,\r\n\tarray,\r\n\tcode\r\n}\r\n","/**\r\n * 对象转url参数\r\n * @param {*} data,对象\r\n * @param {*} isPrefix,是否自动加上\"?\"\r\n */\r\nfunction queryParams(data = {}, isPrefix = true, arrayFormat = 'brackets') {\r\n\tlet prefix = isPrefix ? '?' : ''\r\n\tlet _result = []\r\n\tif (['indices', 'brackets', 'repeat', 'comma'].indexOf(arrayFormat) == -1) arrayFormat = 'brackets';\r\n\tfor (let key in data) {\r\n\t\tlet value = data[key]\r\n\t\t// 去掉为空的参数\r\n\t\tif (['', undefined, null].indexOf(value) >= 0) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\t// 如果值为数组，另行处理\r\n\t\tif (value.constructor === Array) {\r\n\t\t\t// e.g. {ids: [1, 2, 3]}\r\n\t\t\tswitch (arrayFormat) {\r\n\t\t\t\tcase 'indices':\r\n\t\t\t\t\t// 结果: ids[0]=1&ids[1]=2&ids[2]=3\r\n\t\t\t\t\tfor (let i = 0; i < value.length; i++) {\r\n\t\t\t\t\t\t_result.push(key + '[' + i + ']=' + value[i])\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'brackets':\r\n\t\t\t\t\t// 结果: ids[]=1&ids[]=2&ids[]=3\r\n\t\t\t\t\tvalue.forEach(_value => {\r\n\t\t\t\t\t\t_result.push(key + '[]=' + _value)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'repeat':\r\n\t\t\t\t\t// 结果: ids=1&ids=2&ids=3\r\n\t\t\t\t\tvalue.forEach(_value => {\r\n\t\t\t\t\t\t_result.push(key + '=' + _value)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'comma':\r\n\t\t\t\t\t// 结果: ids=1,2,3\r\n\t\t\t\t\tlet commaStr = \"\";\r\n\t\t\t\t\tvalue.forEach(_value => {\r\n\t\t\t\t\t\tcommaStr += (commaStr ? \",\" : \"\") + _value;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t_result.push(key + '=' + commaStr)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tvalue.forEach(_value => {\r\n\t\t\t\t\t\t_result.push(key + '[]=' + _value)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t_result.push(key + '=' + value)\r\n\t\t}\r\n\t}\r\n\treturn _result.length ? prefix + _result.join('&') : ''\r\n}\r\n\r\nexport default queryParams;\r\n","import queryParams from '../../libs/function/queryParams.js';\r\n/**\r\n * 路由跳转\r\n * 注意:本方法没有对跳转的回调函数进行封装\r\n */\r\nfunction route(options = {}, params = false) {\r\n\tlet config = {\r\n\t\ttype: 'navigateTo',\r\n\t\turl: '',\r\n\t\tdelta: 1, // navigateBack页面后退时,回退的层数\r\n\t\tparams: {}, // 传递的参数\r\n\t\tanimationType: 'pop-in', // 窗口动画,只在APP有效\r\n\t\tanimationDuration: 300, // 窗口动画持续时间,单位毫秒,只在APP有效\r\n\t};\r\n\tconfig = Object.assign(config, options);\r\n\t// 如果url没有\"/\"开头，添加上，因为uni的路由跳转需要\"/\"开头\r\n\tif (config.url[0] != '/') config.url = '/' + config.url;\r\n\t// 判断是否有传递显式的参数,Object.keys转为数组并判断长度,switchTab类型时不能携带参数\r\n\tif (Object.keys(config.params).length && config.type != 'switchTab') {\r\n\t\t// 判断用户传递的url中，是否带有参数\r\n\t\t// 使用正则匹配，主要依据是判断是否有\"/\",\"?\",\"=\"等，如“/page/index/index?name=mary\"\r\n\t\t// 如果有url中有get参数，转换后无需带上\"?\"\r\n\t\tlet query = '';\r\n\t\tif (/.*\\/.*\\?.*=.*/.test(config.url)) {\r\n\t\t\t// object对象转为get类型的参数\r\n\t\t\tquery = queryParams(config.params, false);\r\n\t\t\t// 因为已有get参数,所以后面拼接的参数需要带上\"&\"隔开\r\n\t\t\tconfig.url += \"&\" + query;\r\n\t\t} else {\r\n\t\t\tquery = queryParams(config.params);\r\n\t\t\tconfig.url += query;\r\n\t\t}\r\n\t}\r\n\t// 简写形式，把url和参数拼接起来\r\n\tif (typeof options === 'string' && typeof params == 'object') {\r\n\t\tlet query = '';\r\n\t\tif (/.*\\/.*\\?.*=.*/.test(options)) {\r\n\t\t\t// object对象转为get类型的参数\r\n\t\t\tquery = queryParams(params, false);\r\n\t\t\t// 因为已有get参数,所以后面拼接的参数需要带上\"&\"隔开\r\n\t\t\toptions += \"&\" + query;\r\n\t\t} else {\r\n\t\t\tquery = queryParams(params);\r\n\t\t\toptions += query;\r\n\t\t}\r\n\t}\r\n\t// 判断是否一个字符串，如果是，直接跳转(简写法)\r\n\t// 如果是中情形，默认第二个参数为对象形式的参数\r\n\tif (typeof options === 'string') {\r\n\t\tif (options[0] != '/') options = '/' + options;\r\n\t\treturn uni.navigateTo({\r\n\t\t\turl: options\r\n\t\t});\r\n\t}\r\n\t// navigateTo类型的跳转\r\n\tif (config.type == 'navigateTo' || config.type == 'to') {\r\n\t\treturn uni.navigateTo({\r\n\t\t\turl: config.url,\r\n\t\t\tanimationType: config.animationType,\r\n\t\t\tanimationDuration: config.animationDuration,\r\n\t\t});\r\n\t}\r\n\tif (config.type == 'redirectTo' || config.type == 'redirect') {\r\n\t\treturn uni.redirectTo({\r\n\t\t\turl: config.url,\r\n\t\t});\r\n\t}\r\n\tif (config.type == 'switchTab' || config.type == 'tab') {\r\n\t\treturn uni.switchTab({\r\n\t\t\turl: config.url,\r\n\t\t});\r\n\t}\r\n\tif (config.type == 'reLaunch') {\r\n\t\treturn uni.reLaunch({\r\n\t\t\turl: config.url\r\n\t\t});\r\n\t}\r\n\tif (config.type == 'navigateBack' || config.type == 'back') {\r\n\t\treturn uni.navigateBack({\r\n\t\t\tdelta: parseInt(config.delta ? config.delta : this.delta)\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default route;\r\n","// padStart 的 polyfill，因为某些机型或情况，还无法支持es7的padStart，比如电脑版的微信小程序\r\n// 所以这里做一个兼容polyfill的兼容处理\r\nif (!String.prototype.padStart) {\r\n\t// 为了方便表示这里 fillString 用了ES6 的默认参数，不影响理解\r\n\tString.prototype.padStart = function(maxLength, fillString = ' ') {\r\n\t\tif (Object.prototype.toString.call(fillString) !== \"[object String]\") throw new TypeError(\r\n\t\t\t'fillString must be String')\r\n\t\tlet str = this\r\n\t\t// 返回 String(str) 这里是为了使返回的值是字符串字面量，在控制台中更符合直觉\r\n\t\tif (str.length >= maxLength) return String(str)\r\n\r\n\t\tlet fillLength = maxLength - str.length,\r\n\t\t\ttimes = Math.ceil(fillLength / fillString.length)\r\n\t\twhile (times >>= 1) {\r\n\t\t\tfillString += fillString\r\n\t\t\tif (times === 1) {\r\n\t\t\t\tfillString += fillString\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn fillString.slice(0, fillLength) + str;\r\n\t}\r\n}\r\n\r\nfunction timeFormat(timestamp = null, fmt = 'yyyy-mm-dd') {\r\n\t// 其他更多是格式化有如下:\r\n\t// yyyy:mm:dd|yyyy:mm|yyyy年mm月dd日|yyyy年mm月dd日 hh时MM分等,可自定义组合\r\n\ttimestamp = parseInt(timestamp);\r\n\t// 如果为null,则格式化当前时间\r\n\tif (!timestamp) timestamp = Number(new Date());\r\n\t// 判断用户输入的时间戳是秒还是毫秒,一般前端js获取的时间戳是毫秒(13位),后端传过来的为秒(10位)\r\n\tif (timestamp.toString().length == 10) timestamp *= 1000;\r\n\tlet date = new Date(timestamp);\r\n\tlet ret;\r\n\tlet opt = {\r\n\t\t\"y+\": date.getFullYear().toString(), // 年\r\n\t\t\"m+\": (date.getMonth() + 1).toString(), // 月\r\n\t\t\"d+\": date.getDate().toString(), // 日\r\n\t\t\"h+\": date.getHours().toString(), // 时\r\n\t\t\"M+\": date.getMinutes().toString(), // 分\r\n\t\t\"s+\": date.getSeconds().toString() // 秒\r\n\t\t// 有其他格式化字符需求可以继续添加，必须转化成字符串\r\n\t};\r\n\tfor (let k in opt) {\r\n\t\tret = new RegExp(\"(\" + k + \")\").exec(fmt);\r\n\t\tif (ret) {\r\n\t\t\tfmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (opt[k].padStart(ret[1].length, \"0\")))\r\n\t\t};\r\n\t};\r\n\treturn fmt;\r\n}\r\n\r\nexport default timeFormat\r\n","import timeFormat from '../../libs/function/timeFormat.js';\r\n\r\n/**\r\n * 时间戳转为多久之前\r\n * @param String timestamp 时间戳\r\n * @param String | Boolean format 如果为时间格式字符串，超出一定时间范围，返回固定的时间格式；\r\n * 如果为布尔值false，无论什么时间，都返回多久以前的格式\r\n */\r\nfunction timeFrom(timestamp = null, format = 'yyyy-mm-dd') {\r\n\tif (timestamp == null) timestamp = Number(new Date());\r\n\ttimestamp = parseInt(timestamp);\r\n\t// 判断用户输入的时间戳是秒还是毫秒,一般前端js获取的时间戳是毫秒(13位),后端传过来的为秒(10位)\r\n\tif (timestamp.toString().length == 10) timestamp *= 1000;\r\n\tvar timer = (new Date()).getTime() - timestamp;\r\n\ttimer = parseInt(timer / 1000);\r\n\t// 如果小于5分钟,则返回\"刚刚\",其他以此类推\r\n\tlet tips = '';\r\n\tswitch (true) {\r\n\t\tcase timer < 300:\r\n\t\t\ttips = '刚刚';\r\n\t\t\tbreak;\r\n\t\tcase timer >= 300 && timer < 3600:\r\n\t\t\ttips = parseInt(timer / 60) + '分钟前';\r\n\t\t\tbreak;\r\n\t\tcase timer >= 3600 && timer < 86400:\r\n\t\t\ttips = parseInt(timer / 3600) + '小时前';\r\n\t\t\tbreak;\r\n\t\tcase timer >= 86400 && timer < 2592000:\r\n\t\t\ttips = parseInt(timer / 86400) + '天前';\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\t// 如果format为false，则无论什么时间戳，都显示xx之前\r\n\t\t\tif(format === false) {\r\n\t\t\t\tif(timer >= 2592000 && timer < 365 * 86400) {\r\n\t\t\t\t\ttips = parseInt(timer / (86400 * 30)) + '个月前';\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttips = parseInt(timer / (86400 * 365)) + '年前';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttips = timeFormat(timestamp, format);\r\n\t\t\t}\r\n\t}\r\n\treturn tips;\r\n}\r\n\r\nexport default timeFrom;\r\n","/**\n * 求两个颜色之间的渐变值\n * @param {string} startColor 开始的颜色\n * @param {string} endColor 结束的颜色\n * @param {number} step 颜色等分的份额\n * */\nfunction colorGradient(startColor = 'rgb(0, 0, 0)', endColor = 'rgb(255, 255, 255)', step = 10) {\n\tlet startRGB = hexToRgb(startColor, false); //转换为rgb数组模式\n\tlet startR = startRGB[0];\n\tlet startG = startRGB[1];\n\tlet startB = startRGB[2];\n\n\tlet endRGB = hexToRgb(endColor, false);\n\tlet endR = endRGB[0];\n\tlet endG = endRGB[1];\n\tlet endB = endRGB[2];\n\n\tlet sR = (endR - startR) / step; //总差值\n\tlet sG = (endG - startG) / step;\n\tlet sB = (endB - startB) / step;\n\tlet colorArr = [];\n\tfor (let i = 0; i < step; i++) {\n\t\t//计算每一步的hex值 \n\t\tlet hex = rgbToHex('rgb(' + Math.round((sR * i + startR)) + ',' + Math.round((sG * i + startG)) + ',' + Math.round((sB *\n\t\t\ti + startB)) + ')');\n\t\tcolorArr.push(hex);\n\t}\n\treturn colorArr;\n}\n\n// 将hex表示方式转换为rgb表示方式(这里返回rgb数组模式)\nfunction hexToRgb(sColor, str = true) {\n\tlet reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;\n\tsColor = sColor.toLowerCase();\n\tif (sColor && reg.test(sColor)) {\n\t\tif (sColor.length === 4) {\n\t\t\tlet sColorNew = \"#\";\n\t\t\tfor (let i = 1; i < 4; i += 1) {\n\t\t\t\tsColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1));\n\t\t\t}\n\t\t\tsColor = sColorNew;\n\t\t}\n\t\t//处理六位的颜色值\n\t\tlet sColorChange = [];\n\t\tfor (let i = 1; i < 7; i += 2) {\n\t\t\tsColorChange.push(parseInt(\"0x\" + sColor.slice(i, i + 2)));\n\t\t}\n\t\tif(!str) {\n\t\t\treturn sColorChange;\n\t\t} else {\n\t\t\treturn `rgb(${sColorChange[0]},${sColorChange[1]},${sColorChange[2]})`;\n\t\t}\n\t} else if (/^(rgb|RGB)/.test(sColor)) {\n\t\tlet arr = sColor.replace(/(?:\\(|\\)|rgb|RGB)*/g, \"\").split(\",\")\n\t\treturn arr.map(val => Number(val));\n\t} else {\n\t\treturn sColor;\n\t}\n};\n\n// 将rgb表示方式转换为hex表示方式\nfunction rgbToHex(rgb) {\n\tlet _this = rgb;\n\tlet reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;\n\tif (/^(rgb|RGB)/.test(_this)) {\n\t\tlet aColor = _this.replace(/(?:\\(|\\)|rgb|RGB)*/g, \"\").split(\",\");\n\t\tlet strHex = \"#\";\n\t\tfor (let i = 0; i < aColor.length; i++) {\n\t\t\tlet hex = Number(aColor[i]).toString(16);\n\t\t\thex = String(hex).length == 1 ? 0 + '' + hex : hex; // 保证每个rgb的值为2位\n\t\t\tif (hex === \"0\") {\n\t\t\t\thex += hex;\n\t\t\t}\n\t\t\tstrHex += hex;\n\t\t}\n\t\tif (strHex.length !== 7) {\n\t\t\tstrHex = _this;\n\t\t}\n\t\treturn strHex;\n\t} else if (reg.test(_this)) {\n\t\tlet aNum = _this.replace(/#/, \"\").split(\"\");\n\t\tif (aNum.length === 6) {\n\t\t\treturn _this;\n\t\t} else if (aNum.length === 3) {\n\t\t\tlet numHex = \"#\";\n\t\t\tfor (let i = 0; i < aNum.length; i += 1) {\n\t\t\t\tnumHex += (aNum[i] + aNum[i]);\n\t\t\t}\n\t\t\treturn numHex;\n\t\t}\n\t} else {\n\t\treturn _this;\n\t}\n}\n\nexport default {\n\tcolorGradient,\n\thexToRgb,\n\trgbToHex\n}","/**\r\n * 本算法来源于简书开源代码，详见：https://www.jianshu.com/p/fdbf293d0a85\r\n * 全局唯一标识符（uuid，Globally Unique Identifier）,也称作 uuid(Universally Unique IDentifier) \r\n * 一般用于多个组件之间,给它一个唯一的标识符,或者v-for循环的时候,如果使用数组的index可能会导致更新列表出现问题\r\n * 最可能的情况是左滑删除item或者对某条信息流\"不喜欢\"并去掉它的时候,会导致组件内的数据可能出现错乱\r\n * v-for的时候,推荐使用后端返回的id而不是循环的index\r\n * @param {Number} len uuid的长度\r\n * @param {Boolean} firstU 将返回的首字母置为\"u\"\r\n * @param {Nubmer} radix 生成uuid的基数(意味着返回的字符串都是这个基数),2-二进制,8-八进制,10-十进制,16-十六进制\r\n */\r\nfunction guid(len = 32, firstU = true, radix = null) {\r\n\tlet chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\r\n\tlet uuid = [];\r\n\tradix = radix || chars.length;\r\n\r\n\tif (len) {\r\n\t\t// 如果指定uuid长度,只是取随机的字符,0|x为位运算,能去掉x的小数位,返回整数位\r\n\t\tfor (let i = 0; i < len; i++) uuid[i] = chars[0 | Math.random() * radix];\r\n\t} else {\r\n\t\tlet r;\r\n\t\t// rfc4122标准要求返回的uuid中,某些位为固定的字符\r\n\t\tuuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\r\n\t\tuuid[14] = '4';\r\n\r\n\t\tfor (let i = 0; i < 36; i++) {\r\n\t\t\tif (!uuid[i]) {\r\n\t\t\t\tr = 0 | Math.random() * 16;\r\n\t\t\t\tuuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// 移除第一个字符,并用u替代,因为第一个字符为数值时,该guuid不能用作id或者class\r\n\tif (firstU) {\r\n\t\tuuid.shift();\r\n\t\treturn 'u' + uuid.join('');\r\n\t} else {\r\n\t\treturn uuid.join('');\r\n\t}\r\n}\r\n\r\nexport default guid;\r\n","// 为了让用户能够自定义主题，会逐步弃用此文件，各颜色通过css提供\r\n// 为了给某些特殊场景使用和向后兼容，无需删除此文件(2020-06-20)\r\nlet color = {\r\n\tprimary: \"#2979ff\",\r\n\tprimaryDark: \"#2b85e4\",\r\n\tprimaryDisabled: \"#a0cfff\",\r\n\tprimaryLight: \"#ecf5ff\",\r\n\tbgColor: \"#f3f4f6\",\r\n\t\r\n\tinfo: \"#909399\",\r\n\tinfoDark: \"#82848a\",\r\n\tinfoDisabled: \"#c8c9cc\",\r\n\tinfoLight: \"#f4f4f5\",\r\n\t\r\n\twarning: \"#ff9900\",\r\n\twarningDark: \"#f29100\",\r\n\twarningDisabled: \"#fcbd71\",\r\n\twarningLight: \"#fdf6ec\",\r\n\t\r\n\terror: \"#fa3534\",\r\n\terrorDark: \"#dd6161\",\r\n\terrorDisabled: \"#fab6b6\",\r\n\terrorLight: \"#fef0f0\",\r\n\t\r\n\tsuccess: \"#19be6b\",\r\n\tsuccessDark: \"#18b566\",\r\n\tsuccessDisabled: \"#71d5a1\",\r\n\tsuccessLight: \"#dbf1e1\",\r\n\t\r\n\tmainColor: \"#303133\",\r\n\tcontentColor: \"#606266\",\r\n\ttipsColor: \"#909399\",\r\n\tlightColor: \"#c0c4cc\",\r\n\tborderColor: \"#e4e7ed\"\r\n}\r\n\r\nexport default color;","/**\r\n * 根据主题type值,获取对应的图标\r\n * @param String type 主题名称,primary|info|error|warning|success\r\n * @param String fill 是否使用fill填充实体的图标  \r\n */\r\nfunction type2icon(type = 'success', fill = false) {\r\n\t// 如果非预置值,默认为success\r\n\tif (['primary', 'info', 'error', 'warning', 'success'].indexOf(type) == -1) type = 'success';\r\n\tlet iconName = '';\r\n\t// 目前(2019-12-12),info和primary使用同一个图标\r\n\tswitch (type) {\r\n\t\tcase 'primary':\r\n\t\t\ticonName = 'info-circle';\r\n\t\t\tbreak;\r\n\t\tcase 'info':\r\n\t\t\ticonName = 'info-circle';\r\n\t\t\tbreak;\r\n\t\tcase 'error':\r\n\t\t\ticonName = 'close-circle';\r\n\t\t\tbreak;\r\n\t\tcase 'warning':\r\n\t\t\ticonName = 'error-circle';\r\n\t\t\tbreak;\r\n\t\tcase 'success':\r\n\t\t\ticonName = 'checkmark-circle';\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\ticonName = 'checkmark-circle';\r\n\t}\r\n\t// 是否是实体类型,加上-fill,在icon组件库中,实体的类名是后面加-fill的\r\n\tif (fill) iconName += '-fill';\r\n\treturn iconName;\r\n}\r\n\r\nexport default type2icon\r\n","// 打乱数组\r\nfunction randomArray(array = []) {\r\n\t// 原理是sort排序,Math.random()产生0<= x < 1之间的数,会导致x-0.05大于或者小于0\r\n\treturn array.sort(() => Math.random() - 0.5);\r\n}\r\n\r\nexport default randomArray\r\n","import validation from './test.js';\r\n\r\n// 添加单位，如果有rpx，%，px等单位结尾或者值为auto，直接返回，否则加上rpx单位结尾\r\nexport default function addUnit(value = 'auto', unit = 'rpx') {\r\n    value = String(value);\r\n\t// 用uView内置验证规则中的number判断是否为数值\r\n    return validation.number(value) ? `${value}${unit}` : value;\r\n}","function random(min, max) {\r\n\tif (min >= 0 && max > 0 && max >= min) {\r\n\t\tlet gab = max - min + 1;\r\n\t\treturn Math.floor(Math.random() * gab + min);\r\n\t} else {\r\n\t\treturn 0;\r\n\t}\r\n}\r\n\r\nexport default random;\r\n","function trim(str, pos = 'both') {\r\n\tif (pos == 'both') {\r\n\t\treturn str.replace(/^\\s+|\\s+$/g, \"\");\r\n\t} else if (pos == \"left\") {\r\n\t\treturn str.replace(/^\\s*/, '');\r\n\t} else if (pos == 'right') {\r\n\t\treturn str.replace(/(\\s*$)/g, \"\");\r\n\t} else if (pos == 'all') {\r\n\t\treturn str.replace(/\\s+/g, \"\");\r\n\t} else {\r\n\t\treturn str;\r\n\t}\r\n}\r\n\r\nexport default trim\r\n","function toast(title, duration = 1500) {\r\n\tuni.showToast({\r\n\t\ttitle: title,\r\n\t\ticon: 'none',\r\n\t\tduration: duration\r\n\t})\r\n}\r\n\r\nexport default toast\r\n","// 获取父组件的参数，因为支付宝小程序不支持provide/inject的写法\r\n// this.$parent在非H5中，可以准确获取到父组件，但是在H5中，需要多次this.$parent.$parent.xxx\r\nexport default function getParent(name, keys) {\r\n\tlet parent = this.$parent;\r\n\t// 通过while历遍，这里主要是为了H5需要多层解析的问题\r\n\twhile (parent) {\r\n\t\t// 父组件\r\n\t\tif (parent.$options.name !== name) {\r\n\t\t\t// 如果组件的name不相等，继续上一级寻找\r\n\t\t\tparent = parent.$parent;\r\n\t\t} else {\r\n\t\t\tlet data = {};\r\n\t\t\t// 判断keys是否数组，如果传过来的是一个数组，那么直接使用数组元素值当做键值去父组件寻找\r\n\t\t\tif(Array.isArray(keys)) {\r\n\t\t\t\tkeys.map(val => {\r\n\t\t\t\t\tdata[val] = parent[val] ? parent[val] : '';\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// 历遍传过来的对象参数\r\n\t\t\t\tfor(let i in keys) {\r\n\t\t\t\t\t// 如果子组件有此值则用，无此值则用父组件的值\r\n\t\t\t\t\t// 判断是否空数组，如果是，则用父组件的值，否则用子组件的值\r\n\t\t\t\t\tif(Array.isArray(keys[i])) {\r\n\t\t\t\t\t\tif(keys[i].length) {\r\n\t\t\t\t\t\t\tdata[i] = keys[i];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdata[i] = parent[i];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if(keys[i].constructor === Object) {\r\n\t\t\t\t\t\t// 判断是否对象，如果是对象，且有属性，那么使用子组件的值，否则使用父组件的值\r\n\t\t\t\t\t\tif(Object.keys(keys[i]).length) {\r\n\t\t\t\t\t\t\tdata[i] = keys[i];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdata[i] = parent[i];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 只要子组件有传值，即使是false值，也是“传值”了，也需要覆盖父组件的同名参数\r\n\t\t\t\t\t\tdata[i] = (keys[i] || keys[i] === false) ? keys[i] : parent[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn data;\r\n\t\t}\r\n\t}\r\n\r\n\treturn {};\r\n}","// 获取父组件的参数，因为支付宝小程序不支持provide/inject的写法\r\n// this.$parent在非H5中，可以准确获取到父组件，但是在H5中，需要多次this.$parent.$parent.xxx\r\n// 这里默认值等于undefined有它的含义，因为最顶层元素(组件)的$parent就是undefined，意味着不传name\r\n// 值(默认为undefined)，就是查找最顶层的$parent\r\nexport default function $parent(name = undefined) {\r\n\tlet parent = this.$parent;\r\n\t// 通过while历遍，这里主要是为了H5需要多层解析的问题\r\n\twhile (parent) {\r\n\t\t// 父组件\r\n\t\tif (parent.$options && parent.$options.name !== name) {\r\n\t\t\t// 如果组件的name不相等，继续上一级寻找\r\n\t\t\tparent = parent.$parent;\r\n\t\t} else {\r\n\t\t\treturn parent;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}","export function os() {\r\n\treturn uni.getSystemInfoSync().platform;\r\n};\r\n\r\nexport function sys() {\r\n\treturn uni.getSystemInfoSync();\r\n}\r\n\r\n\r\n","let timeout = null;\r\n\r\n/**\r\n * 防抖原理：一定时间内，只有最后一次操作，再过wait毫秒后才执行函数\r\n * \r\n * @param {Function} func 要执行的回调函数 \r\n * @param {Number} wait 延时的时间\r\n * @param {Boolean} immediate 是否立即执行 \r\n * @return null\r\n */\r\nfunction debounce(func, wait = 500, immediate = false) {\r\n\t// 清除定时器\r\n\tif (timeout !== null) clearTimeout(timeout);\r\n\t// 立即执行，此类情况一般用不到\r\n\tif (immediate) {\r\n\t\tvar callNow = !timeout;\r\n\t\ttimeout = setTimeout(function() {\r\n\t\t\ttimeout = null;\r\n\t\t}, wait);\r\n\t\tif (callNow) typeof func === 'function' && func();\r\n\t} else {\r\n\t\t// 设置定时器，当最后一次操作后，timeout不会再被清除，所以在延时wait毫秒后执行func回调方法\r\n\t\ttimeout = setTimeout(function() {\r\n\t\t\ttypeof func === 'function' && func();\r\n\t\t}, wait);\r\n\t}\r\n}\r\n\r\nexport default debounce\r\n","let timer, flag;\r\n/**\r\n * 节流原理：在一定时间内，只能触发一次\r\n * \r\n * @param {Function} func 要执行的回调函数 \r\n * @param {Number} wait 延时的时间\r\n * @param {Boolean} immediate 是否立即执行\r\n * @return null\r\n */\r\nfunction throttle(func, wait = 500, immediate = true) {\r\n\tif (immediate) {\r\n\t\tif (!flag) {\r\n\t\t\tflag = true;\r\n\t\t\t// 如果是立即执行，则在wait毫秒内开始时执行\r\n\t\t\ttypeof func === 'function' && func();\r\n\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\tflag = false;\r\n\t\t\t}, wait);\r\n\t\t}\r\n\t} else {\r\n\t\tif (!flag) {\r\n\t\t\tflag = true\r\n\t\t\t// 如果是非立即执行，则在wait毫秒内的结束处执行\r\n\t\t\ttimer = setTimeout(() => {\r\n\t\t\t\tflag = false\r\n\t\t\t\ttypeof func === 'function' && func();\r\n\t\t\t}, wait);\r\n\t\t}\r\n\t\t\r\n\t}\r\n};\r\nexport default throttle\r\n","// 此版本发布于2020-10-16\r\nlet version = '1.7.7';\r\n\r\nexport default {\r\n\tv: version,\r\n\tversion: version,\r\n\t// 主题名称\r\n\ttype: [\r\n\t\t'primary',\r\n\t\t'success',\r\n\t\t'info',\r\n\t\t'error',\r\n\t\t'warning'\r\n\t]\r\n}","// uniapp在H5中各API的z-index值如下：\r\n/**\r\n * actionsheet: 999\r\n * modal: 999\r\n * navigate: 998\r\n * tabbar: 998\r\n * toast: 999\r\n */\r\n\r\nexport default {\r\n\ttoast: 10090,\r\n\tnoNetwork: 10080,\r\n\t// popup包含popup，actionsheet，keyboard，picker的值\r\n\tpopup: 10075,\r\n\tmask: 10070,\r\n\tnavbar: 980,\r\n\ttopTips: 975,\r\n\tsticky: 970,\r\n\tindexListSticky: 965,\r\n}"],"sourceRoot":""}